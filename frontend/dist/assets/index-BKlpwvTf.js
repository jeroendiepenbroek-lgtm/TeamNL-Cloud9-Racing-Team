var wu=e=>{throw TypeError(e)};var ai=(e,t,r)=>t.has(e)||wu("Cannot "+r);var N=(e,t,r)=>(ai(e,t,"read from private field"),r?r.call(e):t.get(e)),G=(e,t,r)=>t.has(e)?wu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),W=(e,t,r,n)=>(ai(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ee=(e,t,r)=>(ai(e,t,"access private method"),r);var sa=(e,t,r,n)=>({set _(l){W(e,t,l,r)},get _(){return N(e,t,n)}});function mx(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const l in n)if(l!=="default"&&!(l in e)){const a=Object.getOwnPropertyDescriptor(n,l);a&&Object.defineProperty(e,l,a.get?a:{enumerable:!0,get:()=>n[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(l){if(l.ep)return;l.ep=!0;const a=r(l);fetch(l.href,a)}})();function px(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Th={exports:{}},Ro={},Oh={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hl=Symbol.for("react.element"),xx=Symbol.for("react.portal"),gx=Symbol.for("react.fragment"),vx=Symbol.for("react.strict_mode"),yx=Symbol.for("react.profiler"),bx=Symbol.for("react.provider"),wx=Symbol.for("react.context"),jx=Symbol.for("react.forward_ref"),Nx=Symbol.for("react.suspense"),kx=Symbol.for("react.memo"),_x=Symbol.for("react.lazy"),ju=Symbol.iterator;function Cx(e){return e===null||typeof e!="object"?null:(e=ju&&e[ju]||e["@@iterator"],typeof e=="function"?e:null)}var Lh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fh=Object.assign,$h={};function Ps(e,t,r){this.props=e,this.context=t,this.refs=$h,this.updater=r||Lh}Ps.prototype.isReactComponent={};Ps.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ps.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ah(){}Ah.prototype=Ps.prototype;function ad(e,t,r){this.props=e,this.context=t,this.refs=$h,this.updater=r||Lh}var od=ad.prototype=new Ah;od.constructor=ad;Fh(od,Ps.prototype);od.isPureReactComponent=!0;var Nu=Array.isArray,Ih=Object.prototype.hasOwnProperty,id={current:null},zh={key:!0,ref:!0,__self:!0,__source:!0};function Bh(e,t,r){var n,l={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Ih.call(t,n)&&!zh.hasOwnProperty(n)&&(l[n]=t[n]);var i=arguments.length-2;if(i===1)l.children=r;else if(1<i){for(var c=Array(i),d=0;d<i;d++)c[d]=arguments[d+2];l.children=c}if(e&&e.defaultProps)for(n in i=e.defaultProps,i)l[n]===void 0&&(l[n]=i[n]);return{$$typeof:Hl,type:e,key:a,ref:o,props:l,_owner:id.current}}function Sx(e,t){return{$$typeof:Hl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hl}function Ex(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ku=/\/+/g;function oi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ex(""+e.key):t.toString(36)}function Ra(e,t,r,n,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Hl:case xx:o=!0}}if(o)return o=e,l=l(o),e=n===""?"."+oi(o,0):n,Nu(l)?(r="",e!=null&&(r=e.replace(ku,"$&/")+"/"),Ra(l,t,r,"",function(d){return d})):l!=null&&(cd(l)&&(l=Sx(l,r+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(ku,"$&/")+"/")+e)),t.push(l)),1;if(o=0,n=n===""?".":n+":",Nu(e))for(var i=0;i<e.length;i++){a=e[i];var c=n+oi(a,i);o+=Ra(a,t,r,c,l)}else if(c=Cx(e),typeof c=="function")for(e=c.call(e),i=0;!(a=e.next()).done;)a=a.value,c=n+oi(a,i++),o+=Ra(a,t,r,c,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function la(e,t,r){if(e==null)return e;var n=[],l=0;return Ra(e,n,"","",function(a){return t.call(r,a,l++)}),n}function Rx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tt={current:null},Ma={transition:null},Mx={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:Ma,ReactCurrentOwner:id};function Uh(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:la,forEach:function(e,t,r){la(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return la(e,function(){t++}),t},toArray:function(e){return la(e,function(t){return t})||[]},only:function(e){if(!cd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=Ps;te.Fragment=gx;te.Profiler=yx;te.PureComponent=ad;te.StrictMode=vx;te.Suspense=Nx;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mx;te.act=Uh;te.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Fh({},e.props),l=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=id.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)Ih.call(t,c)&&!zh.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){i=Array(c);for(var d=0;d<c;d++)i[d]=arguments[d+2];n.children=i}return{$$typeof:Hl,type:e.type,key:l,ref:a,props:n,_owner:o}};te.createContext=function(e){return e={$$typeof:wx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bx,_context:e},e.Consumer=e};te.createElement=Bh;te.createFactory=function(e){var t=Bh.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:jx,render:e}};te.isValidElement=cd;te.lazy=function(e){return{$$typeof:_x,_payload:{_status:-1,_result:e},_init:Rx}};te.memo=function(e,t){return{$$typeof:kx,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=Ma.transition;Ma.transition={};try{e()}finally{Ma.transition=t}};te.unstable_act=Uh;te.useCallback=function(e,t){return tt.current.useCallback(e,t)};te.useContext=function(e){return tt.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return tt.current.useDeferredValue(e)};te.useEffect=function(e,t){return tt.current.useEffect(e,t)};te.useId=function(){return tt.current.useId()};te.useImperativeHandle=function(e,t,r){return tt.current.useImperativeHandle(e,t,r)};te.useInsertionEffect=function(e,t){return tt.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return tt.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return tt.current.useMemo(e,t)};te.useReducer=function(e,t,r){return tt.current.useReducer(e,t,r)};te.useRef=function(e){return tt.current.useRef(e)};te.useState=function(e){return tt.current.useState(e)};te.useSyncExternalStore=function(e,t,r){return tt.current.useSyncExternalStore(e,t,r)};te.useTransition=function(){return tt.current.useTransition()};te.version="18.3.1";Oh.exports=te;var m=Oh.exports;const xe=px(m),Dx=mx({__proto__:null,default:xe},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Px=m,Tx=Symbol.for("react.element"),Ox=Symbol.for("react.fragment"),Lx=Object.prototype.hasOwnProperty,Fx=Px.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$x={key:!0,ref:!0,__self:!0,__source:!0};function Vh(e,t,r){var n,l={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Lx.call(t,n)&&!$x.hasOwnProperty(n)&&(l[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)l[n]===void 0&&(l[n]=t[n]);return{$$typeof:Tx,type:e,key:a,ref:o,props:l,_owner:Fx.current}}Ro.Fragment=Ox;Ro.jsx=Vh;Ro.jsxs=Vh;Th.exports=Ro;var s=Th.exports,Wh={exports:{}},vt={},Hh={exports:{}},Qh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,A){var V=L.length;L.push(A);e:for(;0<V;){var X=V-1>>>1,Y=L[X];if(0<l(Y,A))L[X]=A,L[V]=Y,V=X;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var A=L[0],V=L.pop();if(V!==A){L[0]=V;e:for(var X=0,Y=L.length,de=Y>>>1;X<de;){var he=2*(X+1)-1,Te=L[he],E=he+1,k=L[E];if(0>l(Te,V))E<Y&&0>l(k,Te)?(L[X]=k,L[E]=V,X=E):(L[X]=Te,L[he]=V,X=he);else if(E<Y&&0>l(k,V))L[X]=k,L[E]=V,X=E;else break e}}return A}function l(L,A){var V=L.sortIndex-A.sortIndex;return V!==0?V:L.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var c=[],d=[],u=1,h=null,f=3,p=!1,y=!1,j=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(L){for(var A=r(d);A!==null;){if(A.callback===null)n(d);else if(A.startTime<=L)n(d),A.sortIndex=A.expirationTime,t(c,A);else break;A=r(d)}}function b(L){if(j=!1,v(L),!y)if(r(c)!==null)y=!0,fe(R);else{var A=r(d);A!==null&&M(b,A.startTime-L)}}function R(L,A){y=!1,j&&(j=!1,g(_),_=-1),p=!0;var V=f;try{for(v(A),h=r(c);h!==null&&(!(h.expirationTime>A)||L&&!$());){var X=h.callback;if(typeof X=="function"){h.callback=null,f=h.priorityLevel;var Y=X(h.expirationTime<=A);A=e.unstable_now(),typeof Y=="function"?h.callback=Y:h===r(c)&&n(c),v(A)}else n(c);h=r(c)}if(h!==null)var de=!0;else{var he=r(d);he!==null&&M(b,he.startTime-A),de=!1}return de}finally{h=null,f=V,p=!1}}var T=!1,O=null,_=-1,S=5,C=-1;function $(){return!(e.unstable_now()-C<S)}function B(){if(O!==null){var L=e.unstable_now();C=L;var A=!0;try{A=O(!0,L)}finally{A?U():(T=!1,O=null)}}else T=!1}var U;if(typeof x=="function")U=function(){x(B)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Z=z.port2;z.port1.onmessage=B,U=function(){Z.postMessage(null)}}else U=function(){w(B,0)};function fe(L){O=L,T||(T=!0,U())}function M(L,A){_=w(function(){L(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,fe(R))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var V=f;f=A;try{return L()}finally{f=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,A){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var V=f;f=L;try{return A()}finally{f=V}},e.unstable_scheduleCallback=function(L,A,V){var X=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?X+V:X):V=X,L){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=V+Y,L={id:u++,callback:A,priorityLevel:L,startTime:V,expirationTime:Y,sortIndex:-1},V>X?(L.sortIndex=V,t(d,L),r(c)===null&&L===r(d)&&(j?(g(_),_=-1):j=!0,M(b,V-X))):(L.sortIndex=Y,t(c,L),y||p||(y=!0,fe(R))),L},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(L){var A=f;return function(){var V=f;f=A;try{return L.apply(this,arguments)}finally{f=V}}}})(Qh);Hh.exports=Qh;var Ax=Hh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ix=m,gt=Ax;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kh=new Set,vl={};function In(e,t){_s(e,t),_s(e+"Capture",t)}function _s(e,t){for(vl[e]=t,e=0;e<t.length;e++)Kh.add(t[e])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zi=Object.prototype.hasOwnProperty,zx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_u={},Cu={};function Bx(e){return zi.call(Cu,e)?!0:zi.call(_u,e)?!1:zx.test(e)?Cu[e]=!0:(_u[e]=!0,!1)}function Ux(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Vx(e,t,r,n){if(t===null||typeof t>"u"||Ux(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,r,n,l,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var dd=/[\-:]([a-z])/g;function ud(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(dd,ud);Ve[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(dd,ud);Ve[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(dd,ud);Ve[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function fd(e,t,r,n){var l=Ve.hasOwnProperty(t)?Ve[t]:null;(l!==null?l.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Vx(t,r,l,n)&&(r=null),n||l===null?Bx(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,n=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Nr=Ix.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,aa=Symbol.for("react.element"),Kn=Symbol.for("react.portal"),qn=Symbol.for("react.fragment"),hd=Symbol.for("react.strict_mode"),Bi=Symbol.for("react.profiler"),qh=Symbol.for("react.provider"),Gh=Symbol.for("react.context"),md=Symbol.for("react.forward_ref"),Ui=Symbol.for("react.suspense"),Vi=Symbol.for("react.suspense_list"),pd=Symbol.for("react.memo"),Pr=Symbol.for("react.lazy"),Yh=Symbol.for("react.offscreen"),Su=Symbol.iterator;function Ws(e){return e===null||typeof e!="object"?null:(e=Su&&e[Su]||e["@@iterator"],typeof e=="function"?e:null)}var je=Object.assign,ii;function Zs(e){if(ii===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ii=t&&t[1]||""}return`
`+ii+e}var ci=!1;function di(e,t){if(!e||ci)return"";ci=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var l=d.stack.split(`
`),a=n.stack.split(`
`),o=l.length-1,i=a.length-1;1<=o&&0<=i&&l[o]!==a[i];)i--;for(;1<=o&&0<=i;o--,i--)if(l[o]!==a[i]){if(o!==1||i!==1)do if(o--,i--,0>i||l[o]!==a[i]){var c=`
`+l[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=i);break}}}finally{ci=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Zs(e):""}function Wx(e){switch(e.tag){case 5:return Zs(e.type);case 16:return Zs("Lazy");case 13:return Zs("Suspense");case 19:return Zs("SuspenseList");case 0:case 2:case 15:return e=di(e.type,!1),e;case 11:return e=di(e.type.render,!1),e;case 1:return e=di(e.type,!0),e;default:return""}}function Wi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qn:return"Fragment";case Kn:return"Portal";case Bi:return"Profiler";case hd:return"StrictMode";case Ui:return"Suspense";case Vi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gh:return(e.displayName||"Context")+".Consumer";case qh:return(e._context.displayName||"Context")+".Provider";case md:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pd:return t=e.displayName||null,t!==null?t:Wi(e.type)||"Memo";case Pr:t=e._payload,e=e._init;try{return Wi(e(t))}catch{}}return null}function Hx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wi(t);case 8:return t===hd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function an(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qx(e){var t=Xh(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function oa(e){e._valueTracker||(e._valueTracker=Qx(e))}function Zh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Xh(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Qa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hi(e,t){var r=t.checked;return je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Eu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=an(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jh(e,t){t=t.checked,t!=null&&fd(e,"checked",t,!1)}function Qi(e,t){Jh(e,t);var r=an(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ki(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ki(e,t.type,an(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ru(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ki(e,t,r){(t!=="number"||Qa(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Js=Array.isArray;function as(e,t,r,n){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&n&&(e[r].defaultSelected=!0)}else{for(r=""+an(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,n&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function qi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(F(92));if(Js(r)){if(1<r.length)throw Error(F(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:an(r)}}function e0(e,t){var r=an(t.value),n=an(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Du(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function t0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?t0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ia,r0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ia=ia||document.createElement("div"),ia.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ia.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kx=["Webkit","ms","Moz","O"];Object.keys(ll).forEach(function(e){Kx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ll[t]=ll[e]})});function n0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ll.hasOwnProperty(e)&&ll[e]?(""+t).trim():t+"px"}function s0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,l=n0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,l):e[r]=l}}var qx=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yi(e,t){if(t){if(qx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function Xi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zi=null;function xd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ji=null,os=null,is=null;function Pu(e){if(e=ql(e)){if(typeof Ji!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Oo(t),Ji(e.stateNode,e.type,t))}}function l0(e){os?is?is.push(e):is=[e]:os=e}function a0(){if(os){var e=os,t=is;if(is=os=null,Pu(e),t)for(e=0;e<t.length;e++)Pu(t[e])}}function o0(e,t){return e(t)}function i0(){}var ui=!1;function c0(e,t,r){if(ui)return e(t,r);ui=!0;try{return o0(e,t,r)}finally{ui=!1,(os!==null||is!==null)&&(i0(),a0())}}function bl(e,t){var r=e.stateNode;if(r===null)return null;var n=Oo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(F(231,t,typeof r));return r}var ec=!1;if(gr)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){ec=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{ec=!1}function Gx(e,t,r,n,l,a,o,i,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var al=!1,Ka=null,qa=!1,tc=null,Yx={onError:function(e){al=!0,Ka=e}};function Xx(e,t,r,n,l,a,o,i,c){al=!1,Ka=null,Gx.apply(Yx,arguments)}function Zx(e,t,r,n,l,a,o,i,c){if(Xx.apply(this,arguments),al){if(al){var d=Ka;al=!1,Ka=null}else throw Error(F(198));qa||(qa=!0,tc=d)}}function zn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function d0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tu(e){if(zn(e)!==e)throw Error(F(188))}function Jx(e){var t=e.alternate;if(!t){if(t=zn(e),t===null)throw Error(F(188));return t!==e?null:e}for(var r=e,n=t;;){var l=r.return;if(l===null)break;var a=l.alternate;if(a===null){if(n=l.return,n!==null){r=n;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===r)return Tu(l),e;if(a===n)return Tu(l),t;a=a.sibling}throw Error(F(188))}if(r.return!==n.return)r=l,n=a;else{for(var o=!1,i=l.child;i;){if(i===r){o=!0,r=l,n=a;break}if(i===n){o=!0,n=l,r=a;break}i=i.sibling}if(!o){for(i=a.child;i;){if(i===r){o=!0,r=a,n=l;break}if(i===n){o=!0,n=a,r=l;break}i=i.sibling}if(!o)throw Error(F(189))}}if(r.alternate!==n)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?e:t}function u0(e){return e=Jx(e),e!==null?f0(e):null}function f0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=f0(e);if(t!==null)return t;e=e.sibling}return null}var h0=gt.unstable_scheduleCallback,Ou=gt.unstable_cancelCallback,eg=gt.unstable_shouldYield,tg=gt.unstable_requestPaint,Ce=gt.unstable_now,rg=gt.unstable_getCurrentPriorityLevel,gd=gt.unstable_ImmediatePriority,m0=gt.unstable_UserBlockingPriority,Ga=gt.unstable_NormalPriority,ng=gt.unstable_LowPriority,p0=gt.unstable_IdlePriority,Mo=null,Zt=null;function sg(e){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Mo,e,void 0,(e.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:og,lg=Math.log,ag=Math.LN2;function og(e){return e>>>=0,e===0?32:31-(lg(e)/ag|0)|0}var ca=64,da=4194304;function el(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ya(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,l=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var i=o&~l;i!==0?n=el(i):(a&=o,a!==0&&(n=el(a)))}else o=r&~l,o!==0?n=el(o):a!==0&&(n=el(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&l)&&(l=n&-n,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ft(t),l=1<<r,n|=e[r],t&=~l;return n}function ig(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cg(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Ft(a),i=1<<o,c=l[o];c===-1?(!(i&r)||i&n)&&(l[o]=ig(i,t)):c<=t&&(e.expiredLanes|=i),a&=~i}}function rc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function x0(){var e=ca;return ca<<=1,!(ca&4194240)&&(ca=64),e}function fi(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ql(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ft(t),e[t]=r}function dg(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-Ft(r),a=1<<l;t[l]=0,n[l]=-1,e[l]=-1,r&=~a}}function vd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ft(r),l=1<<n;l&t|e[n]&t&&(e[n]|=t),r&=~l}}var ce=0;function g0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var v0,yd,y0,b0,w0,nc=!1,ua=[],Yr=null,Xr=null,Zr=null,wl=new Map,jl=new Map,Lr=[],ug="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lu(e,t){switch(e){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":wl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(t.pointerId)}}function Qs(e,t,r,n,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[l]},t!==null&&(t=ql(t),t!==null&&yd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function fg(e,t,r,n,l){switch(t){case"focusin":return Yr=Qs(Yr,e,t,r,n,l),!0;case"dragenter":return Xr=Qs(Xr,e,t,r,n,l),!0;case"mouseover":return Zr=Qs(Zr,e,t,r,n,l),!0;case"pointerover":var a=l.pointerId;return wl.set(a,Qs(wl.get(a)||null,e,t,r,n,l)),!0;case"gotpointercapture":return a=l.pointerId,jl.set(a,Qs(jl.get(a)||null,e,t,r,n,l)),!0}return!1}function j0(e){var t=gn(e.target);if(t!==null){var r=zn(t);if(r!==null){if(t=r.tag,t===13){if(t=d0(r),t!==null){e.blockedOn=t,w0(e.priority,function(){y0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Da(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=sc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Zi=n,r.target.dispatchEvent(n),Zi=null}else return t=ql(r),t!==null&&yd(t),e.blockedOn=r,!1;t.shift()}return!0}function Fu(e,t,r){Da(e)&&r.delete(t)}function hg(){nc=!1,Yr!==null&&Da(Yr)&&(Yr=null),Xr!==null&&Da(Xr)&&(Xr=null),Zr!==null&&Da(Zr)&&(Zr=null),wl.forEach(Fu),jl.forEach(Fu)}function Ks(e,t){e.blockedOn===t&&(e.blockedOn=null,nc||(nc=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,hg)))}function Nl(e){function t(l){return Ks(l,e)}if(0<ua.length){Ks(ua[0],e);for(var r=1;r<ua.length;r++){var n=ua[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Yr!==null&&Ks(Yr,e),Xr!==null&&Ks(Xr,e),Zr!==null&&Ks(Zr,e),wl.forEach(t),jl.forEach(t),r=0;r<Lr.length;r++)n=Lr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Lr.length&&(r=Lr[0],r.blockedOn===null);)j0(r),r.blockedOn===null&&Lr.shift()}var cs=Nr.ReactCurrentBatchConfig,Xa=!0;function mg(e,t,r,n){var l=ce,a=cs.transition;cs.transition=null;try{ce=1,bd(e,t,r,n)}finally{ce=l,cs.transition=a}}function pg(e,t,r,n){var l=ce,a=cs.transition;cs.transition=null;try{ce=4,bd(e,t,r,n)}finally{ce=l,cs.transition=a}}function bd(e,t,r,n){if(Xa){var l=sc(e,t,r,n);if(l===null)ji(e,t,n,Za,r),Lu(e,n);else if(fg(l,e,t,r,n))n.stopPropagation();else if(Lu(e,n),t&4&&-1<ug.indexOf(e)){for(;l!==null;){var a=ql(l);if(a!==null&&v0(a),a=sc(e,t,r,n),a===null&&ji(e,t,n,Za,r),a===l)break;l=a}l!==null&&n.stopPropagation()}else ji(e,t,n,null,r)}}var Za=null;function sc(e,t,r,n){if(Za=null,e=xd(n),e=gn(e),e!==null)if(t=zn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=d0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Za=e,null}function N0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rg()){case gd:return 1;case m0:return 4;case Ga:case ng:return 16;case p0:return 536870912;default:return 16}default:return 16}}var Kr=null,wd=null,Pa=null;function k0(){if(Pa)return Pa;var e,t=wd,r=t.length,n,l="value"in Kr?Kr.value:Kr.textContent,a=l.length;for(e=0;e<r&&t[e]===l[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===l[a-n];n++);return Pa=l.slice(e,1<n?1-n:void 0)}function Ta(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fa(){return!0}function $u(){return!1}function yt(e){function t(r,n,l,a,o){this._reactName=r,this._targetInst=l,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(r=e[i],this[i]=r?r(a):a[i]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?fa:$u,this.isPropagationStopped=$u,this}return je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fa)},persist:function(){},isPersistent:fa}),t}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jd=yt(Ts),Kl=je({},Ts,{view:0,detail:0}),xg=yt(Kl),hi,mi,qs,Do=je({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qs&&(qs&&e.type==="mousemove"?(hi=e.screenX-qs.screenX,mi=e.screenY-qs.screenY):mi=hi=0,qs=e),hi)},movementY:function(e){return"movementY"in e?e.movementY:mi}}),Au=yt(Do),gg=je({},Do,{dataTransfer:0}),vg=yt(gg),yg=je({},Kl,{relatedTarget:0}),pi=yt(yg),bg=je({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),wg=yt(bg),jg=je({},Ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ng=yt(jg),kg=je({},Ts,{data:0}),Iu=yt(kg),_g={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sg[e])?!!t[e]:!1}function Nd(){return Eg}var Rg=je({},Kl,{key:function(e){if(e.key){var t=_g[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ta(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nd,charCode:function(e){return e.type==="keypress"?Ta(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ta(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mg=yt(Rg),Dg=je({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zu=yt(Dg),Pg=je({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nd}),Tg=yt(Pg),Og=je({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lg=yt(Og),Fg=je({},Do,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$g=yt(Fg),Ag=[9,13,27,32],kd=gr&&"CompositionEvent"in window,ol=null;gr&&"documentMode"in document&&(ol=document.documentMode);var Ig=gr&&"TextEvent"in window&&!ol,_0=gr&&(!kd||ol&&8<ol&&11>=ol),Bu=" ",Uu=!1;function C0(e,t){switch(e){case"keyup":return Ag.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gn=!1;function zg(e,t){switch(e){case"compositionend":return S0(t);case"keypress":return t.which!==32?null:(Uu=!0,Bu);case"textInput":return e=t.data,e===Bu&&Uu?null:e;default:return null}}function Bg(e,t){if(Gn)return e==="compositionend"||!kd&&C0(e,t)?(e=k0(),Pa=wd=Kr=null,Gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _0&&t.locale!=="ko"?null:t.data;default:return null}}var Ug={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ug[e.type]:t==="textarea"}function E0(e,t,r,n){l0(n),t=Ja(t,"onChange"),0<t.length&&(r=new jd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var il=null,kl=null;function Vg(e){I0(e,0)}function Po(e){var t=Zn(e);if(Zh(t))return e}function Wg(e,t){if(e==="change")return t}var R0=!1;if(gr){var xi;if(gr){var gi="oninput"in document;if(!gi){var Wu=document.createElement("div");Wu.setAttribute("oninput","return;"),gi=typeof Wu.oninput=="function"}xi=gi}else xi=!1;R0=xi&&(!document.documentMode||9<document.documentMode)}function Hu(){il&&(il.detachEvent("onpropertychange",M0),kl=il=null)}function M0(e){if(e.propertyName==="value"&&Po(kl)){var t=[];E0(t,kl,e,xd(e)),c0(Vg,t)}}function Hg(e,t,r){e==="focusin"?(Hu(),il=t,kl=r,il.attachEvent("onpropertychange",M0)):e==="focusout"&&Hu()}function Qg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Po(kl)}function Kg(e,t){if(e==="click")return Po(t)}function qg(e,t){if(e==="input"||e==="change")return Po(t)}function Gg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:Gg;function _l(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var l=r[n];if(!zi.call(t,l)||!At(e[l],t[l]))return!1}return!0}function Qu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ku(e,t){var r=Qu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qu(r)}}function D0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?D0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function P0(){for(var e=window,t=Qa();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Qa(e.document)}return t}function _d(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Yg(e){var t=P0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&D0(r.ownerDocument.documentElement,r)){if(n!==null&&_d(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,a=Math.min(n.start,l);n=n.end===void 0?a:Math.min(n.end,l),!e.extend&&a>n&&(l=n,n=a,a=l),l=Ku(r,a);var o=Ku(r,n);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xg=gr&&"documentMode"in document&&11>=document.documentMode,Yn=null,lc=null,cl=null,ac=!1;function qu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ac||Yn==null||Yn!==Qa(n)||(n=Yn,"selectionStart"in n&&_d(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),cl&&_l(cl,n)||(cl=n,n=Ja(lc,"onSelect"),0<n.length&&(t=new jd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Yn)))}function ha(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Xn={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionend:ha("Transition","TransitionEnd")},vi={},T0={};gr&&(T0=document.createElement("div").style,"AnimationEvent"in window||(delete Xn.animationend.animation,delete Xn.animationiteration.animation,delete Xn.animationstart.animation),"TransitionEvent"in window||delete Xn.transitionend.transition);function To(e){if(vi[e])return vi[e];if(!Xn[e])return e;var t=Xn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in T0)return vi[e]=t[r];return e}var O0=To("animationend"),L0=To("animationiteration"),F0=To("animationstart"),$0=To("transitionend"),A0=new Map,Gu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cn(e,t){A0.set(e,t),In(t,[e])}for(var yi=0;yi<Gu.length;yi++){var bi=Gu[yi],Zg=bi.toLowerCase(),Jg=bi[0].toUpperCase()+bi.slice(1);cn(Zg,"on"+Jg)}cn(O0,"onAnimationEnd");cn(L0,"onAnimationIteration");cn(F0,"onAnimationStart");cn("dblclick","onDoubleClick");cn("focusin","onFocus");cn("focusout","onBlur");cn($0,"onTransitionEnd");_s("onMouseEnter",["mouseout","mouseover"]);_s("onMouseLeave",["mouseout","mouseover"]);_s("onPointerEnter",["pointerout","pointerover"]);_s("onPointerLeave",["pointerout","pointerover"]);In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));In("onBeforeInput",["compositionend","keypress","textInput","paste"]);In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ev=new Set("cancel close invalid load scroll toggle".split(" ").concat(tl));function Yu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Zx(n,t,void 0,e),e.currentTarget=null}function I0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],l=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var i=n[o],c=i.instance,d=i.currentTarget;if(i=i.listener,c!==a&&l.isPropagationStopped())break e;Yu(l,i,d),a=c}else for(o=0;o<n.length;o++){if(i=n[o],c=i.instance,d=i.currentTarget,i=i.listener,c!==a&&l.isPropagationStopped())break e;Yu(l,i,d),a=c}}}if(qa)throw e=tc,qa=!1,tc=null,e}function me(e,t){var r=t[uc];r===void 0&&(r=t[uc]=new Set);var n=e+"__bubble";r.has(n)||(z0(t,e,2,!1),r.add(n))}function wi(e,t,r){var n=0;t&&(n|=4),z0(r,e,n,t)}var ma="_reactListening"+Math.random().toString(36).slice(2);function Cl(e){if(!e[ma]){e[ma]=!0,Kh.forEach(function(r){r!=="selectionchange"&&(ev.has(r)||wi(r,!1,e),wi(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ma]||(t[ma]=!0,wi("selectionchange",!1,t))}}function z0(e,t,r,n){switch(N0(t)){case 1:var l=mg;break;case 4:l=pg;break;default:l=bd}r=l.bind(null,t,r,e),l=void 0,!ec||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),n?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function ji(e,t,r,n,l){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var i=n.stateNode.containerInfo;if(i===l||i.nodeType===8&&i.parentNode===l)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;o=o.return}for(;i!==null;){if(o=gn(i),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}i=i.parentNode}}n=n.return}c0(function(){var d=a,u=xd(r),h=[];e:{var f=A0.get(e);if(f!==void 0){var p=jd,y=e;switch(e){case"keypress":if(Ta(r)===0)break e;case"keydown":case"keyup":p=Mg;break;case"focusin":y="focus",p=pi;break;case"focusout":y="blur",p=pi;break;case"beforeblur":case"afterblur":p=pi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Au;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=vg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Tg;break;case O0:case L0:case F0:p=wg;break;case $0:p=Lg;break;case"scroll":p=xg;break;case"wheel":p=$g;break;case"copy":case"cut":case"paste":p=Ng;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=zu}var j=(t&4)!==0,w=!j&&e==="scroll",g=j?f!==null?f+"Capture":null:f;j=[];for(var x=d,v;x!==null;){v=x;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,g!==null&&(b=bl(x,g),b!=null&&j.push(Sl(x,b,v)))),w)break;x=x.return}0<j.length&&(f=new p(f,y,null,r,u),h.push({event:f,listeners:j}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==Zi&&(y=r.relatedTarget||r.fromElement)&&(gn(y)||y[vr]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=d,y=y?gn(y):null,y!==null&&(w=zn(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=d),p!==y)){if(j=Au,b="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(j=zu,b="onPointerLeave",g="onPointerEnter",x="pointer"),w=p==null?f:Zn(p),v=y==null?f:Zn(y),f=new j(b,x+"leave",p,r,u),f.target=w,f.relatedTarget=v,b=null,gn(u)===d&&(j=new j(g,x+"enter",y,r,u),j.target=v,j.relatedTarget=w,b=j),w=b,p&&y)t:{for(j=p,g=y,x=0,v=j;v;v=Qn(v))x++;for(v=0,b=g;b;b=Qn(b))v++;for(;0<x-v;)j=Qn(j),x--;for(;0<v-x;)g=Qn(g),v--;for(;x--;){if(j===g||g!==null&&j===g.alternate)break t;j=Qn(j),g=Qn(g)}j=null}else j=null;p!==null&&Xu(h,f,p,j,!1),y!==null&&w!==null&&Xu(h,w,y,j,!0)}}e:{if(f=d?Zn(d):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var R=Wg;else if(Vu(f))if(R0)R=qg;else{R=Qg;var T=Hg}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=Kg);if(R&&(R=R(e,d))){E0(h,R,r,u);break e}T&&T(e,f,d),e==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Ki(f,"number",f.value)}switch(T=d?Zn(d):window,e){case"focusin":(Vu(T)||T.contentEditable==="true")&&(Yn=T,lc=d,cl=null);break;case"focusout":cl=lc=Yn=null;break;case"mousedown":ac=!0;break;case"contextmenu":case"mouseup":case"dragend":ac=!1,qu(h,r,u);break;case"selectionchange":if(Xg)break;case"keydown":case"keyup":qu(h,r,u)}var O;if(kd)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Gn?C0(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(_0&&r.locale!=="ko"&&(Gn||_!=="onCompositionStart"?_==="onCompositionEnd"&&Gn&&(O=k0()):(Kr=u,wd="value"in Kr?Kr.value:Kr.textContent,Gn=!0)),T=Ja(d,_),0<T.length&&(_=new Iu(_,e,null,r,u),h.push({event:_,listeners:T}),O?_.data=O:(O=S0(r),O!==null&&(_.data=O)))),(O=Ig?zg(e,r):Bg(e,r))&&(d=Ja(d,"onBeforeInput"),0<d.length&&(u=new Iu("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=O))}I0(h,t)})}function Sl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ja(e,t){for(var r=t+"Capture",n=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=bl(e,r),a!=null&&n.unshift(Sl(e,a,l)),a=bl(e,t),a!=null&&n.push(Sl(e,a,l))),e=e.return}return n}function Qn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xu(e,t,r,n,l){for(var a=t._reactName,o=[];r!==null&&r!==n;){var i=r,c=i.alternate,d=i.stateNode;if(c!==null&&c===n)break;i.tag===5&&d!==null&&(i=d,l?(c=bl(r,a),c!=null&&o.unshift(Sl(r,c,i))):l||(c=bl(r,a),c!=null&&o.push(Sl(r,c,i)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var tv=/\r\n?/g,rv=/\u0000|\uFFFD/g;function Zu(e){return(typeof e=="string"?e:""+e).replace(tv,`
`).replace(rv,"")}function pa(e,t,r){if(t=Zu(t),Zu(e)!==t&&r)throw Error(F(425))}function eo(){}var oc=null,ic=null;function cc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dc=typeof setTimeout=="function"?setTimeout:void 0,nv=typeof clearTimeout=="function"?clearTimeout:void 0,Ju=typeof Promise=="function"?Promise:void 0,sv=typeof queueMicrotask=="function"?queueMicrotask:typeof Ju<"u"?function(e){return Ju.resolve(null).then(e).catch(lv)}:dc;function lv(e){setTimeout(function(){throw e})}function Ni(e,t){var r=t,n=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(n===0){e.removeChild(l),Nl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=l}while(r);Nl(t)}function Jr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ef(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Os=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Os,El="__reactProps$"+Os,vr="__reactContainer$"+Os,uc="__reactEvents$"+Os,av="__reactListeners$"+Os,ov="__reactHandles$"+Os;function gn(e){var t=e[Yt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[vr]||r[Yt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ef(e);e!==null;){if(r=e[Yt])return r;e=ef(e)}return t}e=r,r=e.parentNode}return null}function ql(e){return e=e[Yt]||e[vr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Oo(e){return e[El]||null}var fc=[],Jn=-1;function dn(e){return{current:e}}function pe(e){0>Jn||(e.current=fc[Jn],fc[Jn]=null,Jn--)}function ue(e,t){Jn++,fc[Jn]=e.current,e.current=t}var on={},qe=dn(on),it=dn(!1),Pn=on;function Cs(e,t){var r=e.type.contextTypes;if(!r)return on;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in r)l[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function ct(e){return e=e.childContextTypes,e!=null}function to(){pe(it),pe(qe)}function tf(e,t,r){if(qe.current!==on)throw Error(F(168));ue(qe,t),ue(it,r)}function B0(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var l in n)if(!(l in t))throw Error(F(108,Hx(e)||"Unknown",l));return je({},r,n)}function ro(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||on,Pn=qe.current,ue(qe,e),ue(it,it.current),!0}function rf(e,t,r){var n=e.stateNode;if(!n)throw Error(F(169));r?(e=B0(e,t,Pn),n.__reactInternalMemoizedMergedChildContext=e,pe(it),pe(qe),ue(qe,e)):pe(it),ue(it,r)}var or=null,Lo=!1,ki=!1;function U0(e){or===null?or=[e]:or.push(e)}function iv(e){Lo=!0,U0(e)}function un(){if(!ki&&or!==null){ki=!0;var e=0,t=ce;try{var r=or;for(ce=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}or=null,Lo=!1}catch(l){throw or!==null&&(or=or.slice(e+1)),h0(gd,un),l}finally{ce=t,ki=!1}}return null}var es=[],ts=0,no=null,so=0,kt=[],_t=0,Tn=null,hr=1,mr="";function pn(e,t){es[ts++]=so,es[ts++]=no,no=e,so=t}function V0(e,t,r){kt[_t++]=hr,kt[_t++]=mr,kt[_t++]=Tn,Tn=e;var n=hr;e=mr;var l=32-Ft(n)-1;n&=~(1<<l),r+=1;var a=32-Ft(t)+l;if(30<a){var o=l-l%5;a=(n&(1<<o)-1).toString(32),n>>=o,l-=o,hr=1<<32-Ft(t)+l|r<<l|n,mr=a+e}else hr=1<<a|r<<l|n,mr=e}function Cd(e){e.return!==null&&(pn(e,1),V0(e,1,0))}function Sd(e){for(;e===no;)no=es[--ts],es[ts]=null,so=es[--ts],es[ts]=null;for(;e===Tn;)Tn=kt[--_t],kt[_t]=null,mr=kt[--_t],kt[_t]=null,hr=kt[--_t],kt[_t]=null}var xt=null,pt=null,ge=!1,Lt=null;function W0(e,t){var r=Ct(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function nf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,pt=Jr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Tn!==null?{id:hr,overflow:mr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ct(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,xt=e,pt=null,!0):!1;default:return!1}}function hc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mc(e){if(ge){var t=pt;if(t){var r=t;if(!nf(e,t)){if(hc(e))throw Error(F(418));t=Jr(r.nextSibling);var n=xt;t&&nf(e,t)?W0(n,r):(e.flags=e.flags&-4097|2,ge=!1,xt=e)}}else{if(hc(e))throw Error(F(418));e.flags=e.flags&-4097|2,ge=!1,xt=e}}}function sf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function xa(e){if(e!==xt)return!1;if(!ge)return sf(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cc(e.type,e.memoizedProps)),t&&(t=pt)){if(hc(e))throw H0(),Error(F(418));for(;t;)W0(e,t),t=Jr(t.nextSibling)}if(sf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){pt=Jr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}pt=null}}else pt=xt?Jr(e.stateNode.nextSibling):null;return!0}function H0(){for(var e=pt;e;)e=Jr(e.nextSibling)}function Ss(){pt=xt=null,ge=!1}function Ed(e){Lt===null?Lt=[e]:Lt.push(e)}var cv=Nr.ReactCurrentBatchConfig;function Gs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(F(309));var n=r.stateNode}if(!n)throw Error(F(147,e));var l=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var i=l.refs;o===null?delete i[a]:i[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(F(284));if(!r._owner)throw Error(F(290,e))}return e}function ga(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lf(e){var t=e._init;return t(e._payload)}function Q0(e){function t(g,x){if(e){var v=g.deletions;v===null?(g.deletions=[x],g.flags|=16):v.push(x)}}function r(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function n(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function l(g,x){return g=nn(g,x),g.index=0,g.sibling=null,g}function a(g,x,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<x?(g.flags|=2,x):v):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function i(g,x,v,b){return x===null||x.tag!==6?(x=Di(v,g.mode,b),x.return=g,x):(x=l(x,v),x.return=g,x)}function c(g,x,v,b){var R=v.type;return R===qn?u(g,x,v.props.children,b,v.key):x!==null&&(x.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Pr&&lf(R)===x.type)?(b=l(x,v.props),b.ref=Gs(g,x,v),b.return=g,b):(b=za(v.type,v.key,v.props,null,g.mode,b),b.ref=Gs(g,x,v),b.return=g,b)}function d(g,x,v,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=Pi(v,g.mode,b),x.return=g,x):(x=l(x,v.children||[]),x.return=g,x)}function u(g,x,v,b,R){return x===null||x.tag!==7?(x=Dn(v,g.mode,b,R),x.return=g,x):(x=l(x,v),x.return=g,x)}function h(g,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Di(""+x,g.mode,v),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case aa:return v=za(x.type,x.key,x.props,null,g.mode,v),v.ref=Gs(g,null,x),v.return=g,v;case Kn:return x=Pi(x,g.mode,v),x.return=g,x;case Pr:var b=x._init;return h(g,b(x._payload),v)}if(Js(x)||Ws(x))return x=Dn(x,g.mode,v,null),x.return=g,x;ga(g,x)}return null}function f(g,x,v,b){var R=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return R!==null?null:i(g,x,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case aa:return v.key===R?c(g,x,v,b):null;case Kn:return v.key===R?d(g,x,v,b):null;case Pr:return R=v._init,f(g,x,R(v._payload),b)}if(Js(v)||Ws(v))return R!==null?null:u(g,x,v,b,null);ga(g,v)}return null}function p(g,x,v,b,R){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(v)||null,i(x,g,""+b,R);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case aa:return g=g.get(b.key===null?v:b.key)||null,c(x,g,b,R);case Kn:return g=g.get(b.key===null?v:b.key)||null,d(x,g,b,R);case Pr:var T=b._init;return p(g,x,v,T(b._payload),R)}if(Js(b)||Ws(b))return g=g.get(v)||null,u(x,g,b,R,null);ga(x,b)}return null}function y(g,x,v,b){for(var R=null,T=null,O=x,_=x=0,S=null;O!==null&&_<v.length;_++){O.index>_?(S=O,O=null):S=O.sibling;var C=f(g,O,v[_],b);if(C===null){O===null&&(O=S);break}e&&O&&C.alternate===null&&t(g,O),x=a(C,x,_),T===null?R=C:T.sibling=C,T=C,O=S}if(_===v.length)return r(g,O),ge&&pn(g,_),R;if(O===null){for(;_<v.length;_++)O=h(g,v[_],b),O!==null&&(x=a(O,x,_),T===null?R=O:T.sibling=O,T=O);return ge&&pn(g,_),R}for(O=n(g,O);_<v.length;_++)S=p(O,g,_,v[_],b),S!==null&&(e&&S.alternate!==null&&O.delete(S.key===null?_:S.key),x=a(S,x,_),T===null?R=S:T.sibling=S,T=S);return e&&O.forEach(function($){return t(g,$)}),ge&&pn(g,_),R}function j(g,x,v,b){var R=Ws(v);if(typeof R!="function")throw Error(F(150));if(v=R.call(v),v==null)throw Error(F(151));for(var T=R=null,O=x,_=x=0,S=null,C=v.next();O!==null&&!C.done;_++,C=v.next()){O.index>_?(S=O,O=null):S=O.sibling;var $=f(g,O,C.value,b);if($===null){O===null&&(O=S);break}e&&O&&$.alternate===null&&t(g,O),x=a($,x,_),T===null?R=$:T.sibling=$,T=$,O=S}if(C.done)return r(g,O),ge&&pn(g,_),R;if(O===null){for(;!C.done;_++,C=v.next())C=h(g,C.value,b),C!==null&&(x=a(C,x,_),T===null?R=C:T.sibling=C,T=C);return ge&&pn(g,_),R}for(O=n(g,O);!C.done;_++,C=v.next())C=p(O,g,_,C.value,b),C!==null&&(e&&C.alternate!==null&&O.delete(C.key===null?_:C.key),x=a(C,x,_),T===null?R=C:T.sibling=C,T=C);return e&&O.forEach(function(B){return t(g,B)}),ge&&pn(g,_),R}function w(g,x,v,b){if(typeof v=="object"&&v!==null&&v.type===qn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case aa:e:{for(var R=v.key,T=x;T!==null;){if(T.key===R){if(R=v.type,R===qn){if(T.tag===7){r(g,T.sibling),x=l(T,v.props.children),x.return=g,g=x;break e}}else if(T.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Pr&&lf(R)===T.type){r(g,T.sibling),x=l(T,v.props),x.ref=Gs(g,T,v),x.return=g,g=x;break e}r(g,T);break}else t(g,T);T=T.sibling}v.type===qn?(x=Dn(v.props.children,g.mode,b,v.key),x.return=g,g=x):(b=za(v.type,v.key,v.props,null,g.mode,b),b.ref=Gs(g,x,v),b.return=g,g=b)}return o(g);case Kn:e:{for(T=v.key;x!==null;){if(x.key===T)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){r(g,x.sibling),x=l(x,v.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else t(g,x);x=x.sibling}x=Pi(v,g.mode,b),x.return=g,g=x}return o(g);case Pr:return T=v._init,w(g,x,T(v._payload),b)}if(Js(v))return y(g,x,v,b);if(Ws(v))return j(g,x,v,b);ga(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(r(g,x.sibling),x=l(x,v),x.return=g,g=x):(r(g,x),x=Di(v,g.mode,b),x.return=g,g=x),o(g)):r(g,x)}return w}var Es=Q0(!0),K0=Q0(!1),lo=dn(null),ao=null,rs=null,Rd=null;function Md(){Rd=rs=ao=null}function Dd(e){var t=lo.current;pe(lo),e._currentValue=t}function pc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ds(e,t){ao=e,Rd=rs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ot=!0),e.firstContext=null)}function Et(e){var t=e._currentValue;if(Rd!==e)if(e={context:e,memoizedValue:t,next:null},rs===null){if(ao===null)throw Error(F(308));rs=e,ao.dependencies={lanes:0,firstContext:e}}else rs=rs.next=e;return t}var vn=null;function Pd(e){vn===null?vn=[e]:vn.push(e)}function q0(e,t,r,n){var l=t.interleaved;return l===null?(r.next=r,Pd(t)):(r.next=l.next,l.next=r),t.interleaved=r,yr(e,n)}function yr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Tr=!1;function Td(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function G0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function en(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ae&2){var l=n.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),n.pending=t,yr(e,r)}return l=n.interleaved,l===null?(t.next=t,Pd(n)):(t.next=l.next,l.next=t),n.interleaved=t,yr(e,r)}function Oa(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,vd(e,r)}}function af(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var l=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?l=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?l=a=t:a=a.next=t}else l=a=t;r={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function oo(e,t,r,n){var l=e.updateQueue;Tr=!1;var a=l.firstBaseUpdate,o=l.lastBaseUpdate,i=l.shared.pending;if(i!==null){l.shared.pending=null;var c=i,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,i=u.lastBaseUpdate,i!==o&&(i===null?u.firstBaseUpdate=d:i.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=l.baseState;o=0,u=d=c=null,i=a;do{var f=i.lane,p=i.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var y=e,j=i;switch(f=t,p=r,j.tag){case 1:if(y=j.payload,typeof y=="function"){h=y.call(p,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=j.payload,f=typeof y=="function"?y.call(p,h,f):y,f==null)break e;h=je({},h,f);break e;case 2:Tr=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,f=l.effects,f===null?l.effects=[i]:f.push(i))}else p={eventTime:p,lane:f,tag:i.tag,payload:i.payload,callback:i.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,o|=f;if(i=i.next,i===null){if(i=l.shared.pending,i===null)break;f=i,i=f.next,f.next=null,l.lastBaseUpdate=f,l.shared.pending=null}}while(!0);if(u===null&&(c=h),l.baseState=c,l.firstBaseUpdate=d,l.lastBaseUpdate=u,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);Ln|=o,e.lanes=o,e.memoizedState=h}}function of(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],l=n.callback;if(l!==null){if(n.callback=null,n=r,typeof l!="function")throw Error(F(191,l));l.call(n)}}}var Gl={},Jt=dn(Gl),Rl=dn(Gl),Ml=dn(Gl);function yn(e){if(e===Gl)throw Error(F(174));return e}function Od(e,t){switch(ue(Ml,t),ue(Rl,e),ue(Jt,Gl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gi(t,e)}pe(Jt),ue(Jt,t)}function Rs(){pe(Jt),pe(Rl),pe(Ml)}function Y0(e){yn(Ml.current);var t=yn(Jt.current),r=Gi(t,e.type);t!==r&&(ue(Rl,e),ue(Jt,r))}function Ld(e){Rl.current===e&&(pe(Jt),pe(Rl))}var ye=dn(0);function io(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _i=[];function Fd(){for(var e=0;e<_i.length;e++)_i[e]._workInProgressVersionPrimary=null;_i.length=0}var La=Nr.ReactCurrentDispatcher,Ci=Nr.ReactCurrentBatchConfig,On=0,we=null,Re=null,$e=null,co=!1,dl=!1,Dl=0,dv=0;function He(){throw Error(F(321))}function $d(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!At(e[r],t[r]))return!1;return!0}function Ad(e,t,r,n,l,a){if(On=a,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,La.current=e===null||e.memoizedState===null?mv:pv,e=r(n,l),dl){a=0;do{if(dl=!1,Dl=0,25<=a)throw Error(F(301));a+=1,$e=Re=null,t.updateQueue=null,La.current=xv,e=r(n,l)}while(dl)}if(La.current=uo,t=Re!==null&&Re.next!==null,On=0,$e=Re=we=null,co=!1,t)throw Error(F(300));return e}function Id(){var e=Dl!==0;return Dl=0,e}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?we.memoizedState=$e=e:$e=$e.next=e,$e}function Rt(){if(Re===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=$e===null?we.memoizedState:$e.next;if(t!==null)$e=t,Re=e;else{if(e===null)throw Error(F(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},$e===null?we.memoizedState=$e=e:$e=$e.next=e}return $e}function Pl(e,t){return typeof t=="function"?t(e):t}function Si(e){var t=Rt(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=Re,l=n.baseQueue,a=r.pending;if(a!==null){if(l!==null){var o=l.next;l.next=a.next,a.next=o}n.baseQueue=l=a,r.pending=null}if(l!==null){a=l.next,n=n.baseState;var i=o=null,c=null,d=a;do{var u=d.lane;if((On&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(i=c=h,o=n):c=c.next=h,we.lanes|=u,Ln|=u}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=i,At(n,t.memoizedState)||(ot=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){l=e;do a=l.lane,we.lanes|=a,Ln|=a,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ei(e){var t=Rt(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=r.dispatch,l=r.pending,a=t.memoizedState;if(l!==null){r.pending=null;var o=l=l.next;do a=e(a,o.action),o=o.next;while(o!==l);At(a,t.memoizedState)||(ot=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function X0(){}function Z0(e,t){var r=we,n=Rt(),l=t(),a=!At(n.memoizedState,l);if(a&&(n.memoizedState=l,ot=!0),n=n.queue,zd(tm.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||$e!==null&&$e.memoizedState.tag&1){if(r.flags|=2048,Tl(9,em.bind(null,r,n,l,t),void 0,null),Ie===null)throw Error(F(349));On&30||J0(r,t,l)}return l}function J0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function em(e,t,r,n){t.value=r,t.getSnapshot=n,rm(t)&&nm(e)}function tm(e,t,r){return r(function(){rm(t)&&nm(e)})}function rm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!At(e,r)}catch{return!0}}function nm(e){var t=yr(e,1);t!==null&&$t(t,e,1,-1)}function cf(e){var t=Qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:e},t.queue=e,e=e.dispatch=hv.bind(null,we,e),[t.memoizedState,e]}function Tl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function sm(){return Rt().memoizedState}function Fa(e,t,r,n){var l=Qt();we.flags|=e,l.memoizedState=Tl(1|t,r,void 0,n===void 0?null:n)}function Fo(e,t,r,n){var l=Rt();n=n===void 0?null:n;var a=void 0;if(Re!==null){var o=Re.memoizedState;if(a=o.destroy,n!==null&&$d(n,o.deps)){l.memoizedState=Tl(t,r,a,n);return}}we.flags|=e,l.memoizedState=Tl(1|t,r,a,n)}function df(e,t){return Fa(8390656,8,e,t)}function zd(e,t){return Fo(2048,8,e,t)}function lm(e,t){return Fo(4,2,e,t)}function am(e,t){return Fo(4,4,e,t)}function om(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function im(e,t,r){return r=r!=null?r.concat([e]):null,Fo(4,4,om.bind(null,t,e),r)}function Bd(){}function cm(e,t){var r=Rt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$d(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function dm(e,t){var r=Rt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$d(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function um(e,t,r){return On&21?(At(r,t)||(r=x0(),we.lanes|=r,Ln|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=r)}function uv(e,t){var r=ce;ce=r!==0&&4>r?r:4,e(!0);var n=Ci.transition;Ci.transition={};try{e(!1),t()}finally{ce=r,Ci.transition=n}}function fm(){return Rt().memoizedState}function fv(e,t,r){var n=rn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},hm(e))mm(t,r);else if(r=q0(e,t,r,n),r!==null){var l=et();$t(r,e,n,l),pm(r,t,n)}}function hv(e,t,r){var n=rn(e),l={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(hm(e))mm(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,i=a(o,r);if(l.hasEagerState=!0,l.eagerState=i,At(i,o)){var c=t.interleaved;c===null?(l.next=l,Pd(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}r=q0(e,t,l,n),r!==null&&(l=et(),$t(r,e,n,l),pm(r,t,n))}}function hm(e){var t=e.alternate;return e===we||t!==null&&t===we}function mm(e,t){dl=co=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function pm(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,vd(e,r)}}var uo={readContext:Et,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},mv={readContext:Et,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:df,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Fa(4194308,4,om.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Fa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fa(4,2,e,t)},useMemo:function(e,t){var r=Qt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Qt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=fv.bind(null,we,e),[n.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:cf,useDebugValue:Bd,useDeferredValue:function(e){return Qt().memoizedState=e},useTransition:function(){var e=cf(!1),t=e[0];return e=uv.bind(null,e[1]),Qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=we,l=Qt();if(ge){if(r===void 0)throw Error(F(407));r=r()}else{if(r=t(),Ie===null)throw Error(F(349));On&30||J0(n,t,r)}l.memoizedState=r;var a={value:r,getSnapshot:t};return l.queue=a,df(tm.bind(null,n,a,e),[e]),n.flags|=2048,Tl(9,em.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Qt(),t=Ie.identifierPrefix;if(ge){var r=mr,n=hr;r=(n&~(1<<32-Ft(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Dl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=dv++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pv={readContext:Et,useCallback:cm,useContext:Et,useEffect:zd,useImperativeHandle:im,useInsertionEffect:lm,useLayoutEffect:am,useMemo:dm,useReducer:Si,useRef:sm,useState:function(){return Si(Pl)},useDebugValue:Bd,useDeferredValue:function(e){var t=Rt();return um(t,Re.memoizedState,e)},useTransition:function(){var e=Si(Pl)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:X0,useSyncExternalStore:Z0,useId:fm,unstable_isNewReconciler:!1},xv={readContext:Et,useCallback:cm,useContext:Et,useEffect:zd,useImperativeHandle:im,useInsertionEffect:lm,useLayoutEffect:am,useMemo:dm,useReducer:Ei,useRef:sm,useState:function(){return Ei(Pl)},useDebugValue:Bd,useDeferredValue:function(e){var t=Rt();return Re===null?t.memoizedState=e:um(t,Re.memoizedState,e)},useTransition:function(){var e=Ei(Pl)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:X0,useSyncExternalStore:Z0,useId:fm,unstable_isNewReconciler:!1};function Dt(e,t){if(e&&e.defaultProps){t=je({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function xc(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:je({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var $o={isMounted:function(e){return(e=e._reactInternals)?zn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=et(),l=rn(e),a=pr(n,l);a.payload=t,r!=null&&(a.callback=r),t=en(e,a,l),t!==null&&($t(t,e,l,n),Oa(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=et(),l=rn(e),a=pr(n,l);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=en(e,a,l),t!==null&&($t(t,e,l,n),Oa(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=et(),n=rn(e),l=pr(r,n);l.tag=2,t!=null&&(l.callback=t),t=en(e,l,n),t!==null&&($t(t,e,n,r),Oa(t,e,n))}};function uf(e,t,r,n,l,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!_l(r,n)||!_l(l,a):!0}function xm(e,t,r){var n=!1,l=on,a=t.contextType;return typeof a=="object"&&a!==null?a=Et(a):(l=ct(t)?Pn:qe.current,n=t.contextTypes,a=(n=n!=null)?Cs(e,l):on),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$o,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function ff(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&$o.enqueueReplaceState(t,t.state,null)}function gc(e,t,r,n){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},Td(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=Et(a):(a=ct(t)?Pn:qe.current,l.context=Cs(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(xc(e,t,a,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&$o.enqueueReplaceState(l,l.state,null),oo(e,r,l,n),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Ms(e,t){try{var r="",n=t;do r+=Wx(n),n=n.return;while(n);var l=r}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function Ri(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function vc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var gv=typeof WeakMap=="function"?WeakMap:Map;function gm(e,t,r){r=pr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ho||(ho=!0,Ec=n),vc(e,t)},r}function vm(e,t,r){r=pr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var l=t.value;r.payload=function(){return n(l)},r.callback=function(){vc(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){vc(e,t),typeof n!="function"&&(tn===null?tn=new Set([this]):tn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function hf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new gv;var l=new Set;n.set(t,l)}else l=n.get(t),l===void 0&&(l=new Set,n.set(t,l));l.has(r)||(l.add(r),e=Dv.bind(null,e,t,r),t.then(e,e))}function mf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function pf(e,t,r,n,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=pr(-1,1),t.tag=2,en(r,t,1))),r.lanes|=1),e)}var vv=Nr.ReactCurrentOwner,ot=!1;function Ze(e,t,r,n){t.child=e===null?K0(t,null,r,n):Es(t,e.child,r,n)}function xf(e,t,r,n,l){r=r.render;var a=t.ref;return ds(t,l),n=Ad(e,t,r,n,a,l),r=Id(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,br(e,t,l)):(ge&&r&&Cd(t),t.flags|=1,Ze(e,t,n,l),t.child)}function gf(e,t,r,n,l){if(e===null){var a=r.type;return typeof a=="function"&&!Gd(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,ym(e,t,a,n,l)):(e=za(r.type,null,n,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:_l,r(o,n)&&e.ref===t.ref)return br(e,t,l)}return t.flags|=1,e=nn(a,n),e.ref=t.ref,e.return=t,t.child=e}function ym(e,t,r,n,l){if(e!==null){var a=e.memoizedProps;if(_l(a,n)&&e.ref===t.ref)if(ot=!1,t.pendingProps=n=a,(e.lanes&l)!==0)e.flags&131072&&(ot=!0);else return t.lanes=e.lanes,br(e,t,l)}return yc(e,t,r,n,l)}function bm(e,t,r){var n=t.pendingProps,l=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(ss,mt),mt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(ss,mt),mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ue(ss,mt),mt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ue(ss,mt),mt|=n;return Ze(e,t,l,r),t.child}function wm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function yc(e,t,r,n,l){var a=ct(r)?Pn:qe.current;return a=Cs(t,a),ds(t,l),r=Ad(e,t,r,n,a,l),n=Id(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,br(e,t,l)):(ge&&n&&Cd(t),t.flags|=1,Ze(e,t,r,l),t.child)}function vf(e,t,r,n,l){if(ct(r)){var a=!0;ro(t)}else a=!1;if(ds(t,l),t.stateNode===null)$a(e,t),xm(t,r,n),gc(t,r,n,l),n=!0;else if(e===null){var o=t.stateNode,i=t.memoizedProps;o.props=i;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Et(d):(d=ct(r)?Pn:qe.current,d=Cs(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==n||c!==d)&&ff(t,o,n,d),Tr=!1;var f=t.memoizedState;o.state=f,oo(t,n,o,l),c=t.memoizedState,i!==n||f!==c||it.current||Tr?(typeof u=="function"&&(xc(t,r,u,n),c=t.memoizedState),(i=Tr||uf(t,r,i,n,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=i):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,G0(e,t),i=t.memoizedProps,d=t.type===t.elementType?i:Dt(t.type,i),o.props=d,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Et(c):(c=ct(r)?Pn:qe.current,c=Cs(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==h||f!==c)&&ff(t,o,n,c),Tr=!1,f=t.memoizedState,o.state=f,oo(t,n,o,l);var y=t.memoizedState;i!==h||f!==y||it.current||Tr?(typeof p=="function"&&(xc(t,r,p,n),y=t.memoizedState),(d=Tr||uf(t,r,d,n,f,y,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return bc(e,t,r,n,a,l)}function bc(e,t,r,n,l,a){wm(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return l&&rf(t,r,!1),br(e,t,a);n=t.stateNode,vv.current=t;var i=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Es(t,e.child,null,a),t.child=Es(t,null,i,a)):Ze(e,t,i,a),t.memoizedState=n.state,l&&rf(t,r,!0),t.child}function jm(e){var t=e.stateNode;t.pendingContext?tf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tf(e,t.context,!1),Od(e,t.containerInfo)}function yf(e,t,r,n,l){return Ss(),Ed(l),t.flags|=256,Ze(e,t,r,n),t.child}var wc={dehydrated:null,treeContext:null,retryLane:0};function jc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nm(e,t,r){var n=t.pendingProps,l=ye.current,a=!1,o=(t.flags&128)!==0,i;if((i=o)||(i=e!==null&&e.memoizedState===null?!1:(l&2)!==0),i?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ue(ye,l&1),e===null)return mc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=zo(o,n,0,null),e=Dn(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=jc(r),t.memoizedState=wc,e):Ud(t,o));if(l=e.memoizedState,l!==null&&(i=l.dehydrated,i!==null))return yv(e,t,o,n,i,l,r);if(a){a=n.fallback,o=t.mode,l=e.child,i=l.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==l?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=nn(l,c),n.subtreeFlags=l.subtreeFlags&14680064),i!==null?a=nn(i,a):(a=Dn(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?jc(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=wc,n}return a=e.child,e=a.sibling,n=nn(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ud(e,t){return t=zo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function va(e,t,r,n){return n!==null&&Ed(n),Es(t,e.child,null,r),e=Ud(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yv(e,t,r,n,l,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Ri(Error(F(422))),va(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,l=t.mode,n=zo({mode:"visible",children:n.children},l,0,null),a=Dn(a,l,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Es(t,e.child,null,o),t.child.memoizedState=jc(o),t.memoizedState=wc,a);if(!(t.mode&1))return va(e,t,o,null);if(l.data==="$!"){if(n=l.nextSibling&&l.nextSibling.dataset,n)var i=n.dgst;return n=i,a=Error(F(419)),n=Ri(a,n,void 0),va(e,t,o,n)}if(i=(o&e.childLanes)!==0,ot||i){if(n=Ie,n!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(n.suspendedLanes|o)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,yr(e,l),$t(n,e,l,-1))}return qd(),n=Ri(Error(F(421))),va(e,t,o,n)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Pv.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,pt=Jr(l.nextSibling),xt=t,ge=!0,Lt=null,e!==null&&(kt[_t++]=hr,kt[_t++]=mr,kt[_t++]=Tn,hr=e.id,mr=e.overflow,Tn=t),t=Ud(t,n.children),t.flags|=4096,t)}function bf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),pc(e.return,t,r)}function Mi(e,t,r,n,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=l)}function km(e,t,r){var n=t.pendingProps,l=n.revealOrder,a=n.tail;if(Ze(e,t,n.children,r),n=ye.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bf(e,r,t);else if(e.tag===19)bf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ue(ye,n),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&io(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),Mi(t,!1,l,r,a);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&io(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}Mi(t,!0,r,null,a);break;case"together":Mi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $a(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function br(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ln|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,r=nn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=nn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function bv(e,t,r){switch(t.tag){case 3:jm(t),Ss();break;case 5:Y0(t);break;case 1:ct(t.type)&&ro(t);break;case 4:Od(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,l=t.memoizedProps.value;ue(lo,n._currentValue),n._currentValue=l;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ue(ye,ye.current&1),t.flags|=128,null):r&t.child.childLanes?Nm(e,t,r):(ue(ye,ye.current&1),e=br(e,t,r),e!==null?e.sibling:null);ue(ye,ye.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return km(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ue(ye,ye.current),n)break;return null;case 22:case 23:return t.lanes=0,bm(e,t,r)}return br(e,t,r)}var _m,Nc,Cm,Sm;_m=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Nc=function(){};Cm=function(e,t,r,n){var l=e.memoizedProps;if(l!==n){e=t.stateNode,yn(Jt.current);var a=null;switch(r){case"input":l=Hi(e,l),n=Hi(e,n),a=[];break;case"select":l=je({},l,{value:void 0}),n=je({},n,{value:void 0}),a=[];break;case"textarea":l=qi(e,l),n=qi(e,n),a=[];break;default:typeof l.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=eo)}Yi(r,n);var o;r=null;for(d in l)if(!n.hasOwnProperty(d)&&l.hasOwnProperty(d)&&l[d]!=null)if(d==="style"){var i=l[d];for(o in i)i.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(vl.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(i=l!=null?l[d]:void 0,n.hasOwnProperty(d)&&c!==i&&(c!=null||i!=null))if(d==="style")if(i){for(o in i)!i.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&i[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(vl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&me("scroll",e),a||i===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};Sm=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ys(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,n|=l.subtreeFlags&14680064,n|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function wv(e,t,r){var n=t.pendingProps;switch(Sd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return ct(t.type)&&to(),Qe(t),null;case 3:return n=t.stateNode,Rs(),pe(it),pe(qe),Fd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(xa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lt!==null&&(Dc(Lt),Lt=null))),Nc(e,t),Qe(t),null;case 5:Ld(t);var l=yn(Ml.current);if(r=t.type,e!==null&&t.stateNode!=null)Cm(e,t,r,n,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(F(166));return Qe(t),null}if(e=yn(Jt.current),xa(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Yt]=t,n[El]=a,e=(t.mode&1)!==0,r){case"dialog":me("cancel",n),me("close",n);break;case"iframe":case"object":case"embed":me("load",n);break;case"video":case"audio":for(l=0;l<tl.length;l++)me(tl[l],n);break;case"source":me("error",n);break;case"img":case"image":case"link":me("error",n),me("load",n);break;case"details":me("toggle",n);break;case"input":Eu(n,a),me("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},me("invalid",n);break;case"textarea":Mu(n,a),me("invalid",n)}Yi(r,a),l=null;for(var o in a)if(a.hasOwnProperty(o)){var i=a[o];o==="children"?typeof i=="string"?n.textContent!==i&&(a.suppressHydrationWarning!==!0&&pa(n.textContent,i,e),l=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(a.suppressHydrationWarning!==!0&&pa(n.textContent,i,e),l=["children",""+i]):vl.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&me("scroll",n)}switch(r){case"input":oa(n),Ru(n,a,!0);break;case"textarea":oa(n),Du(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=eo)}n=l,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=t0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Yt]=t,e[El]=n,_m(e,t,!1,!1),t.stateNode=e;e:{switch(o=Xi(r,n),r){case"dialog":me("cancel",e),me("close",e),l=n;break;case"iframe":case"object":case"embed":me("load",e),l=n;break;case"video":case"audio":for(l=0;l<tl.length;l++)me(tl[l],e);l=n;break;case"source":me("error",e),l=n;break;case"img":case"image":case"link":me("error",e),me("load",e),l=n;break;case"details":me("toggle",e),l=n;break;case"input":Eu(e,n),l=Hi(e,n),me("invalid",e);break;case"option":l=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},l=je({},n,{value:void 0}),me("invalid",e);break;case"textarea":Mu(e,n),l=qi(e,n),me("invalid",e);break;default:l=n}Yi(r,l),i=l;for(a in i)if(i.hasOwnProperty(a)){var c=i[a];a==="style"?s0(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&r0(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&yl(e,c):typeof c=="number"&&yl(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(vl.hasOwnProperty(a)?c!=null&&a==="onScroll"&&me("scroll",e):c!=null&&fd(e,a,c,o))}switch(r){case"input":oa(e),Ru(e,n,!1);break;case"textarea":oa(e),Du(e);break;case"option":n.value!=null&&e.setAttribute("value",""+an(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?as(e,!!n.multiple,a,!1):n.defaultValue!=null&&as(e,!!n.multiple,n.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=eo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)Sm(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(F(166));if(r=yn(Ml.current),yn(Jt.current),xa(t)){if(n=t.stateNode,r=t.memoizedProps,n[Yt]=t,(a=n.nodeValue!==r)&&(e=xt,e!==null))switch(e.tag){case 3:pa(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pa(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Yt]=t,t.stateNode=n}return Qe(t),null;case 13:if(pe(ye),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&pt!==null&&t.mode&1&&!(t.flags&128))H0(),Ss(),t.flags|=98560,a=!1;else if(a=xa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(F(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(F(317));a[Yt]=t}else Ss(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qe(t),a=!1}else Lt!==null&&(Dc(Lt),Lt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ye.current&1?Pe===0&&(Pe=3):qd())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return Rs(),Nc(e,t),e===null&&Cl(t.stateNode.containerInfo),Qe(t),null;case 10:return Dd(t.type._context),Qe(t),null;case 17:return ct(t.type)&&to(),Qe(t),null;case 19:if(pe(ye),a=t.memoizedState,a===null)return Qe(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Ys(a,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=io(e),o!==null){for(t.flags|=128,Ys(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ue(ye,ye.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ce()>Ds&&(t.flags|=128,n=!0,Ys(a,!1),t.lanes=4194304)}else{if(!n)if(e=io(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ys(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ge)return Qe(t),null}else 2*Ce()-a.renderingStartTime>Ds&&r!==1073741824&&(t.flags|=128,n=!0,Ys(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ce(),t.sibling=null,r=ye.current,ue(ye,n?r&1|2:r&1),t):(Qe(t),null);case 22:case 23:return Kd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?mt&1073741824&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function jv(e,t){switch(Sd(t),t.tag){case 1:return ct(t.type)&&to(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rs(),pe(it),pe(qe),Fd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ld(t),null;case 13:if(pe(ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Ss()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(ye),null;case 4:return Rs(),null;case 10:return Dd(t.type._context),null;case 22:case 23:return Kd(),null;case 24:return null;default:return null}}var ya=!1,Ke=!1,Nv=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ns(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ke(e,t,n)}else r.current=null}function kc(e,t,r){try{r()}catch(n){ke(e,t,n)}}var wf=!1;function kv(e,t){if(oc=Xa,e=P0(),_d(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var l=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,i=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var p;h!==r||l!==0&&h.nodeType!==3||(i=o+l),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++d===l&&(i=o),f===a&&++u===n&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=i===-1||c===-1?null:{start:i,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ic={focusedElem:e,selectionRange:r},Xa=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var j=y.memoizedProps,w=y.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?j:Dt(t.type,j),w);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(b){ke(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return y=wf,wf=!1,y}function ul(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&kc(t,r,a)}l=l.next}while(l!==n)}}function Ao(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function _c(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Em(e){var t=e.alternate;t!==null&&(e.alternate=null,Em(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[El],delete t[uc],delete t[av],delete t[ov])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rm(e){return e.tag===5||e.tag===3||e.tag===4}function jf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=eo));else if(n!==4&&(e=e.child,e!==null))for(Cc(e,t,r),e=e.sibling;e!==null;)Cc(e,t,r),e=e.sibling}function Sc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Sc(e,t,r),e=e.sibling;e!==null;)Sc(e,t,r),e=e.sibling}var Be=null,Ot=!1;function Mr(e,t,r){for(r=r.child;r!==null;)Mm(e,t,r),r=r.sibling}function Mm(e,t,r){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Mo,r)}catch{}switch(r.tag){case 5:Ke||ns(r,t);case 6:var n=Be,l=Ot;Be=null,Mr(e,t,r),Be=n,Ot=l,Be!==null&&(Ot?(e=Be,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Be.removeChild(r.stateNode));break;case 18:Be!==null&&(Ot?(e=Be,r=r.stateNode,e.nodeType===8?Ni(e.parentNode,r):e.nodeType===1&&Ni(e,r),Nl(e)):Ni(Be,r.stateNode));break;case 4:n=Be,l=Ot,Be=r.stateNode.containerInfo,Ot=!0,Mr(e,t,r),Be=n,Ot=l;break;case 0:case 11:case 14:case 15:if(!Ke&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){l=n=n.next;do{var a=l,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&kc(r,t,o),l=l.next}while(l!==n)}Mr(e,t,r);break;case 1:if(!Ke&&(ns(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(i){ke(r,t,i)}Mr(e,t,r);break;case 21:Mr(e,t,r);break;case 22:r.mode&1?(Ke=(n=Ke)||r.memoizedState!==null,Mr(e,t,r),Ke=n):Mr(e,t,r);break;default:Mr(e,t,r)}}function Nf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Nv),t.forEach(function(n){var l=Tv.bind(null,e,n);r.has(n)||(r.add(n),n.then(l,l))})}}function Mt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var l=r[n];try{var a=e,o=t,i=o;e:for(;i!==null;){switch(i.tag){case 5:Be=i.stateNode,Ot=!1;break e;case 3:Be=i.stateNode.containerInfo,Ot=!0;break e;case 4:Be=i.stateNode.containerInfo,Ot=!0;break e}i=i.return}if(Be===null)throw Error(F(160));Mm(a,o,l),Be=null,Ot=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(d){ke(l,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Dm(t,e),t=t.sibling}function Dm(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mt(t,e),Ht(e),n&4){try{ul(3,e,e.return),Ao(3,e)}catch(j){ke(e,e.return,j)}try{ul(5,e,e.return)}catch(j){ke(e,e.return,j)}}break;case 1:Mt(t,e),Ht(e),n&512&&r!==null&&ns(r,r.return);break;case 5:if(Mt(t,e),Ht(e),n&512&&r!==null&&ns(r,r.return),e.flags&32){var l=e.stateNode;try{yl(l,"")}catch(j){ke(e,e.return,j)}}if(n&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&a.type==="radio"&&a.name!=null&&Jh(l,a),Xi(i,o);var d=Xi(i,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?s0(l,h):u==="dangerouslySetInnerHTML"?r0(l,h):u==="children"?yl(l,h):fd(l,u,h,d)}switch(i){case"input":Qi(l,a);break;case"textarea":e0(l,a);break;case"select":var f=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?as(l,!!a.multiple,p,!1):f!==!!a.multiple&&(a.defaultValue!=null?as(l,!!a.multiple,a.defaultValue,!0):as(l,!!a.multiple,a.multiple?[]:"",!1))}l[El]=a}catch(j){ke(e,e.return,j)}}break;case 6:if(Mt(t,e),Ht(e),n&4){if(e.stateNode===null)throw Error(F(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(j){ke(e,e.return,j)}}break;case 3:if(Mt(t,e),Ht(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Nl(t.containerInfo)}catch(j){ke(e,e.return,j)}break;case 4:Mt(t,e),Ht(e);break;case 13:Mt(t,e),Ht(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(Hd=Ce())),n&4&&Nf(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Ke=(d=Ke)||u,Mt(t,e),Ke=d):Mt(t,e),Ht(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Q=e,u=e.child;u!==null;){for(h=Q=u;Q!==null;){switch(f=Q,p=f.child,f.tag){case 0:case 11:case 14:case 15:ul(4,f,f.return);break;case 1:ns(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(j){ke(n,r,j)}}break;case 5:ns(f,f.return);break;case 22:if(f.memoizedState!==null){_f(h);continue}}p!==null?(p.return=f,Q=p):_f(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{l=h.stateNode,d?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(i=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=n0("display",o))}catch(j){ke(e,e.return,j)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(j){ke(e,e.return,j)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Mt(t,e),Ht(e),n&4&&Nf(e);break;case 21:break;default:Mt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Rm(r)){var n=r;break e}r=r.return}throw Error(F(160))}switch(n.tag){case 5:var l=n.stateNode;n.flags&32&&(yl(l,""),n.flags&=-33);var a=jf(e);Sc(e,a,l);break;case 3:case 4:var o=n.stateNode.containerInfo,i=jf(e);Cc(e,i,o);break;default:throw Error(F(161))}}catch(c){ke(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _v(e,t,r){Q=e,Pm(e)}function Pm(e,t,r){for(var n=(e.mode&1)!==0;Q!==null;){var l=Q,a=l.child;if(l.tag===22&&n){var o=l.memoizedState!==null||ya;if(!o){var i=l.alternate,c=i!==null&&i.memoizedState!==null||Ke;i=ya;var d=Ke;if(ya=o,(Ke=c)&&!d)for(Q=l;Q!==null;)o=Q,c=o.child,o.tag===22&&o.memoizedState!==null?Cf(l):c!==null?(c.return=o,Q=c):Cf(l);for(;a!==null;)Q=a,Pm(a),a=a.sibling;Q=l,ya=i,Ke=d}kf(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,Q=a):kf(e)}}function kf(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||Ao(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ke)if(r===null)n.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:Dt(t.type,r.memoizedProps);n.componentDidUpdate(l,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&of(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}of(t,o,r)}break;case 5:var i=t.stateNode;if(r===null&&t.flags&4){r=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Nl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Ke||t.flags&512&&_c(t)}catch(f){ke(t,t.return,f)}}if(t===e){Q=null;break}if(r=t.sibling,r!==null){r.return=t.return,Q=r;break}Q=t.return}}function _f(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Q=r;break}Q=t.return}}function Cf(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ao(4,t)}catch(c){ke(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var l=t.return;try{n.componentDidMount()}catch(c){ke(t,l,c)}}var a=t.return;try{_c(t)}catch(c){ke(t,a,c)}break;case 5:var o=t.return;try{_c(t)}catch(c){ke(t,o,c)}}}catch(c){ke(t,t.return,c)}if(t===e){Q=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Q=i;break}Q=t.return}}var Cv=Math.ceil,fo=Nr.ReactCurrentDispatcher,Vd=Nr.ReactCurrentOwner,St=Nr.ReactCurrentBatchConfig,ae=0,Ie=null,Se=null,Ue=0,mt=0,ss=dn(0),Pe=0,Ol=null,Ln=0,Io=0,Wd=0,fl=null,at=null,Hd=0,Ds=1/0,ar=null,ho=!1,Ec=null,tn=null,ba=!1,qr=null,mo=0,hl=0,Rc=null,Aa=-1,Ia=0;function et(){return ae&6?Ce():Aa!==-1?Aa:Aa=Ce()}function rn(e){return e.mode&1?ae&2&&Ue!==0?Ue&-Ue:cv.transition!==null?(Ia===0&&(Ia=x0()),Ia):(e=ce,e!==0||(e=window.event,e=e===void 0?16:N0(e.type)),e):1}function $t(e,t,r,n){if(50<hl)throw hl=0,Rc=null,Error(F(185));Ql(e,r,n),(!(ae&2)||e!==Ie)&&(e===Ie&&(!(ae&2)&&(Io|=r),Pe===4&&Fr(e,Ue)),dt(e,n),r===1&&ae===0&&!(t.mode&1)&&(Ds=Ce()+500,Lo&&un()))}function dt(e,t){var r=e.callbackNode;cg(e,t);var n=Ya(e,e===Ie?Ue:0);if(n===0)r!==null&&Ou(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ou(r),t===1)e.tag===0?iv(Sf.bind(null,e)):U0(Sf.bind(null,e)),sv(function(){!(ae&6)&&un()}),r=null;else{switch(g0(n)){case 1:r=gd;break;case 4:r=m0;break;case 16:r=Ga;break;case 536870912:r=p0;break;default:r=Ga}r=zm(r,Tm.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Tm(e,t){if(Aa=-1,Ia=0,ae&6)throw Error(F(327));var r=e.callbackNode;if(us()&&e.callbackNode!==r)return null;var n=Ya(e,e===Ie?Ue:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=po(e,n);else{t=n;var l=ae;ae|=2;var a=Lm();(Ie!==e||Ue!==t)&&(ar=null,Ds=Ce()+500,Mn(e,t));do try{Rv();break}catch(i){Om(e,i)}while(!0);Md(),fo.current=a,ae=l,Se!==null?t=0:(Ie=null,Ue=0,t=Pe)}if(t!==0){if(t===2&&(l=rc(e),l!==0&&(n=l,t=Mc(e,l))),t===1)throw r=Ol,Mn(e,0),Fr(e,n),dt(e,Ce()),r;if(t===6)Fr(e,n);else{if(l=e.current.alternate,!(n&30)&&!Sv(l)&&(t=po(e,n),t===2&&(a=rc(e),a!==0&&(n=a,t=Mc(e,a))),t===1))throw r=Ol,Mn(e,0),Fr(e,n),dt(e,Ce()),r;switch(e.finishedWork=l,e.finishedLanes=n,t){case 0:case 1:throw Error(F(345));case 2:xn(e,at,ar);break;case 3:if(Fr(e,n),(n&130023424)===n&&(t=Hd+500-Ce(),10<t)){if(Ya(e,0)!==0)break;if(l=e.suspendedLanes,(l&n)!==n){et(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=dc(xn.bind(null,e,at,ar),t);break}xn(e,at,ar);break;case 4:if(Fr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,l=-1;0<n;){var o=31-Ft(n);a=1<<o,o=t[o],o>l&&(l=o),n&=~a}if(n=l,n=Ce()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cv(n/1960))-n,10<n){e.timeoutHandle=dc(xn.bind(null,e,at,ar),n);break}xn(e,at,ar);break;case 5:xn(e,at,ar);break;default:throw Error(F(329))}}}return dt(e,Ce()),e.callbackNode===r?Tm.bind(null,e):null}function Mc(e,t){var r=fl;return e.current.memoizedState.isDehydrated&&(Mn(e,t).flags|=256),e=po(e,t),e!==2&&(t=at,at=r,t!==null&&Dc(t)),e}function Dc(e){at===null?at=e:at.push.apply(at,e)}function Sv(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var l=r[n],a=l.getSnapshot;l=l.value;try{if(!At(a(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fr(e,t){for(t&=~Wd,t&=~Io,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ft(t),n=1<<r;e[r]=-1,t&=~n}}function Sf(e){if(ae&6)throw Error(F(327));us();var t=Ya(e,0);if(!(t&1))return dt(e,Ce()),null;var r=po(e,t);if(e.tag!==0&&r===2){var n=rc(e);n!==0&&(t=n,r=Mc(e,n))}if(r===1)throw r=Ol,Mn(e,0),Fr(e,t),dt(e,Ce()),r;if(r===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xn(e,at,ar),dt(e,Ce()),null}function Qd(e,t){var r=ae;ae|=1;try{return e(t)}finally{ae=r,ae===0&&(Ds=Ce()+500,Lo&&un())}}function Fn(e){qr!==null&&qr.tag===0&&!(ae&6)&&us();var t=ae;ae|=1;var r=St.transition,n=ce;try{if(St.transition=null,ce=1,e)return e()}finally{ce=n,St.transition=r,ae=t,!(ae&6)&&un()}}function Kd(){mt=ss.current,pe(ss)}function Mn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,nv(r)),Se!==null)for(r=Se.return;r!==null;){var n=r;switch(Sd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&to();break;case 3:Rs(),pe(it),pe(qe),Fd();break;case 5:Ld(n);break;case 4:Rs();break;case 13:pe(ye);break;case 19:pe(ye);break;case 10:Dd(n.type._context);break;case 22:case 23:Kd()}r=r.return}if(Ie=e,Se=e=nn(e.current,null),Ue=mt=t,Pe=0,Ol=null,Wd=Io=Ln=0,at=fl=null,vn!==null){for(t=0;t<vn.length;t++)if(r=vn[t],n=r.interleaved,n!==null){r.interleaved=null;var l=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=l,n.next=o}r.pending=n}vn=null}return e}function Om(e,t){do{var r=Se;try{if(Md(),La.current=uo,co){for(var n=we.memoizedState;n!==null;){var l=n.queue;l!==null&&(l.pending=null),n=n.next}co=!1}if(On=0,$e=Re=we=null,dl=!1,Dl=0,Vd.current=null,r===null||r.return===null){Pe=1,Ol=t,Se=null;break}e:{var a=e,o=r.return,i=r,c=t;if(t=Ue,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=i,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=mf(o);if(p!==null){p.flags&=-257,pf(p,o,i,a,t),p.mode&1&&hf(a,d,t),t=p,c=d;var y=t.updateQueue;if(y===null){var j=new Set;j.add(c),t.updateQueue=j}else y.add(c);break e}else{if(!(t&1)){hf(a,d,t),qd();break e}c=Error(F(426))}}else if(ge&&i.mode&1){var w=mf(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),pf(w,o,i,a,t),Ed(Ms(c,i));break e}}a=c=Ms(c,i),Pe!==4&&(Pe=2),fl===null?fl=[a]:fl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=gm(a,c,t);af(a,g);break e;case 1:i=c;var x=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(tn===null||!tn.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=vm(a,i,t);af(a,b);break e}}a=a.return}while(a!==null)}$m(r)}catch(R){t=R,Se===r&&r!==null&&(Se=r=r.return);continue}break}while(!0)}function Lm(){var e=fo.current;return fo.current=uo,e===null?uo:e}function qd(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Ie===null||!(Ln&268435455)&&!(Io&268435455)||Fr(Ie,Ue)}function po(e,t){var r=ae;ae|=2;var n=Lm();(Ie!==e||Ue!==t)&&(ar=null,Mn(e,t));do try{Ev();break}catch(l){Om(e,l)}while(!0);if(Md(),ae=r,fo.current=n,Se!==null)throw Error(F(261));return Ie=null,Ue=0,Pe}function Ev(){for(;Se!==null;)Fm(Se)}function Rv(){for(;Se!==null&&!eg();)Fm(Se)}function Fm(e){var t=Im(e.alternate,e,mt);e.memoizedProps=e.pendingProps,t===null?$m(e):Se=t,Vd.current=null}function $m(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=jv(r,t),r!==null){r.flags&=32767,Se=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,Se=null;return}}else if(r=wv(r,t,mt),r!==null){Se=r;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Pe===0&&(Pe=5)}function xn(e,t,r){var n=ce,l=St.transition;try{St.transition=null,ce=1,Mv(e,t,r,n)}finally{St.transition=l,ce=n}return null}function Mv(e,t,r,n){do us();while(qr!==null);if(ae&6)throw Error(F(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(dg(e,a),e===Ie&&(Se=Ie=null,Ue=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ba||(ba=!0,zm(Ga,function(){return us(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=St.transition,St.transition=null;var o=ce;ce=1;var i=ae;ae|=4,Vd.current=null,kv(e,r),Dm(r,e),Yg(ic),Xa=!!oc,ic=oc=null,e.current=r,_v(r),tg(),ae=i,ce=o,St.transition=a}else e.current=r;if(ba&&(ba=!1,qr=e,mo=l),a=e.pendingLanes,a===0&&(tn=null),sg(r.stateNode),dt(e,Ce()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],n(l.value,{componentStack:l.stack,digest:l.digest});if(ho)throw ho=!1,e=Ec,Ec=null,e;return mo&1&&e.tag!==0&&us(),a=e.pendingLanes,a&1?e===Rc?hl++:(hl=0,Rc=e):hl=0,un(),null}function us(){if(qr!==null){var e=g0(mo),t=St.transition,r=ce;try{if(St.transition=null,ce=16>e?16:e,qr===null)var n=!1;else{if(e=qr,qr=null,mo=0,ae&6)throw Error(F(331));var l=ae;for(ae|=4,Q=e.current;Q!==null;){var a=Q,o=a.child;if(Q.flags&16){var i=a.deletions;if(i!==null){for(var c=0;c<i.length;c++){var d=i[c];for(Q=d;Q!==null;){var u=Q;switch(u.tag){case 0:case 11:case 15:ul(8,u,a)}var h=u.child;if(h!==null)h.return=u,Q=h;else for(;Q!==null;){u=Q;var f=u.sibling,p=u.return;if(Em(u),u===d){Q=null;break}if(f!==null){f.return=p,Q=f;break}Q=p}}}var y=a.alternate;if(y!==null){var j=y.child;if(j!==null){y.child=null;do{var w=j.sibling;j.sibling=null,j=w}while(j!==null)}}Q=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Q=o;else e:for(;Q!==null;){if(a=Q,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ul(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,Q=g;break e}Q=a.return}}var x=e.current;for(Q=x;Q!==null;){o=Q;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Q=v;else e:for(o=x;Q!==null;){if(i=Q,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Ao(9,i)}}catch(R){ke(i,i.return,R)}if(i===o){Q=null;break e}var b=i.sibling;if(b!==null){b.return=i.return,Q=b;break e}Q=i.return}}if(ae=l,un(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Mo,e)}catch{}n=!0}return n}finally{ce=r,St.transition=t}}return!1}function Ef(e,t,r){t=Ms(r,t),t=gm(e,t,1),e=en(e,t,1),t=et(),e!==null&&(Ql(e,1,t),dt(e,t))}function ke(e,t,r){if(e.tag===3)Ef(e,e,r);else for(;t!==null;){if(t.tag===3){Ef(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(tn===null||!tn.has(n))){e=Ms(r,e),e=vm(t,e,1),t=en(t,e,1),e=et(),t!==null&&(Ql(t,1,e),dt(t,e));break}}t=t.return}}function Dv(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&r,Ie===e&&(Ue&r)===r&&(Pe===4||Pe===3&&(Ue&130023424)===Ue&&500>Ce()-Hd?Mn(e,0):Wd|=r),dt(e,t)}function Am(e,t){t===0&&(e.mode&1?(t=da,da<<=1,!(da&130023424)&&(da=4194304)):t=1);var r=et();e=yr(e,t),e!==null&&(Ql(e,t,r),dt(e,r))}function Pv(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Am(e,r)}function Tv(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(F(314))}n!==null&&n.delete(t),Am(e,r)}var Im;Im=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||it.current)ot=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ot=!1,bv(e,t,r);ot=!!(e.flags&131072)}else ot=!1,ge&&t.flags&1048576&&V0(t,so,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;$a(e,t),e=t.pendingProps;var l=Cs(t,qe.current);ds(t,r),l=Ad(null,t,n,e,l,r);var a=Id();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ct(n)?(a=!0,ro(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Td(t),l.updater=$o,t.stateNode=l,l._reactInternals=t,gc(t,n,e,r),t=bc(null,t,n,!0,a,r)):(t.tag=0,ge&&a&&Cd(t),Ze(null,t,l,r),t=t.child),t;case 16:n=t.elementType;e:{switch($a(e,t),e=t.pendingProps,l=n._init,n=l(n._payload),t.type=n,l=t.tag=Lv(n),e=Dt(n,e),l){case 0:t=yc(null,t,n,e,r);break e;case 1:t=vf(null,t,n,e,r);break e;case 11:t=xf(null,t,n,e,r);break e;case 14:t=gf(null,t,n,Dt(n.type,e),r);break e}throw Error(F(306,n,""))}return t;case 0:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:Dt(n,l),yc(e,t,n,l,r);case 1:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:Dt(n,l),vf(e,t,n,l,r);case 3:e:{if(jm(t),e===null)throw Error(F(387));n=t.pendingProps,a=t.memoizedState,l=a.element,G0(e,t),oo(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=Ms(Error(F(423)),t),t=yf(e,t,n,r,l);break e}else if(n!==l){l=Ms(Error(F(424)),t),t=yf(e,t,n,r,l);break e}else for(pt=Jr(t.stateNode.containerInfo.firstChild),xt=t,ge=!0,Lt=null,r=K0(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ss(),n===l){t=br(e,t,r);break e}Ze(e,t,n,r)}t=t.child}return t;case 5:return Y0(t),e===null&&mc(t),n=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,o=l.children,cc(n,l)?o=null:a!==null&&cc(n,a)&&(t.flags|=32),wm(e,t),Ze(e,t,o,r),t.child;case 6:return e===null&&mc(t),null;case 13:return Nm(e,t,r);case 4:return Od(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Es(t,null,n,r):Ze(e,t,n,r),t.child;case 11:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:Dt(n,l),xf(e,t,n,l,r);case 7:return Ze(e,t,t.pendingProps,r),t.child;case 8:return Ze(e,t,t.pendingProps.children,r),t.child;case 12:return Ze(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,l=t.pendingProps,a=t.memoizedProps,o=l.value,ue(lo,n._currentValue),n._currentValue=o,a!==null)if(At(a.value,o)){if(a.children===l.children&&!it.current){t=br(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){o=a.child;for(var c=i.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=pr(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),pc(a.return,r,t),i.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(F(341));o.lanes|=r,i=o.alternate,i!==null&&(i.lanes|=r),pc(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ze(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,n=t.pendingProps.children,ds(t,r),l=Et(l),n=n(l),t.flags|=1,Ze(e,t,n,r),t.child;case 14:return n=t.type,l=Dt(n,t.pendingProps),l=Dt(n.type,l),gf(e,t,n,l,r);case 15:return ym(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:Dt(n,l),$a(e,t),t.tag=1,ct(n)?(e=!0,ro(t)):e=!1,ds(t,r),xm(t,n,l),gc(t,n,l,r),bc(null,t,n,!0,e,r);case 19:return km(e,t,r);case 22:return bm(e,t,r)}throw Error(F(156,t.tag))};function zm(e,t){return h0(e,t)}function Ov(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,r,n){return new Ov(e,t,r,n)}function Gd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Lv(e){if(typeof e=="function")return Gd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===md)return 11;if(e===pd)return 14}return 2}function nn(e,t){var r=e.alternate;return r===null?(r=Ct(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function za(e,t,r,n,l,a){var o=2;if(n=e,typeof e=="function")Gd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case qn:return Dn(r.children,l,a,t);case hd:o=8,l|=8;break;case Bi:return e=Ct(12,r,t,l|2),e.elementType=Bi,e.lanes=a,e;case Ui:return e=Ct(13,r,t,l),e.elementType=Ui,e.lanes=a,e;case Vi:return e=Ct(19,r,t,l),e.elementType=Vi,e.lanes=a,e;case Yh:return zo(r,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qh:o=10;break e;case Gh:o=9;break e;case md:o=11;break e;case pd:o=14;break e;case Pr:o=16,n=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Ct(o,r,t,l),t.elementType=e,t.type=n,t.lanes=a,t}function Dn(e,t,r,n){return e=Ct(7,e,n,t),e.lanes=r,e}function zo(e,t,r,n){return e=Ct(22,e,n,t),e.elementType=Yh,e.lanes=r,e.stateNode={isHidden:!1},e}function Di(e,t,r){return e=Ct(6,e,null,t),e.lanes=r,e}function Pi(e,t,r){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fv(e,t,r,n,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fi(0),this.expirationTimes=fi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.identifierPrefix=n,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Yd(e,t,r,n,l,a,o,i,c){return e=new Fv(e,t,r,i,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ct(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Td(a),e}function $v(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Bm(e){if(!e)return on;e=e._reactInternals;e:{if(zn(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var r=e.type;if(ct(r))return B0(e,r,t)}return t}function Um(e,t,r,n,l,a,o,i,c){return e=Yd(r,n,!0,e,l,a,o,i,c),e.context=Bm(null),r=e.current,n=et(),l=rn(r),a=pr(n,l),a.callback=t??null,en(r,a,l),e.current.lanes=l,Ql(e,l,n),dt(e,n),e}function Bo(e,t,r,n){var l=t.current,a=et(),o=rn(l);return r=Bm(r),t.context===null?t.context=r:t.pendingContext=r,t=pr(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=en(l,t,o),e!==null&&($t(e,l,o,a),Oa(e,l,o)),o}function xo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Rf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Xd(e,t){Rf(e,t),(e=e.alternate)&&Rf(e,t)}function Av(){return null}var Vm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zd(e){this._internalRoot=e}Uo.prototype.render=Zd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Bo(e,t,null,null)};Uo.prototype.unmount=Zd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fn(function(){Bo(null,e,null,null)}),t[vr]=null}};function Uo(e){this._internalRoot=e}Uo.prototype.unstable_scheduleHydration=function(e){if(e){var t=b0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Lr.length&&t!==0&&t<Lr[r].priority;r++);Lr.splice(r,0,e),r===0&&j0(e)}};function Jd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Mf(){}function Iv(e,t,r,n,l){if(l){if(typeof n=="function"){var a=n;n=function(){var d=xo(o);a.call(d)}}var o=Um(t,n,e,0,null,!1,!1,"",Mf);return e._reactRootContainer=o,e[vr]=o.current,Cl(e.nodeType===8?e.parentNode:e),Fn(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof n=="function"){var i=n;n=function(){var d=xo(c);i.call(d)}}var c=Yd(e,0,!1,null,null,!1,!1,"",Mf);return e._reactRootContainer=c,e[vr]=c.current,Cl(e.nodeType===8?e.parentNode:e),Fn(function(){Bo(t,c,r,n)}),c}function Wo(e,t,r,n,l){var a=r._reactRootContainer;if(a){var o=a;if(typeof l=="function"){var i=l;l=function(){var c=xo(o);i.call(c)}}Bo(t,o,e,l)}else o=Iv(r,t,e,l,n);return xo(o)}v0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=el(t.pendingLanes);r!==0&&(vd(t,r|1),dt(t,Ce()),!(ae&6)&&(Ds=Ce()+500,un()))}break;case 13:Fn(function(){var n=yr(e,1);if(n!==null){var l=et();$t(n,e,1,l)}}),Xd(e,1)}};yd=function(e){if(e.tag===13){var t=yr(e,134217728);if(t!==null){var r=et();$t(t,e,134217728,r)}Xd(e,134217728)}};y0=function(e){if(e.tag===13){var t=rn(e),r=yr(e,t);if(r!==null){var n=et();$t(r,e,t,n)}Xd(e,t)}};b0=function(){return ce};w0=function(e,t){var r=ce;try{return ce=e,t()}finally{ce=r}};Ji=function(e,t,r){switch(t){case"input":if(Qi(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var l=Oo(n);if(!l)throw Error(F(90));Zh(n),Qi(n,l)}}}break;case"textarea":e0(e,r);break;case"select":t=r.value,t!=null&&as(e,!!r.multiple,t,!1)}};o0=Qd;i0=Fn;var zv={usingClientEntryPoint:!1,Events:[ql,Zn,Oo,l0,a0,Qd]},Xs={findFiberByHostInstance:gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bv={bundleType:Xs.bundleType,version:Xs.version,rendererPackageName:Xs.rendererPackageName,rendererConfig:Xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=u0(e),e===null?null:e.stateNode},findFiberByHostInstance:Xs.findFiberByHostInstance||Av,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wa.isDisabled&&wa.supportsFiber)try{Mo=wa.inject(Bv),Zt=wa}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zv;vt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jd(t))throw Error(F(200));return $v(e,t,null,r)};vt.createRoot=function(e,t){if(!Jd(e))throw Error(F(299));var r=!1,n="",l=Vm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Yd(e,1,!1,null,null,r,!1,n,l),e[vr]=t.current,Cl(e.nodeType===8?e.parentNode:e),new Zd(t)};vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=u0(t),e=e===null?null:e.stateNode,e};vt.flushSync=function(e){return Fn(e)};vt.hydrate=function(e,t,r){if(!Vo(t))throw Error(F(200));return Wo(null,e,t,!0,r)};vt.hydrateRoot=function(e,t,r){if(!Jd(e))throw Error(F(405));var n=r!=null&&r.hydratedSources||null,l=!1,a="",o=Vm;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Um(t,null,e,1,r??null,l,!1,a,o),e[vr]=t.current,Cl(e),n)for(e=0;e<n.length;e++)r=n[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new Uo(t)};vt.render=function(e,t,r){if(!Vo(t))throw Error(F(200));return Wo(null,e,t,!1,r)};vt.unmountComponentAtNode=function(e){if(!Vo(e))throw Error(F(40));return e._reactRootContainer?(Fn(function(){Wo(null,null,e,!1,function(){e._reactRootContainer=null,e[vr]=null})}),!0):!1};vt.unstable_batchedUpdates=Qd;vt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Vo(r))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Wo(e,t,r,!1,n)};vt.version="18.3.1-next-f1338f8080-20240426";function Wm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wm)}catch(e){console.error(e)}}Wm(),Wh.exports=vt;var ls=Wh.exports,Hm,Df=ls;Hm=Df.createRoot,Df.hydrateRoot;var Ls=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Uv={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ar,ld,jh,Vv=(jh=class{constructor(){G(this,Ar,Uv);G(this,ld,!1)}setTimeoutProvider(e){W(this,Ar,e)}setTimeout(e,t){return N(this,Ar).setTimeout(e,t)}clearTimeout(e){N(this,Ar).clearTimeout(e)}setInterval(e,t){return N(this,Ar).setInterval(e,t)}clearInterval(e){N(this,Ar).clearInterval(e)}},Ar=new WeakMap,ld=new WeakMap,jh),bn=new Vv;function Wv(e){setTimeout(e,0)}var $n=typeof window>"u"||"Deno"in globalThis;function Je(){}function Hv(e,t){return typeof e=="function"?e(t):e}function Pc(e){return typeof e=="number"&&e>=0&&e!==1/0}function Qm(e,t){return Math.max(e+(t||0)-Date.now(),0)}function sn(e,t){return typeof e=="function"?e(t):e}function jt(e,t){return typeof e=="function"?e(t):e}function Pf(e,t){const{type:r="all",exact:n,fetchStatus:l,predicate:a,queryKey:o,stale:i}=e;if(o){if(n){if(t.queryHash!==eu(o,t.options))return!1}else if(!Ll(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof i=="boolean"&&t.isStale()!==i||l&&l!==t.state.fetchStatus||a&&!a(t))}function Tf(e,t){const{exact:r,status:n,predicate:l,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(An(t.options.mutationKey)!==An(a))return!1}else if(!Ll(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||l&&!l(t))}function eu(e,t){return((t==null?void 0:t.queryKeyHashFn)||An)(e)}function An(e){return JSON.stringify(e,(t,r)=>Tc(r)?Object.keys(r).sort().reduce((n,l)=>(n[l]=r[l],n),{}):r)}function Ll(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ll(e[r],t[r])):!1}var Qv=Object.prototype.hasOwnProperty;function Km(e,t){if(e===t)return e;const r=Of(e)&&Of(t);if(!r&&!(Tc(e)&&Tc(t)))return t;const l=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),o=a.length,i=r?new Array(o):{};let c=0;for(let d=0;d<o;d++){const u=r?d:a[d],h=e[u],f=t[u];if(h===f){i[u]=h,(r?d<l:Qv.call(e,u))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){i[u]=f;continue}const p=Km(h,f);i[u]=p,p===h&&c++}return l===o&&c===l?e:i}function go(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Of(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Tc(e){if(!Lf(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Lf(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Lf(e){return Object.prototype.toString.call(e)==="[object Object]"}function Kv(e){return new Promise(t=>{bn.setTimeout(t,e)})}function Oc(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Km(e,t):t}function qv(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Gv(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var tu=Symbol();function qm(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===tu?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Gm(e,t){return typeof e=="function"?e(...t):!!e}var wn,Ir,hs,Nh,Yv=(Nh=class extends Ls{constructor(){super();G(this,wn);G(this,Ir);G(this,hs);W(this,hs,t=>{if(!$n&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){N(this,Ir)||this.setEventListener(N(this,hs))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,Ir))==null||t.call(this),W(this,Ir,void 0))}setEventListener(t){var r;W(this,hs,t),(r=N(this,Ir))==null||r.call(this),W(this,Ir,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){N(this,wn)!==t&&(W(this,wn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof N(this,wn)=="boolean"?N(this,wn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},wn=new WeakMap,Ir=new WeakMap,hs=new WeakMap,Nh),ru=new Yv;function Lc(){let e,t;const r=new Promise((l,a)=>{e=l,t=a});r.status="pending",r.catch(()=>{});function n(l){Object.assign(r,l),delete r.resolve,delete r.reject}return r.resolve=l=>{n({status:"fulfilled",value:l}),e(l)},r.reject=l=>{n({status:"rejected",reason:l}),t(l)},r}var Xv=Wv;function Zv(){let e=[],t=0,r=i=>{i()},n=i=>{i()},l=Xv;const a=i=>{t?e.push(i):l(()=>{r(i)})},o=()=>{const i=e;e=[],i.length&&l(()=>{n(()=>{i.forEach(c=>{r(c)})})})};return{batch:i=>{let c;t++;try{c=i()}finally{t--,t||o()}return c},batchCalls:i=>(...c)=>{a(()=>{i(...c)})},schedule:a,setNotifyFunction:i=>{r=i},setBatchNotifyFunction:i=>{n=i},setScheduler:i=>{l=i}}}var De=Zv(),ms,zr,ps,kh,Jv=(kh=class extends Ls{constructor(){super();G(this,ms,!0);G(this,zr);G(this,ps);W(this,ps,t=>{if(!$n&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){N(this,zr)||this.setEventListener(N(this,ps))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,zr))==null||t.call(this),W(this,zr,void 0))}setEventListener(t){var r;W(this,ps,t),(r=N(this,zr))==null||r.call(this),W(this,zr,t(this.setOnline.bind(this)))}setOnline(t){N(this,ms)!==t&&(W(this,ms,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return N(this,ms)}},ms=new WeakMap,zr=new WeakMap,ps=new WeakMap,kh),vo=new Jv;function ey(e){return Math.min(1e3*2**e,3e4)}function Ym(e){return(e??"online")==="online"?vo.isOnline():!0}var Fc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Xm(e){let t=!1,r=0,n;const l=Lc(),a=()=>l.status!=="pending",o=j=>{var w;if(!a()){const g=new Fc(j);f(g),(w=e.onCancel)==null||w.call(e,g)}},i=()=>{t=!0},c=()=>{t=!1},d=()=>ru.isFocused()&&(e.networkMode==="always"||vo.isOnline())&&e.canRun(),u=()=>Ym(e.networkMode)&&e.canRun(),h=j=>{a()||(n==null||n(),l.resolve(j))},f=j=>{a()||(n==null||n(),l.reject(j))},p=()=>new Promise(j=>{var w;n=g=>{(a()||d())&&j(g)},(w=e.onPause)==null||w.call(e)}).then(()=>{var j;n=void 0,a()||(j=e.onContinue)==null||j.call(e)}),y=()=>{if(a())return;let j;const w=r===0?e.initialPromise:void 0;try{j=w??e.fn()}catch(g){j=Promise.reject(g)}Promise.resolve(j).then(h).catch(g=>{var T;if(a())return;const x=e.retry??($n?0:3),v=e.retryDelay??ey,b=typeof v=="function"?v(r,g):v,R=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,g);if(t||!R){f(g);return}r++,(T=e.onFail)==null||T.call(e,r,g),Kv(b).then(()=>d()?void 0:p()).then(()=>{t?f(g):y()})})};return{promise:l,status:()=>l.status,cancel:o,continue:()=>(n==null||n(),l),cancelRetry:i,continueRetry:c,canStart:u,start:()=>(u()?y():p().then(y),l)}}var jn,_h,Zm=(_h=class{constructor(){G(this,jn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Pc(this.gcTime)&&W(this,jn,bn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($n?1/0:5*60*1e3))}clearGcTimeout(){N(this,jn)&&(bn.clearTimeout(N(this,jn)),W(this,jn,void 0))}},jn=new WeakMap,_h),Nn,xs,wt,kn,Fe,zl,_n,Pt,sr,Ch,ty=(Ch=class extends Zm{constructor(t){super();G(this,Pt);G(this,Nn);G(this,xs);G(this,wt);G(this,kn);G(this,Fe);G(this,zl);G(this,_n);W(this,_n,!1),W(this,zl,t.defaultOptions),this.setOptions(t.options),this.observers=[],W(this,kn,t.client),W(this,wt,N(this,kn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,W(this,Nn,$f(this.options)),this.state=t.state??N(this,Nn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=N(this,Fe))==null?void 0:t.promise}setOptions(t){if(this.options={...N(this,zl),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=$f(this.options);r.data!==void 0&&(this.setState(Ff(r.data,r.dataUpdatedAt)),W(this,Nn,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,wt).remove(this)}setData(t,r){const n=Oc(this.state.data,t,this.options);return ee(this,Pt,sr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ee(this,Pt,sr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,l;const r=(n=N(this,Fe))==null?void 0:n.promise;return(l=N(this,Fe))==null||l.cancel(t),r?r.then(Je).catch(Je):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,Nn))}isActive(){return this.observers.some(t=>jt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>sn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Qm(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=N(this,Fe))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=N(this,Fe))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),N(this,wt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(N(this,Fe)&&(N(this,_n)?N(this,Fe).cancel({revert:!0}):N(this,Fe).cancelRetry()),this.scheduleGc()),N(this,wt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ee(this,Pt,sr).call(this,{type:"invalidate"})}async fetch(t,r){var c,d,u,h,f,p,y,j,w,g,x,v;if(this.state.fetchStatus!=="idle"&&((c=N(this,Fe))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(N(this,Fe))return N(this,Fe).continueRetry(),N(this,Fe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(R=>R.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,l=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(W(this,_n,!0),n.signal)})},a=()=>{const b=qm(this.options,r),T=(()=>{const O={client:N(this,kn),queryKey:this.queryKey,meta:this.meta};return l(O),O})();return W(this,_n,!1),this.options.persister?this.options.persister(b,T,this):b(T)},i=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:N(this,kn),state:this.state,fetchFn:a};return l(b),b})();(d=this.options.behavior)==null||d.onFetch(i,this),W(this,xs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&ee(this,Pt,sr).call(this,{type:"fetch",meta:(h=i.fetchOptions)==null?void 0:h.meta}),W(this,Fe,Xm({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,onCancel:b=>{b instanceof Fc&&b.revert&&this.setState({...N(this,xs),fetchStatus:"idle"}),n.abort()},onFail:(b,R)=>{ee(this,Pt,sr).call(this,{type:"failed",failureCount:b,error:R})},onPause:()=>{ee(this,Pt,sr).call(this,{type:"pause"})},onContinue:()=>{ee(this,Pt,sr).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}));try{const b=await N(this,Fe).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(p=(f=N(this,wt).config).onSuccess)==null||p.call(f,b,this),(j=(y=N(this,wt).config).onSettled)==null||j.call(y,b,this.state.error,this),b}catch(b){if(b instanceof Fc){if(b.silent)return N(this,Fe).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw ee(this,Pt,sr).call(this,{type:"error",error:b}),(g=(w=N(this,wt).config).onError)==null||g.call(w,b,this),(v=(x=N(this,wt).config).onSettled)==null||v.call(x,this.state.data,b,this),b}finally{this.scheduleGc()}}},Nn=new WeakMap,xs=new WeakMap,wt=new WeakMap,kn=new WeakMap,Fe=new WeakMap,zl=new WeakMap,_n=new WeakMap,Pt=new WeakSet,sr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Jm(n.data,this.options),fetchMeta:t.meta??null};case"success":const l={...n,...Ff(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return W(this,xs,t.manual?l:void 0),l;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),De.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),N(this,wt).notify({query:this,type:"updated",action:t})})},Ch);function Jm(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ym(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ff(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function $f(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var st,se,Bl,Ye,Cn,gs,cr,Br,Ul,vs,ys,Sn,En,Ur,bs,ie,rl,$c,Ac,Ic,zc,Bc,Uc,Vc,ep,Sh,ry=(Sh=class extends Ls{constructor(t,r){super();G(this,ie);G(this,st);G(this,se);G(this,Bl);G(this,Ye);G(this,Cn);G(this,gs);G(this,cr);G(this,Br);G(this,Ul);G(this,vs);G(this,ys);G(this,Sn);G(this,En);G(this,Ur);G(this,bs,new Set);this.options=r,W(this,st,t),W(this,Br,null),W(this,cr,Lc()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,se).addObserver(this),Af(N(this,se),this.options)?ee(this,ie,rl).call(this):this.updateResult(),ee(this,ie,zc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Wc(N(this,se),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Wc(N(this,se),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ee(this,ie,Bc).call(this),ee(this,ie,Uc).call(this),N(this,se).removeObserver(this)}setOptions(t){const r=this.options,n=N(this,se);if(this.options=N(this,st).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof jt(this.options.enabled,N(this,se))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ee(this,ie,Vc).call(this),N(this,se).setOptions(this.options),r._defaulted&&!go(this.options,r)&&N(this,st).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,se),observer:this});const l=this.hasListeners();l&&If(N(this,se),n,this.options,r)&&ee(this,ie,rl).call(this),this.updateResult(),l&&(N(this,se)!==n||jt(this.options.enabled,N(this,se))!==jt(r.enabled,N(this,se))||sn(this.options.staleTime,N(this,se))!==sn(r.staleTime,N(this,se)))&&ee(this,ie,$c).call(this);const a=ee(this,ie,Ac).call(this);l&&(N(this,se)!==n||jt(this.options.enabled,N(this,se))!==jt(r.enabled,N(this,se))||a!==N(this,Ur))&&ee(this,ie,Ic).call(this,a)}getOptimisticResult(t){const r=N(this,st).getQueryCache().build(N(this,st),t),n=this.createResult(r,t);return sy(this,n)&&(W(this,Ye,n),W(this,gs,this.options),W(this,Cn,N(this,se).state)),n}getCurrentResult(){return N(this,Ye)}trackResult(t,r){return new Proxy(t,{get:(n,l)=>(this.trackProp(l),r==null||r(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&N(this,cr).status==="pending"&&N(this,cr).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,l))})}trackProp(t){N(this,bs).add(t)}getCurrentQuery(){return N(this,se)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=N(this,st).defaultQueryOptions(t),n=N(this,st).getQueryCache().build(N(this,st),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ee(this,ie,rl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,Ye)))}createResult(t,r){var S;const n=N(this,se),l=this.options,a=N(this,Ye),o=N(this,Cn),i=N(this,gs),d=t!==n?t.state:N(this,Bl),{state:u}=t;let h={...u},f=!1,p;if(r._optimisticResults){const C=this.hasListeners(),$=!C&&Af(t,r),B=C&&If(t,n,r,l);($||B)&&(h={...h,...Jm(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:y,errorUpdatedAt:j,status:w}=h;p=h.data;let g=!1;if(r.placeholderData!==void 0&&p===void 0&&w==="pending"){let C;a!=null&&a.isPlaceholderData&&r.placeholderData===(i==null?void 0:i.placeholderData)?(C=a.data,g=!0):C=typeof r.placeholderData=="function"?r.placeholderData((S=N(this,ys))==null?void 0:S.state.data,N(this,ys)):r.placeholderData,C!==void 0&&(w="success",p=Oc(a==null?void 0:a.data,C,r),f=!0)}if(r.select&&p!==void 0&&!g)if(a&&p===(o==null?void 0:o.data)&&r.select===N(this,Ul))p=N(this,vs);else try{W(this,Ul,r.select),p=r.select(p),p=Oc(a==null?void 0:a.data,p,r),W(this,vs,p),W(this,Br,null)}catch(C){W(this,Br,C)}N(this,Br)&&(y=N(this,Br),p=N(this,vs),j=Date.now(),w="error");const x=h.fetchStatus==="fetching",v=w==="pending",b=w==="error",R=v&&x,T=p!==void 0,_={status:w,fetchStatus:h.fetchStatus,isPending:v,isSuccess:w==="success",isError:b,isInitialLoading:R,isLoading:R,data:p,dataUpdatedAt:h.dataUpdatedAt,error:y,errorUpdatedAt:j,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:x,isRefetching:x&&!v,isLoadingError:b&&!T,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&T,isStale:nu(t,r),refetch:this.refetch,promise:N(this,cr),isEnabled:jt(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const C=U=>{_.status==="error"?U.reject(_.error):_.data!==void 0&&U.resolve(_.data)},$=()=>{const U=W(this,cr,_.promise=Lc());C(U)},B=N(this,cr);switch(B.status){case"pending":t.queryHash===n.queryHash&&C(B);break;case"fulfilled":(_.status==="error"||_.data!==B.value)&&$();break;case"rejected":(_.status!=="error"||_.error!==B.reason)&&$();break}}return _}updateResult(){const t=N(this,Ye),r=this.createResult(N(this,se),this.options);if(W(this,Cn,N(this,se).state),W(this,gs,this.options),N(this,Cn).data!==void 0&&W(this,ys,N(this,se)),go(r,t))return;W(this,Ye,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:l}=this.options,a=typeof l=="function"?l():l;if(a==="all"||!a&&!N(this,bs).size)return!0;const o=new Set(a??N(this,bs));return this.options.throwOnError&&o.add("error"),Object.keys(N(this,Ye)).some(i=>{const c=i;return N(this,Ye)[c]!==t[c]&&o.has(c)})};ee(this,ie,ep).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ee(this,ie,zc).call(this)}},st=new WeakMap,se=new WeakMap,Bl=new WeakMap,Ye=new WeakMap,Cn=new WeakMap,gs=new WeakMap,cr=new WeakMap,Br=new WeakMap,Ul=new WeakMap,vs=new WeakMap,ys=new WeakMap,Sn=new WeakMap,En=new WeakMap,Ur=new WeakMap,bs=new WeakMap,ie=new WeakSet,rl=function(t){ee(this,ie,Vc).call(this);let r=N(this,se).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Je)),r},$c=function(){ee(this,ie,Bc).call(this);const t=sn(this.options.staleTime,N(this,se));if($n||N(this,Ye).isStale||!Pc(t))return;const n=Qm(N(this,Ye).dataUpdatedAt,t)+1;W(this,Sn,bn.setTimeout(()=>{N(this,Ye).isStale||this.updateResult()},n))},Ac=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,se)):this.options.refetchInterval)??!1},Ic=function(t){ee(this,ie,Uc).call(this),W(this,Ur,t),!($n||jt(this.options.enabled,N(this,se))===!1||!Pc(N(this,Ur))||N(this,Ur)===0)&&W(this,En,bn.setInterval(()=>{(this.options.refetchIntervalInBackground||ru.isFocused())&&ee(this,ie,rl).call(this)},N(this,Ur)))},zc=function(){ee(this,ie,$c).call(this),ee(this,ie,Ic).call(this,ee(this,ie,Ac).call(this))},Bc=function(){N(this,Sn)&&(bn.clearTimeout(N(this,Sn)),W(this,Sn,void 0))},Uc=function(){N(this,En)&&(bn.clearInterval(N(this,En)),W(this,En,void 0))},Vc=function(){const t=N(this,st).getQueryCache().build(N(this,st),this.options);if(t===N(this,se))return;const r=N(this,se);W(this,se,t),W(this,Bl,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},ep=function(t){De.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(N(this,Ye))}),N(this,st).getQueryCache().notify({query:N(this,se),type:"observerResultsUpdated"})})},Sh);function ny(e,t){return jt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Af(e,t){return ny(e,t)||e.state.data!==void 0&&Wc(e,t,t.refetchOnMount)}function Wc(e,t,r){if(jt(t.enabled,e)!==!1&&sn(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&nu(e,t)}return!1}function If(e,t,r,n){return(e!==t||jt(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&nu(e,r)}function nu(e,t){return jt(t.enabled,e)!==!1&&e.isStaleByTime(sn(t.staleTime,e))}function sy(e,t){return!go(e.getCurrentResult(),t)}function zf(e){return{onFetch:(t,r)=>{var u,h,f,p,y;const n=t.options,l=(f=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let i={pages:[],pageParams:[]},c=0;const d=async()=>{let j=!1;const w=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?j=!0:t.signal.addEventListener("abort",()=>{j=!0}),t.signal)})},g=qm(t.options,t.fetchOptions),x=async(v,b,R)=>{if(j)return Promise.reject();if(b==null&&v.pages.length)return Promise.resolve(v);const O=(()=>{const $={client:t.client,queryKey:t.queryKey,pageParam:b,direction:R?"backward":"forward",meta:t.options.meta};return w($),$})(),_=await g(O),{maxPages:S}=t.options,C=R?Gv:qv;return{pages:C(v.pages,_,S),pageParams:C(v.pageParams,b,S)}};if(l&&a.length){const v=l==="backward",b=v?ly:Bf,R={pages:a,pageParams:o},T=b(n,R);i=await x(R,T,v)}else{const v=e??a.length;do{const b=c===0?o[0]??n.initialPageParam:Bf(n,i);if(c>0&&b==null)break;i=await x(i,b),c++}while(c<v)}return i};t.options.persister?t.fetchFn=()=>{var j,w;return(w=(j=t.options).persister)==null?void 0:w.call(j,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function Bf(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function ly(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Vl,Kt,Xe,Rn,qt,Dr,Eh,ay=(Eh=class extends Zm{constructor(t){super();G(this,qt);G(this,Vl);G(this,Kt);G(this,Xe);G(this,Rn);W(this,Vl,t.client),this.mutationId=t.mutationId,W(this,Xe,t.mutationCache),W(this,Kt,[]),this.state=t.state||tp(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){N(this,Kt).includes(t)||(N(this,Kt).push(t),this.clearGcTimeout(),N(this,Xe).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){W(this,Kt,N(this,Kt).filter(r=>r!==t)),this.scheduleGc(),N(this,Xe).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){N(this,Kt).length||(this.state.status==="pending"?this.scheduleGc():N(this,Xe).remove(this))}continue(){var t;return((t=N(this,Rn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,c,d,u,h,f,p,y,j,w,g,x,v,b,R,T,O,_,S;const r=()=>{ee(this,qt,Dr).call(this,{type:"continue"})},n={client:N(this,Vl),meta:this.options.meta,mutationKey:this.options.mutationKey};W(this,Rn,Xm({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(C,$)=>{ee(this,qt,Dr).call(this,{type:"failed",failureCount:C,error:$})},onPause:()=>{ee(this,qt,Dr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,Xe).canRun(this)}));const l=this.state.status==="pending",a=!N(this,Rn).canStart();try{if(l)r();else{ee(this,qt,Dr).call(this,{type:"pending",variables:t,isPaused:a}),await((i=(o=N(this,Xe).config).onMutate)==null?void 0:i.call(o,t,this,n));const $=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,n));$!==this.state.context&&ee(this,qt,Dr).call(this,{type:"pending",context:$,variables:t,isPaused:a})}const C=await N(this,Rn).start();return await((h=(u=N(this,Xe).config).onSuccess)==null?void 0:h.call(u,C,t,this.state.context,this,n)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,C,t,this.state.context,n)),await((j=(y=N(this,Xe).config).onSettled)==null?void 0:j.call(y,C,null,this.state.variables,this.state.context,this,n)),await((g=(w=this.options).onSettled)==null?void 0:g.call(w,C,null,t,this.state.context,n)),ee(this,qt,Dr).call(this,{type:"success",data:C}),C}catch(C){try{throw await((v=(x=N(this,Xe).config).onError)==null?void 0:v.call(x,C,t,this.state.context,this,n)),await((R=(b=this.options).onError)==null?void 0:R.call(b,C,t,this.state.context,n)),await((O=(T=N(this,Xe).config).onSettled)==null?void 0:O.call(T,void 0,C,this.state.variables,this.state.context,this,n)),await((S=(_=this.options).onSettled)==null?void 0:S.call(_,void 0,C,t,this.state.context,n)),C}finally{ee(this,qt,Dr).call(this,{type:"error",error:C})}}finally{N(this,Xe).runNext(this)}}},Vl=new WeakMap,Kt=new WeakMap,Xe=new WeakMap,Rn=new WeakMap,qt=new WeakSet,Dr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),De.batch(()=>{N(this,Kt).forEach(n=>{n.onMutationUpdate(t)}),N(this,Xe).notify({mutation:this,type:"updated",action:t})})},Eh);function tp(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dr,Tt,Wl,Rh,oy=(Rh=class extends Ls{constructor(t={}){super();G(this,dr);G(this,Tt);G(this,Wl);this.config=t,W(this,dr,new Set),W(this,Tt,new Map),W(this,Wl,0)}build(t,r,n){const l=new ay({client:t,mutationCache:this,mutationId:++sa(this,Wl)._,options:t.defaultMutationOptions(r),state:n});return this.add(l),l}add(t){N(this,dr).add(t);const r=ja(t);if(typeof r=="string"){const n=N(this,Tt).get(r);n?n.push(t):N(this,Tt).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(N(this,dr).delete(t)){const r=ja(t);if(typeof r=="string"){const n=N(this,Tt).get(r);if(n)if(n.length>1){const l=n.indexOf(t);l!==-1&&n.splice(l,1)}else n[0]===t&&N(this,Tt).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=ja(t);if(typeof r=="string"){const n=N(this,Tt).get(r),l=n==null?void 0:n.find(a=>a.state.status==="pending");return!l||l===t}else return!0}runNext(t){var n;const r=ja(t);if(typeof r=="string"){const l=(n=N(this,Tt).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(l==null?void 0:l.continue())??Promise.resolve()}else return Promise.resolve()}clear(){De.batch(()=>{N(this,dr).forEach(t=>{this.notify({type:"removed",mutation:t})}),N(this,dr).clear(),N(this,Tt).clear()})}getAll(){return Array.from(N(this,dr))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Tf(r,n))}findAll(t={}){return this.getAll().filter(r=>Tf(t,r))}notify(t){De.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return De.batch(()=>Promise.all(t.map(r=>r.continue().catch(Je))))}},dr=new WeakMap,Tt=new WeakMap,Wl=new WeakMap,Rh);function ja(e){var t;return(t=e.options.scope)==null?void 0:t.id}var ur,Vr,lt,fr,xr,Ba,Hc,Mh,iy=(Mh=class extends Ls{constructor(r,n){super();G(this,xr);G(this,ur);G(this,Vr);G(this,lt);G(this,fr);W(this,ur,r),this.setOptions(n),this.bindMethods(),ee(this,xr,Ba).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var l;const n=this.options;this.options=N(this,ur).defaultMutationOptions(r),go(this.options,n)||N(this,ur).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,lt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&An(n.mutationKey)!==An(this.options.mutationKey)?this.reset():((l=N(this,lt))==null?void 0:l.state.status)==="pending"&&N(this,lt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=N(this,lt))==null||r.removeObserver(this)}onMutationUpdate(r){ee(this,xr,Ba).call(this),ee(this,xr,Hc).call(this,r)}getCurrentResult(){return N(this,Vr)}reset(){var r;(r=N(this,lt))==null||r.removeObserver(this),W(this,lt,void 0),ee(this,xr,Ba).call(this),ee(this,xr,Hc).call(this)}mutate(r,n){var l;return W(this,fr,n),(l=N(this,lt))==null||l.removeObserver(this),W(this,lt,N(this,ur).getMutationCache().build(N(this,ur),this.options)),N(this,lt).addObserver(this),N(this,lt).execute(r)}},ur=new WeakMap,Vr=new WeakMap,lt=new WeakMap,fr=new WeakMap,xr=new WeakSet,Ba=function(){var n;const r=((n=N(this,lt))==null?void 0:n.state)??tp();W(this,Vr,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Hc=function(r){De.batch(()=>{var n,l,a,o,i,c,d,u;if(N(this,fr)&&this.hasListeners()){const h=N(this,Vr).variables,f=N(this,Vr).context,p={client:N(this,ur),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((l=(n=N(this,fr)).onSuccess)==null||l.call(n,r.data,h,f,p),(o=(a=N(this,fr)).onSettled)==null||o.call(a,r.data,null,h,f,p)):(r==null?void 0:r.type)==="error"&&((c=(i=N(this,fr)).onError)==null||c.call(i,r.error,h,f,p),(u=(d=N(this,fr)).onSettled)==null||u.call(d,void 0,r.error,h,f,p))}this.listeners.forEach(h=>{h(N(this,Vr))})})},Mh),Gt,Dh,cy=(Dh=class extends Ls{constructor(t={}){super();G(this,Gt);this.config=t,W(this,Gt,new Map)}build(t,r,n){const l=r.queryKey,a=r.queryHash??eu(l,r);let o=this.get(a);return o||(o=new ty({client:t,queryKey:l,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(l)}),this.add(o)),o}add(t){N(this,Gt).has(t.queryHash)||(N(this,Gt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=N(this,Gt).get(t.queryHash);r&&(t.destroy(),r===t&&N(this,Gt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){De.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return N(this,Gt).get(t)}getAll(){return[...N(this,Gt).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Pf(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Pf(t,n)):r}notify(t){De.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){De.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){De.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Gt=new WeakMap,Dh),Ne,Wr,Hr,ws,js,Qr,Ns,ks,Ph,dy=(Ph=class{constructor(e={}){G(this,Ne);G(this,Wr);G(this,Hr);G(this,ws);G(this,js);G(this,Qr);G(this,Ns);G(this,ks);W(this,Ne,e.queryCache||new cy),W(this,Wr,e.mutationCache||new oy),W(this,Hr,e.defaultOptions||{}),W(this,ws,new Map),W(this,js,new Map),W(this,Qr,0)}mount(){sa(this,Qr)._++,N(this,Qr)===1&&(W(this,Ns,ru.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,Ne).onFocus())})),W(this,ks,vo.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,Ne).onOnline())})))}unmount(){var e,t;sa(this,Qr)._--,N(this,Qr)===0&&((e=N(this,Ns))==null||e.call(this),W(this,Ns,void 0),(t=N(this,ks))==null||t.call(this),W(this,ks,void 0))}isFetching(e){return N(this,Ne).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return N(this,Wr).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=N(this,Ne).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=N(this,Ne).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(sn(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return N(this,Ne).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),l=N(this,Ne).get(n.queryHash),a=l==null?void 0:l.state.data,o=Hv(t,a);if(o!==void 0)return N(this,Ne).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return De.batch(()=>N(this,Ne).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=N(this,Ne).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=N(this,Ne);De.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=N(this,Ne);return De.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=De.batch(()=>N(this,Ne).findAll(e).map(l=>l.cancel(r)));return Promise.all(n).then(Je).catch(Je)}invalidateQueries(e,t={}){return De.batch(()=>(N(this,Ne).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=De.batch(()=>N(this,Ne).findAll(e).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let a=l.fetch(void 0,r);return r.throwOnError||(a=a.catch(Je)),l.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Je)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=N(this,Ne).build(this,t);return r.isStaleByTime(sn(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Je).catch(Je)}fetchInfiniteQuery(e){return e.behavior=zf(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Je).catch(Je)}ensureInfiniteQueryData(e){return e.behavior=zf(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return vo.isOnline()?N(this,Wr).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,Ne)}getMutationCache(){return N(this,Wr)}getDefaultOptions(){return N(this,Hr)}setDefaultOptions(e){W(this,Hr,e)}setQueryDefaults(e,t){N(this,ws).set(An(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...N(this,ws).values()],r={};return t.forEach(n=>{Ll(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){N(this,js).set(An(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...N(this,js).values()],r={};return t.forEach(n=>{Ll(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...N(this,Hr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=eu(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===tu&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...N(this,Hr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){N(this,Ne).clear(),N(this,Wr).clear()}},Ne=new WeakMap,Wr=new WeakMap,Hr=new WeakMap,ws=new WeakMap,js=new WeakMap,Qr=new WeakMap,Ns=new WeakMap,ks=new WeakMap,Ph),rp=m.createContext(void 0),Yl=e=>{const t=m.useContext(rp);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},uy=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(rp.Provider,{value:e,children:t})),np=m.createContext(!1),fy=()=>m.useContext(np);np.Provider;function hy(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var my=m.createContext(hy()),py=()=>m.useContext(my),xy=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},gy=e=>{m.useEffect(()=>{e.clearReset()},[e])},vy=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:l})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(l&&e.data===void 0||Gm(r,[e.error,n])),yy=e=>{if(e.suspense){const r=l=>l==="static"?l:Math.max(l??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...l)=>r(n(...l)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},by=(e,t)=>e.isLoading&&e.isFetching&&!t,wy=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Uf=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function jy(e,t,r){var h,f,p,y,j;const n=fy(),l=py(),a=Yl(),o=a.defaultQueryOptions(e);(f=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",yy(o),xy(o,l),gy(l);const i=!a.getQueryCache().get(o.queryHash),[c]=m.useState(()=>new t(a,o)),d=c.getOptimisticResult(o),u=!n&&e.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(w=>{const g=u?c.subscribe(De.batchCalls(w)):Je;return c.updateResult(),g},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(o)},[o,c]),wy(o,d))throw Uf(o,c,l);if(vy({result:d,errorResetBoundary:l,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((y=(p=a.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||y.call(p,o,d),o.experimental_prefetchInRender&&!$n&&by(d,n)){const w=i?Uf(o,c,l):(j=a.getQueryCache().get(o.queryHash))==null?void 0:j.promise;w==null||w.catch(Je).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function er(e,t){return jy(e,ry)}function ir(e,t){const r=Yl(),[n]=m.useState(()=>new iy(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const l=m.useSyncExternalStore(m.useCallback(o=>n.subscribe(De.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=m.useCallback((o,i)=>{n.mutate(o,i).catch(Je)},[n]);if(l.error&&Gm(n.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:a,mutateAsync:l.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fl.apply(this,arguments)}var Gr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Gr||(Gr={}));const Vf="popstate";function Ny(e){e===void 0&&(e={});function t(n,l){let{pathname:a,search:o,hash:i}=n.location;return Qc("",{pathname:a,search:o,hash:i},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(n,l){return typeof l=="string"?l:yo(l)}return _y(t,r,null,e)}function Ee(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ky(){return Math.random().toString(36).substr(2,8)}function Wf(e,t){return{usr:e.state,key:e.key,idx:t}}function Qc(e,t,r,n){return r===void 0&&(r=null),Fl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Fs(t):t,{state:r,key:t&&t.key||n||ky()})}function yo(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Fs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function _y(e,t,r,n){n===void 0&&(n={});let{window:l=document.defaultView,v5Compat:a=!1}=n,o=l.history,i=Gr.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Fl({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){i=Gr.Pop;let w=u(),g=w==null?null:w-d;d=w,c&&c({action:i,location:j.location,delta:g})}function f(w,g){i=Gr.Push;let x=Qc(j.location,w,g);d=u()+1;let v=Wf(x,d),b=j.createHref(x);try{o.pushState(v,"",b)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;l.location.assign(b)}a&&c&&c({action:i,location:j.location,delta:1})}function p(w,g){i=Gr.Replace;let x=Qc(j.location,w,g);d=u();let v=Wf(x,d),b=j.createHref(x);o.replaceState(v,"",b),a&&c&&c({action:i,location:j.location,delta:0})}function y(w){let g=l.location.origin!=="null"?l.location.origin:l.location.href,x=typeof w=="string"?w:yo(w);return x=x.replace(/ $/,"%20"),Ee(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let j={get action(){return i},get location(){return e(l,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return l.addEventListener(Vf,h),c=w,()=>{l.removeEventListener(Vf,h),c=null}},createHref(w){return t(l,w)},createURL:y,encodeLocation(w){let g=y(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(w){return o.go(w)}};return j}var Hf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Hf||(Hf={}));function Cy(e,t,r){return r===void 0&&(r="/"),Sy(e,t,r)}function Sy(e,t,r,n){let l=typeof t=="string"?Fs(t):t,a=su(l.pathname||"/",r);if(a==null)return null;let o=lp(e);Ey(o);let i=null;for(let c=0;i==null&&c<o.length;++c){let d=zy(a);i=$y(o[c],d)}return i}function lp(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let l=(a,o,i)=>{let c={relativePath:i===void 0?a.path||"":i,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Ee(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=ln([n,c.relativePath]),u=r.concat(c);a.children&&a.children.length>0&&(Ee(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),lp(a.children,t,u,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:Ly(d,a.index),routesMeta:u})};return e.forEach((a,o)=>{var i;if(a.path===""||!((i=a.path)!=null&&i.includes("?")))l(a,o);else for(let c of ap(a.path))l(a,o,c)}),t}function ap(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,l=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return l?[a,""]:[a];let o=ap(n.join("/")),i=[];return i.push(...o.map(c=>c===""?a:[a,c].join("/"))),l&&i.push(...o),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function Ey(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Fy(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Ry=/^:[\w-]+$/,My=3,Dy=2,Py=1,Ty=10,Oy=-2,Qf=e=>e==="*";function Ly(e,t){let r=e.split("/"),n=r.length;return r.some(Qf)&&(n+=Oy),t&&(n+=Dy),r.filter(l=>!Qf(l)).reduce((l,a)=>l+(Ry.test(a)?My:a===""?Py:Ty),n)}function Fy(e,t){return e.length===t.length&&e.slice(0,-1).every((n,l)=>n===t[l])?e[e.length-1]-t[t.length-1]:0}function $y(e,t,r){let{routesMeta:n}=e,l={},a="/",o=[];for(let i=0;i<n.length;++i){let c=n[i],d=i===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",h=Ay({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h)return null;Object.assign(l,h.params),o.push({params:l,pathname:ln([a,h.pathname]),pathnameBase:Wy(ln([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=ln([a,h.pathnameBase]))}return o}function Ay(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Iy(e.path,e.caseSensitive,e.end),l=t.match(r);if(!l)return null;let a=l[0],o=a.replace(/(.)\/+$/,"$1"),i=l.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let j=i[h]||"";o=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const y=i[h];return p&&!y?d[f]=void 0:d[f]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function Iy(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),sp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,i,c)=>(n.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),n]}function zy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function su(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function By(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:l=""}=typeof e=="string"?Fs(e):e;return{pathname:r?r.startsWith("/")?r:Uy(r,t):t,search:Hy(n),hash:Qy(l)}}function Uy(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Ti(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Vy(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function op(e,t){let r=Vy(e);return t?r.map((n,l)=>l===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ip(e,t,r,n){n===void 0&&(n=!1);let l;typeof e=="string"?l=Fs(e):(l=Fl({},e),Ee(!l.pathname||!l.pathname.includes("?"),Ti("?","pathname","search",l)),Ee(!l.pathname||!l.pathname.includes("#"),Ti("#","pathname","hash",l)),Ee(!l.search||!l.search.includes("#"),Ti("#","search","hash",l)));let a=e===""||l.pathname==="",o=a?"/":l.pathname,i;if(o==null)i=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;l.pathname=f.join("/")}i=h>=0?t[h]:"/"}let c=By(l,i),d=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const ln=e=>e.join("/").replace(/\/\/+/g,"/"),Wy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Hy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Qy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ky(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const cp=["post","put","patch","delete"];new Set(cp);const qy=["get",...cp];new Set(qy);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$l.apply(this,arguments)}const lu=m.createContext(null),Gy=m.createContext(null),Bn=m.createContext(null),Ho=m.createContext(null),Un=m.createContext({outlet:null,matches:[],isDataRoute:!1}),dp=m.createContext(null);function Yy(e,t){let{relative:r}=t===void 0?{}:t;Xl()||Ee(!1);let{basename:n,navigator:l}=m.useContext(Bn),{hash:a,pathname:o,search:i}=fp(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ln([n,o])),l.createHref({pathname:c,search:i,hash:a})}function Xl(){return m.useContext(Ho)!=null}function Qo(){return Xl()||Ee(!1),m.useContext(Ho).location}function up(e){m.useContext(Bn).static||m.useLayoutEffect(e)}function Ko(){let{isDataRoute:e}=m.useContext(Un);return e?cb():Xy()}function Xy(){Xl()||Ee(!1);let e=m.useContext(lu),{basename:t,future:r,navigator:n}=m.useContext(Bn),{matches:l}=m.useContext(Un),{pathname:a}=Qo(),o=JSON.stringify(op(l,r.v7_relativeSplatPath)),i=m.useRef(!1);return up(()=>{i.current=!0}),m.useCallback(function(d,u){if(u===void 0&&(u={}),!i.current)return;if(typeof d=="number"){n.go(d);return}let h=ip(d,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ln([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,o,a,e])}function fp(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=m.useContext(Bn),{matches:l}=m.useContext(Un),{pathname:a}=Qo(),o=JSON.stringify(op(l,n.v7_relativeSplatPath));return m.useMemo(()=>ip(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function Zy(e,t){return Jy(e,t)}function Jy(e,t,r,n){Xl()||Ee(!1);let{navigator:l}=m.useContext(Bn),{matches:a}=m.useContext(Un),o=a[a.length-1],i=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Qo(),u;if(t){var h;let w=typeof t=="string"?Fs(t):t;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||Ee(!1),u=w}else u=d;let f=u.pathname||"/",p=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=Cy(e,{pathname:p}),j=sb(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},i,w.params),pathname:ln([c,l.encodeLocation?l.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ln([c,l.encodeLocation?l.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,r,n);return t&&j?m.createElement(Ho.Provider,{value:{location:$l({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Gr.Pop}},j):j}function eb(){let e=ib(),t=Ky(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:l},r):null,null)}const tb=m.createElement(eb,null);class rb extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(Un.Provider,{value:this.props.routeContext},m.createElement(dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nb(e){let{routeContext:t,match:r,children:n}=e,l=m.useContext(lu);return l&&l.static&&l.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(Un.Provider,{value:t},n)}function sb(e,t,r,n){var l;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,i=(l=r)==null?void 0:l.errors;if(i!=null){let u=o.findIndex(h=>h.route.id&&(i==null?void 0:i[h.route.id])!==void 0);u>=0||Ee(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:p}=r,y=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,y=!1,j=null,w=null;r&&(p=i&&h.route.id?i[h.route.id]:void 0,j=h.route.errorElement||tb,c&&(d<0&&f===0?(db("route-fallback"),y=!0,w=null):d===f&&(y=!0,w=h.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,f+1)),x=()=>{let v;return p?v=j:y?v=w:h.route.Component?v=m.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=u,m.createElement(nb,{match:h,routeContext:{outlet:u,matches:g,isDataRoute:r!=null},children:v})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?m.createElement(rb,{location:r.location,revalidation:r.revalidation,component:j,error:p,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var hp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(hp||{}),mp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(mp||{});function lb(e){let t=m.useContext(lu);return t||Ee(!1),t}function ab(e){let t=m.useContext(Gy);return t||Ee(!1),t}function ob(e){let t=m.useContext(Un);return t||Ee(!1),t}function pp(e){let t=ob(),r=t.matches[t.matches.length-1];return r.route.id||Ee(!1),r.route.id}function ib(){var e;let t=m.useContext(dp),r=ab(),n=pp();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function cb(){let{router:e}=lb(hp.UseNavigateStable),t=pp(mp.UseNavigateStable),r=m.useRef(!1);return up(()=>{r.current=!0}),m.useCallback(function(l,a){a===void 0&&(a={}),r.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,$l({fromRouteId:t},a)))},[e,t])}const Kf={};function db(e,t,r){Kf[e]||(Kf[e]=!0)}function ub(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function lr(e){Ee(!1)}function fb(e){let{basename:t="/",children:r=null,location:n,navigationType:l=Gr.Pop,navigator:a,static:o=!1,future:i}=e;Xl()&&Ee(!1);let c=t.replace(/^\/*/,"/"),d=m.useMemo(()=>({basename:c,navigator:a,static:o,future:$l({v7_relativeSplatPath:!1},i)}),[c,i,a,o]);typeof n=="string"&&(n=Fs(n));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:y="default"}=n,j=m.useMemo(()=>{let w=su(u,c);return w==null?null:{location:{pathname:w,search:h,hash:f,state:p,key:y},navigationType:l}},[c,u,h,f,p,y,l]);return j==null?null:m.createElement(Bn.Provider,{value:d},m.createElement(Ho.Provider,{children:r,value:j}))}function hb(e){let{children:t,location:r}=e;return Zy(Kc(t),r)}new Promise(()=>{});function Kc(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,l)=>{if(!m.isValidElement(n))return;let a=[...t,l];if(n.type===m.Fragment){r.push.apply(r,Kc(n.props.children,a));return}n.type!==lr&&Ee(!1),!n.props.index||!n.props.children||Ee(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Kc(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qc(){return qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qc.apply(this,arguments)}function mb(e,t){if(e==null)return{};var r={},n=Object.keys(e),l,a;for(a=0;a<n.length;a++)l=n[a],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function pb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function xb(e,t){return e.button===0&&(!t||t==="_self")&&!pb(e)}const gb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vb="6";try{window.__reactRouterVersion=vb}catch{}const yb="startTransition",qf=Dx[yb];function bb(e){let{basename:t,children:r,future:n,window:l}=e,a=m.useRef();a.current==null&&(a.current=Ny({window:l,v5Compat:!0}));let o=a.current,[i,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=m.useCallback(h=>{d&&qf?qf(()=>c(h)):c(h)},[c,d]);return m.useLayoutEffect(()=>o.listen(u),[o,u]),m.useEffect(()=>ub(n),[n]),m.createElement(fb,{basename:t,children:r,location:i.location,navigationType:i.action,navigator:o,future:n})}const wb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nb=m.forwardRef(function(t,r){let{onClick:n,relative:l,reloadDocument:a,replace:o,state:i,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,f=mb(t,gb),{basename:p}=m.useContext(Bn),y,j=!1;if(typeof d=="string"&&jb.test(d)&&(y=d,wb))try{let v=new URL(window.location.href),b=d.startsWith("//")?new URL(v.protocol+d):new URL(d),R=su(b.pathname,p);b.origin===v.origin&&R!=null?d=R+b.search+b.hash:j=!0}catch{}let w=Yy(d,{relative:l}),g=kb(d,{replace:o,state:i,target:c,preventScrollReset:u,relative:l,viewTransition:h});function x(v){n&&n(v),v.defaultPrevented||g(v)}return m.createElement("a",qc({},f,{href:y||w,onClick:j||a?n:x,ref:r,target:c}))});var Gf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Gf||(Gf={}));var Yf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Yf||(Yf={}));function kb(e,t){let{target:r,replace:n,state:l,preventScrollReset:a,relative:o,viewTransition:i}=t===void 0?{}:t,c=Ko(),d=Qo(),u=fp(e,{relative:o});return m.useCallback(h=>{if(xb(h,r)){h.preventDefault();let f=n!==void 0?n:yo(d)===yo(u);c(e,{replace:f,state:l,preventScrollReset:a,relative:o,viewTransition:i})}},[d,c,u,n,l,r,e,a,o,i])}let _b={data:""},Cb=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||_b},Sb=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Eb=/\/\*[^]*?\*\/|  +/g,Xf=/\n+/g,$r=(e,t)=>{let r="",n="",l="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?r=a+" "+o+";":n+=a[1]=="f"?$r(o,a):a+"{"+$r(o,a[1]=="k"?"":t)+"}":typeof o=="object"?n+=$r(o,t?t.replace(/([^,])+/g,i=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,i):i?i+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),l+=$r.p?$r.p(a,o):a+":"+o+";")}return r+(t&&l?t+"{"+l+"}":l)+n},nr={},xp=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+xp(e[r]);return t}return e},Rb=(e,t,r,n,l)=>{let a=xp(e),o=nr[a]||(nr[a]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(a));if(!nr[o]){let c=a!==e?e:(d=>{let u,h,f=[{}];for(;u=Sb.exec(d.replace(Eb,""));)u[4]?f.shift():u[3]?(h=u[3].replace(Xf," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][u[1]]=u[2].replace(Xf," ").trim();return f[0]})(e);nr[o]=$r(l?{["@keyframes "+o]:c}:c,r?"":"."+o)}let i=r&&nr.g?nr.g:null;return r&&(nr.g=nr[o]),((c,d,u,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(nr[o],t,n,i),o},Mb=(e,t,r)=>e.reduce((n,l,a)=>{let o=t[a];if(o&&o.call){let i=o(r),c=i&&i.props&&i.props.className||/^go/.test(i)&&i;o=c?"."+c:i&&typeof i=="object"?i.props?"":$r(i,""):i===!1?"":i}return n+l+(o??"")},"");function qo(e){let t=this||{},r=e.call?e(t.p):e;return Rb(r.unshift?r.raw?Mb(r,[].slice.call(arguments,1),t.p):r.reduce((n,l)=>Object.assign(n,l&&l.call?l(t.p):l),{}):r,Cb(t.target),t.g,t.o,t.k)}let gp,Gc,Yc;qo.bind({g:1});let wr=qo.bind({k:1});function Db(e,t,r,n){$r.p=t,gp=e,Gc=r,Yc=n}function fn(e,t){let r=this||{};return function(){let n=arguments;function l(a,o){let i=Object.assign({},a),c=i.className||l.className;r.p=Object.assign({theme:Gc&&Gc()},i),r.o=/ *go\d+/.test(c),i.className=qo.apply(r,n)+(c?" "+c:"");let d=e;return e[0]&&(d=i.as||e,delete i.as),Yc&&d[0]&&Yc(i),gp(d,i)}return l}}var Pb=e=>typeof e=="function",bo=(e,t)=>Pb(e)?e(t):e,Tb=(()=>{let e=0;return()=>(++e).toString()})(),vp=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Ob=20,au="default",yp=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return yp(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:l}=t;return{...e,toasts:e.toasts.map(o=>o.id===l||l===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},Ua=[],bp={toasts:[],pausedAt:void 0,settings:{toastLimit:Ob}},Xt={},wp=(e,t=au)=>{Xt[t]=yp(Xt[t]||bp,e),Ua.forEach(([r,n])=>{r===t&&n(Xt[t])})},jp=e=>Object.keys(Xt).forEach(t=>wp(e,t)),Lb=e=>Object.keys(Xt).find(t=>Xt[t].toasts.some(r=>r.id===e)),Go=(e=au)=>t=>{wp(t,e)},Fb={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},$b=(e={},t=au)=>{let[r,n]=m.useState(Xt[t]||bp),l=m.useRef(Xt[t]);m.useEffect(()=>(l.current!==Xt[t]&&n(Xt[t]),Ua.push([t,n]),()=>{let o=Ua.findIndex(([i])=>i===t);o>-1&&Ua.splice(o,1)}),[t]);let a=r.toasts.map(o=>{var i,c,d;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((i=e[o.type])==null?void 0:i.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((c=e[o.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||Fb[o.type],style:{...e.style,...(d=e[o.type])==null?void 0:d.style,...o.style}}});return{...r,toasts:a}},Ab=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Tb()}),Zl=e=>(t,r)=>{let n=Ab(t,e,r);return Go(n.toasterId||Lb(n.id))({type:2,toast:n}),n.id},be=(e,t)=>Zl("blank")(e,t);be.error=Zl("error");be.success=Zl("success");be.loading=Zl("loading");be.custom=Zl("custom");be.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Go(t)(r):jp(r)};be.dismissAll=e=>be.dismiss(void 0,e);be.remove=(e,t)=>{let r={type:4,toastId:e};t?Go(t)(r):jp(r)};be.removeAll=e=>be.remove(void 0,e);be.promise=(e,t,r)=>{let n=be.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(l=>{let a=t.success?bo(t.success,l):void 0;return a?be.success(a,{id:n,...r,...r==null?void 0:r.success}):be.dismiss(n),l}).catch(l=>{let a=t.error?bo(t.error,l):void 0;a?be.error(a,{id:n,...r,...r==null?void 0:r.error}):be.dismiss(n)}),e};var Ib=1e3,zb=(e,t="default")=>{let{toasts:r,pausedAt:n}=$b(e,t),l=m.useRef(new Map).current,a=m.useCallback((h,f=Ib)=>{if(l.has(h))return;let p=setTimeout(()=>{l.delete(h),o({type:4,toastId:h})},f);l.set(h,p)},[]);m.useEffect(()=>{if(n)return;let h=Date.now(),f=r.map(p=>{if(p.duration===1/0)return;let y=(p.duration||0)+p.pauseDuration-(h-p.createdAt);if(y<0){p.visible&&be.dismiss(p.id);return}return setTimeout(()=>be.dismiss(p.id,t),y)});return()=>{f.forEach(p=>p&&clearTimeout(p))}},[r,n,t]);let o=m.useCallback(Go(t),[t]),i=m.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=m.useCallback((h,f)=>{o({type:1,toast:{id:h,height:f}})},[o]),d=m.useCallback(()=>{n&&o({type:6,time:Date.now()})},[n,o]),u=m.useCallback((h,f)=>{let{reverseOrder:p=!1,gutter:y=8,defaultPosition:j}=f||{},w=r.filter(v=>(v.position||j)===(h.position||j)&&v.height),g=w.findIndex(v=>v.id===h.id),x=w.filter((v,b)=>b<g&&v.visible).length;return w.filter(v=>v.visible).slice(...p?[x+1]:[0,x]).reduce((v,b)=>v+(b.height||0)+y,0)},[r]);return m.useEffect(()=>{r.forEach(h=>{if(h.dismissed)a(h.id,h.removeDelay);else{let f=l.get(h.id);f&&(clearTimeout(f),l.delete(h.id))}})},[r,a]),{toasts:r,handlers:{updateHeight:c,startPause:i,endPause:d,calculateOffset:u}}},Bb=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Ub=wr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Vb=wr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Wb=fn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Bb} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Ub} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Vb} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Hb=wr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Qb=fn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Hb} 1s linear infinite;
`,Kb=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,qb=wr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Gb=fn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Kb} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${qb} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Yb=fn("div")`
  position: absolute;
`,Xb=fn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Zb=wr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Jb=fn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Zb} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ew=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?m.createElement(Jb,null,t):t:r==="blank"?null:m.createElement(Xb,null,m.createElement(Qb,{...n}),r!=="loading"&&m.createElement(Yb,null,r==="error"?m.createElement(Wb,{...n}):m.createElement(Gb,{...n})))},tw=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,rw=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,nw="0%{opacity:0;} 100%{opacity:1;}",sw="0%{opacity:1;} 100%{opacity:0;}",lw=fn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,aw=fn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ow=(e,t)=>{let r=e.includes("top")?1:-1,[n,l]=vp()?[nw,sw]:[tw(r),rw(r)];return{animation:t?`${wr(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wr(l)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},iw=m.memo(({toast:e,position:t,style:r,children:n})=>{let l=e.height?ow(e.position||t||"top-center",e.visible):{opacity:0},a=m.createElement(ew,{toast:e}),o=m.createElement(aw,{...e.ariaProps},bo(e.message,e));return m.createElement(lw,{className:e.className,style:{...l,...r,...e.style}},typeof n=="function"?n({icon:a,message:o}):m.createElement(m.Fragment,null,a,o))});Db(m.createElement);var cw=({id:e,className:t,style:r,onHeightUpdate:n,children:l})=>{let a=m.useCallback(o=>{if(o){let i=()=>{let c=o.getBoundingClientRect().height;n(e,c)};i(),new MutationObserver(i).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return m.createElement("div",{ref:a,className:t,style:r},l)},dw=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},l=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:vp()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...l}},uw=qo`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Na=16,fw=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:l,toasterId:a,containerStyle:o,containerClassName:i})=>{let{toasts:c,handlers:d}=zb(r,a);return m.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Na,left:Na,right:Na,bottom:Na,pointerEvents:"none",...o},className:i,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(u=>{let h=u.position||t,f=d.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),p=dw(h,f);return m.createElement(cw,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?uw:"",style:p},u.type==="custom"?bo(u.message,u):l?l(u):m.createElement(iw,{toast:u,position:h}))}))},q=be;const Zf="cloudracer_favorite_riders";function Np(){const[e,t]=m.useState(()=>{try{const l=localStorage.getItem(Zf);return l?JSON.parse(l):[]}catch{return[]}});return m.useEffect(()=>{localStorage.setItem(Zf,JSON.stringify(e))},[e]),{favorites:e,toggleFavorite:l=>{t(a=>a.includes(l)?a.filter(o=>o!==l):[...a,l])},isFavorite:l=>e.includes(l)}}const ml=[{rank:1,name:"Diamond",icon:"",min:2200,color:"from-cyan-400 to-blue-500",textColor:"text-cyan-100",bgColor:"bg-gradient-to-r from-cyan-500/20 to-blue-500/20"},{rank:2,name:"Ruby",icon:"",min:1900,max:2200,color:"from-red-500 to-pink-600",textColor:"text-red-100",bgColor:"bg-gradient-to-r from-red-500/20 to-pink-600/20"},{rank:3,name:"Emerald",icon:"",min:1650,max:1900,color:"from-emerald-400 to-green-600",textColor:"text-emerald-100",bgColor:"bg-gradient-to-r from-emerald-400/20 to-green-600/20"},{rank:4,name:"Sapphire",icon:"",min:1450,max:1650,color:"from-blue-400 to-indigo-600",textColor:"text-blue-100",bgColor:"bg-gradient-to-r from-blue-400/20 to-indigo-600/20"},{rank:5,name:"Amethyst",icon:"",min:1300,max:1450,color:"from-purple-400 to-violet-600",textColor:"text-purple-100",bgColor:"bg-gradient-to-r from-purple-400/20 to-violet-600/20"},{rank:6,name:"Platinum",icon:"",min:1150,max:1300,color:"from-slate-300 to-slate-500",textColor:"text-slate-100",bgColor:"bg-gradient-to-r from-slate-400/20 to-slate-500/20"},{rank:7,name:"Gold",icon:"",min:1e3,max:1150,color:"from-yellow-400 to-amber-600",textColor:"text-yellow-900",bgColor:"bg-gradient-to-r from-yellow-400/20 to-amber-600/20"},{rank:8,name:"Silver",icon:"",min:850,max:1e3,color:"from-gray-300 to-gray-500",textColor:"text-gray-700",bgColor:"bg-gradient-to-r from-gray-300/20 to-gray-500/20"},{rank:9,name:"Bronze",icon:"",min:650,max:850,color:"from-orange-400 to-orange-700",textColor:"text-orange-900",bgColor:"bg-gradient-to-r from-orange-400/20 to-orange-700/20"},{rank:10,name:"Copper",icon:"",min:0,max:650,color:"from-orange-600 to-red-800",textColor:"text-orange-100",bgColor:"bg-gradient-to-r from-orange-600/20 to-red-800/20"}],nl={"A+":{color:"bg-red-100 text-red-900 border-red-300",label:"A+"},A:{color:"bg-red-50 text-red-800 border-red-200",label:"A"},B:{color:"bg-green-50 text-green-800 border-green-200",label:"B"},C:{color:"bg-blue-50 text-blue-800 border-blue-200",label:"C"},D:{color:"bg-yellow-50 text-yellow-800 border-yellow-200",label:"D"}},hn=(e,t)=>{if(!e||!t||t===0)return"text-gray-700";const r=e/t*100;return r>=100?"bg-yellow-300 text-yellow-900 font-bold":r>=95?"bg-gray-300 text-gray-800 font-semibold":r>=90?"bg-orange-300 text-orange-900":"text-gray-700"},Va=e=>e?ml.find(t=>e>=t.min&&(!t.max||e<t.max)):null,hw=(e,t)=>{if(!t.max)return 100;const r=t.max-t.min,n=e-t.min;return Math.min(100,Math.max(0,n/r*100))},Jf=({rating:e})=>{if(!e)return s.jsx("span",{className:"text-gray-400",children:"-"});const t=Va(e);if(!t)return s.jsx("span",{className:"text-gray-400",children:Math.floor(e)});const r=hw(e,t);return s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center font-bold text-xs bg-gradient-to-br ${t.color} ${t.textColor} shadow-md`,children:t.rank}),s.jsxs("div",{className:"flex flex-col min-w-[60px]",children:[s.jsx("div",{className:"font-bold text-gray-900 text-xs",children:Math.floor(e)}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1 mt-0.5",children:s.jsx("div",{className:`h-1 rounded-full bg-gradient-to-r ${t.color}`,style:{width:`${r}%`}})}),s.jsx("div",{className:"text-[10px] text-gray-500 mt-0.5",children:t.name})]})]})};function ka({label:e,options:t,selectedValues:r,onChange:n}){const[l,a]=m.useState(!1),o=m.useRef(null);m.useEffect(()=>{const f=p=>{o.current&&!o.current.contains(p.target)&&a(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const i=f=>{r.includes(f)?n(r.filter(p=>p!==f)):n([...r,f])},c=f=>{const p=ml.find(y=>y.rank===f.value);return p?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center font-bold text-[10px] bg-gradient-to-br ${p.color} ${p.textColor} shadow-sm`,children:p.rank}),s.jsx("span",{className:"text-xs font-medium text-gray-800",children:p.name})]}):null},d=f=>{const p=nl[f.value];return p?s.jsx("span",{className:`px-2 py-0.5 text-[11px] font-semibold rounded border ${p.color}`,children:p.label}):null},u=e.includes("vELO"),h=e.includes("ZP-category");return s.jsxs("div",{className:"relative",ref:o,children:[s.jsxs("button",{onClick:()=>a(!l),className:"px-3 py-2 border border-gray-300 rounded-lg text-xs focus:ring-2 focus:ring-indigo-500 bg-white hover:bg-gray-50 transition-colors min-w-[160px] flex items-center justify-between",children:[s.jsxs("span",{className:"font-medium text-gray-700",children:[e,r.length>0&&s.jsx("span",{className:"ml-1.5 px-1.5 py-0.5 bg-indigo-100 text-indigo-700 rounded text-[10px] font-bold",children:r.length})]}),s.jsx("svg",{className:`w-4 h-4 ml-2 transition-transform ${l?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&s.jsx("div",{className:"absolute z-50 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-64 overflow-y-auto",children:t.map(f=>s.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-gray-50 cursor-pointer transition-colors",children:[s.jsx("input",{type:"checkbox",checked:r.includes(f.value),onChange:()=>i(f.value),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),s.jsx("div",{className:"ml-2",children:u?c(f):h?d(f):s.jsx("span",{className:"text-xs text-gray-700",children:f.label})})]},f.value))})]})}function mw(){const e=Ko(),[t,r]=m.useState(!1),[n,l]=m.useState("velo_live"),[a,o]=m.useState(!0),[i,c]=m.useState(""),{favorites:d,toggleFavorite:u,isFavorite:h}=Np(),[f,p]=m.useState(!1),[y,j]=m.useState([]),[w,g]=m.useState([]),[x,v]=m.useState([]),[b,R]=m.useState([]),{data:T}=er({queryKey:["teams"],queryFn:async()=>{const M=await fetch("/api/teams");return M.ok?(await M.json()).teams||[]:[]},staleTime:6e4}),{data:O}=er({queryKey:["teamLineups",b],queryFn:async()=>{var L;if(b.length===0)return[];const M=new Set;for(const A of b){const V=await fetch(`/api/teams/${A}`);V.ok&&((L=(await V.json()).lineup)==null||L.forEach(Y=>M.add(Y.rider_id)))}return Array.from(M)},enabled:b.length>0,staleTime:6e4}),{data:_,isLoading:S,error:C,refetch:$}=er({queryKey:["matrixRiders"],queryFn:async()=>{const M=await fetch("/api/riders");if(!M.ok)throw new Error("Failed to fetch riders");return(await M.json()).riders||[]},refetchInterval:3e4,retry:3}),B=m.useMemo(()=>_?_.filter(M=>{var L,A;if(i){const V=i.toLowerCase(),X=((L=M.full_name)==null?void 0:L.toLowerCase())||"",Y=((A=M.racing_name)==null?void 0:A.toLowerCase())||"";if(!X.includes(V)&&!Y.includes(V))return!1}if(f&&!d.includes(M.rider_id)||b.length>0&&O&&!O.includes(M.rider_id)||y.length>0&&!y.includes(M.zwiftracing_category||""))return!1;if(w.length>0){const V=Va(M.velo_live);if(!V||!w.includes(V.rank))return!1}if(x.length>0){const V=Va(M.velo_30day);if(!V||!x.includes(V.rank))return!1}return!0}):[],[_,i,y,w,x,b,O,f,d]),U=m.useMemo(()=>!B||B.length===0?null:{power_5s_wkg:Math.max(...B.map(M=>M.power_5s_wkg||0)),power_15s_wkg:Math.max(...B.map(M=>M.power_15s_wkg||0)),power_30s_wkg:Math.max(...B.map(M=>M.power_30s_wkg||0)),power_60s_wkg:Math.max(...B.map(M=>M.power_60s_wkg||0)),power_120s_wkg:Math.max(...B.map(M=>M.power_120s_wkg||0)),power_300s_wkg:Math.max(...B.map(M=>M.power_300s_wkg||0)),power_1200s_wkg:Math.max(...B.map(M=>M.power_1200s_wkg||0))},[B]),z=m.useMemo(()=>[...B].sort((L,A)=>{let V,X;if(n==="power_5s_wkg"||n==="power_15s_wkg"||n==="power_30s_wkg"||n==="power_60s_wkg"||n==="power_120s_wkg"||n==="power_300s_wkg"||n==="power_1200s_wkg")V=L[n]||0,X=A[n]||0;else{const Y=L[n],de=A[n];V=typeof Y=="number"?Y:0,X=typeof de=="number"?de:0}return a?X>V?1:-1:V>X?1:-1}),[B,n,a]),Z=M=>{n===M?o(!a):(l(M),o(!0))},fe=(M,L)=>{u(M),h(M)?q.success(`${L} verwijderd van favorieten`,{icon:""}):q.success(`${L} toegevoegd aan favorieten`,{icon:""})};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-900 pb-8",children:[s.jsxs("div",{className:"relative overflow-hidden mb-4 sm:mb-6",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900 via-green-900 to-red-900 opacity-95"}),s.jsx("div",{className:"relative px-3 py-4 sm:px-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-lg rounded-xl shadow-xl flex-shrink-0",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:" Performance Matrix"}),s.jsx("p",{className:"text-orange-100 text-sm font-semibold mt-0.5",children:"TeamNL Cloud9 Racing"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>{$(),q.success("Dashboard ververst!")},className:"px-4 py-2 bg-green-500/20 hover:bg-green-500/30 backdrop-blur-lg rounded-lg border border-green-400/30 text-white font-semibold text-sm transition-all shadow-lg hover:shadow-xl flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),s.jsx("span",{className:"hidden sm:inline",children:"Ververs"})]}),s.jsxs("button",{onClick:()=>e("/team-manager"),className:"px-4 py-2 bg-white/20 hover:bg-white/30 backdrop-blur-lg rounded-lg border border-white/30 text-white font-semibold text-sm transition-all shadow-lg hover:shadow-xl flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),s.jsx("span",{className:"hidden sm:inline",children:"Team"})]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2 border border-white/20 shadow-lg mt-3",children:[s.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Showing"}),s.jsx("span",{className:"text-white font-bold text-lg",children:z.length}),s.jsx("span",{className:"text-white/80 text-sm font-medium",children:"of"}),s.jsx("span",{className:"text-white font-bold text-lg",children:(_==null?void 0:_.length)||0}),s.jsx("span",{className:"text-white/80 text-sm font-medium",children:"riders"}),i&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-white/60 hidden sm:inline",children:""}),s.jsxs("span",{className:"text-cyan-300 font-semibold text-xs sm:text-sm truncate max-w-[150px] sm:max-w-none",children:[' "',i,'"']})]})]})]})})]}),s.jsxs("div",{className:"max-w-[98vw] mx-auto px-2 sm:px-4",children:[s.jsx("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-xl p-3 sm:p-4 lg:p-6 mb-4 sm:mb-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-2 sm:gap-3",children:[s.jsx("div",{className:"flex items-center gap-2 sm:gap-3 flex-wrap",children:s.jsxs("div",{className:"relative flex-1 sm:flex-initial",children:[s.jsx("input",{type:"text",placeholder:" Zoek...",value:i,onChange:M=>c(M.target.value),className:"w-full sm:w-auto px-2 sm:px-3 py-1.5 sm:py-2 pl-7 sm:pl-8 border border-gray-300 rounded-lg text-xs focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white sm:min-w-[200px]"}),i&&s.jsx("button",{onClick:()=>c(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 text-sm sm:text-base",title:"Clear search",children:""})]})}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-wrap",children:[T&&T.length>0&&s.jsx("div",{className:"min-w-[200px]",children:s.jsx(ka,{label:" Teams",options:T.map(M=>({value:M.team_id,label:M.team_name,icon:M.competition_type==="velo"?"":""})),selectedValues:b,onChange:R})}),s.jsx(ka,{label:"ZP-category",options:[{value:"A+",label:"A+"},{value:"A",label:"A"},{value:"B",label:"B"},{value:"C",label:"C"},{value:"D",label:"D"}],selectedValues:y,onChange:j}),s.jsx(ka,{label:"vELO Live",options:ml.map(M=>({value:M.rank,label:M.name})),selectedValues:w,onChange:g}),s.jsx(ka,{label:"vELO 30-day",options:ml.map(M=>({value:M.rank,label:M.name})),selectedValues:x,onChange:v}),s.jsxs("button",{onClick:()=>p(!f),className:`px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg transition-colors text-xs font-medium flex items-center gap-1 sm:gap-2 flex-shrink-0 ${f?"bg-yellow-500 text-white hover:bg-yellow-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,title:f?"Toon alle riders":"Toon alleen favorieten",children:[s.jsx("span",{className:"text-sm sm:text-base",children:f?"":""}),s.jsx("span",{className:"hidden sm:inline",children:f?"Favorieten":"Alle Riders"}),f&&d.length>0&&s.jsx("span",{className:"ml-0.5 sm:ml-1 px-1 sm:px-1.5 py-0.5 bg-white/30 rounded text-[10px] sm:text-xs",children:d.length})]}),s.jsxs("button",{onClick:()=>{const M=y.length+w.length+x.length+b.length;j([]),g([]),v([]),R([]),M>0&&q.success(`${M} filter${M>1?"s":""} verwijderd`,{icon:""})},disabled:y.length===0&&w.length===0&&x.length===0&&b.length===0,className:`px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg transition-colors text-xs font-medium flex items-center gap-1 sm:gap-2 flex-shrink-0 ${y.length>0||w.length>0||x.length>0||b.length>0?"bg-red-500 text-white hover:bg-red-600 cursor-pointer":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,title:"Verwijder alle filters",children:[s.jsx("span",{className:"text-sm sm:text-base",children:""}),s.jsx("span",{className:"hidden sm:inline",children:"Clear"}),(y.length>0||w.length>0||x.length>0||b.length>0)&&s.jsx("span",{className:"ml-0.5 sm:ml-1 px-1 sm:px-1.5 py-0.5 bg-white/30 rounded text-[10px] sm:text-xs font-bold",children:y.length+w.length+x.length+b.length})]}),s.jsxs("button",{onClick:()=>r(!t),className:"px-2 sm:px-3 lg:px-4 py-1.5 sm:py-2 lg:py-2.5 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg sm:rounded-xl hover:from-indigo-600 hover:to-purple-700 transition-all flex items-center gap-1 sm:gap-2 font-semibold text-xs sm:text-sm shadow-md hover:shadow-lg flex-shrink-0",children:[s.jsx("span",{children:t?"":""}),s.jsxs("span",{className:"hidden sm:inline",children:[t?"Hide":"Show"," Legend"]}),s.jsx("span",{className:"sm:hidden",children:"Legend"})]})]})]})}),t&&s.jsx("div",{className:"bg-white rounded-xl sm:rounded-2xl p-3 sm:p-4 lg:p-6 shadow-xl border-2 border-indigo-100 mb-4 sm:mb-6",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-x-6 gap-y-2 text-[10px]",children:[s.jsxs("div",{className:"flex items-center text-blue-700 bg-blue-50 px-2 py-1 rounded",children:[s.jsx("span",{className:"mr-1",children:""}),s.jsx("span",{children:"Highlights relatief aan zichtbare riders"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold text-gray-700",children:" vELO:"}),ml.map(M=>s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center font-bold text-[8px] bg-gradient-to-br ${M.color} ${M.textColor}`,children:M.rank}),s.jsx("span",{className:"text-gray-600",children:M.name})]},M.name))]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold text-gray-700",children:" ZP:"}),Object.entries(nl).map(([M,L])=>s.jsx("span",{className:`px-1.5 py-0.5 text-[9px] font-semibold rounded border ${L.color}`,children:L.label},M))]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold text-gray-700",children:" Power:"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-6 h-3 bg-yellow-300 rounded-sm"}),s.jsx("span",{className:"text-gray-600",children:"Gold (100%)"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-6 h-3 bg-gray-300 rounded-sm"}),s.jsx("span",{className:"text-gray-600",children:"Silver (95-99%)"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-6 h-3 bg-orange-300 rounded-sm"}),s.jsx("span",{className:"text-gray-600",children:"Bronze (90-94%)"})]})]})]})}),s.jsx("div",{className:"bg-white shadow-xl rounded-xl border border-gray-200 overflow-hidden",children:S?s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"animate-pulse space-y-3",children:[s.jsx("div",{className:"h-8 bg-slate-700 rounded"}),s.jsx("div",{className:"h-8 bg-slate-600 rounded"}),[...Array(10)].map((M,L)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded flex-1"}),s.jsx("div",{className:"h-8 bg-gray-100 rounded flex-1"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded flex-1"}),s.jsx("div",{className:"h-8 bg-gray-100 rounded flex-1"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded flex-1"})]},L))]}),s.jsx("p",{className:"text-center text-gray-500 text-sm mt-6",children:"Loading racing data..."})]}):C?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("p",{className:"text-red-600 text-lg font-medium mb-2",children:"Error loading data"}),s.jsx("p",{className:"text-gray-600 text-sm",children:C instanceof Error?C.message:"Unknown error"}),s.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Reload Page"})]}):!_||_.length===0?s.jsxs("div",{className:"p-12 text-center max-w-2xl mx-auto",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("p",{className:"text-gray-800 text-xl font-bold mb-2",children:"Geen riders in database"}),s.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"De database moet eerst gesynchroniseerd worden met ZwiftRacing.app data."}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-left",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:" Synchronisatie stappen:"}),s.jsxs("ol",{className:"text-sm text-blue-800 space-y-1 list-decimal list-inside",children:[s.jsxs("li",{children:["Ga naar de ",s.jsx("a",{href:"/sync",className:"underline font-medium",children:"Sync pagina"})]}),s.jsx("li",{children:'Klik op "Sync Riders" om TeamNL Cloud9 riders op te halen'}),s.jsx("li",{children:"Wacht tot synchronisatie voltooid is"}),s.jsx("li",{children:"Kom terug naar deze Matrix pagina"})]})]})]}):z.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("p",{className:"text-gray-600 text-lg font-medium mb-2",children:"Geen riders gevonden"}),s.jsx("p",{className:"text-gray-500 text-sm",children:'Probeer andere filter instellingen of klik "Clear Filters"'})]}):s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"lg:hidden absolute inset-y-0 right-0 flex items-center pointer-events-none z-20",children:s.jsx("div",{className:"bg-gradient-to-l from-indigo-600 via-indigo-600/90 to-transparent text-white px-3 py-2 text-[10px] sm:text-xs font-bold rounded-l-xl shadow-lg animate-pulse",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"hidden sm:inline",children:"Swipe "}),s.jsx("span",{className:"sm:hidden",children:""})]})})}),s.jsx("div",{className:"overflow-x-auto max-h-[calc(100vh-180px)] overflow-y-auto scrollbar-thin scrollbar-thumb-indigo-600 scrollbar-track-gray-200",children:s.jsxs("table",{className:"w-full text-[11px] min-w-[1400px]",children:[s.jsxs("thead",{className:"bg-gradient-to-r from-slate-700 to-slate-800 text-white sticky top-0 z-20 shadow-md",children:[s.jsxs("tr",{className:"border-b border-slate-600",children:[s.jsx("th",{rowSpan:2,className:"px-1 sm:px-2 py-1 text-center text-[10px] sm:text-xs font-bold border-r border-slate-600",title:"Favoriet",children:""}),s.jsx("th",{rowSpan:2,className:"px-2 sm:px-3 py-1 text-left text-[10px] sm:text-xs font-bold uppercase tracking-tight sm:tracking-wider border-r border-slate-600 cursor-pointer hover:bg-slate-600 min-w-[90px] sm:min-w-[110px]",onClick:()=>Z("rider_id"),children:"ID"}),s.jsxs("th",{rowSpan:2,className:"px-1 sm:px-2 py-1 text-left text-[10px] sm:text-xs font-bold uppercase tracking-tight sm:tracking-wider border-r border-slate-600 cursor-pointer hover:bg-slate-600",onClick:()=>Z("velo_live"),children:[s.jsx("span",{className:"hidden sm:inline",children:"vELO Live"}),s.jsx("span",{className:"sm:hidden",children:"Live"})," ",n==="velo_live"&&(a?"":"")]}),s.jsxs("th",{rowSpan:2,className:"px-1 sm:px-2 py-1 text-left text-[10px] sm:text-xs font-bold uppercase tracking-tight sm:tracking-wider border-r border-slate-600 cursor-pointer hover:bg-slate-600",onClick:()=>Z("velo_30day"),children:[s.jsx("span",{className:"hidden sm:inline",children:"vELO 30-day"}),s.jsx("span",{className:"sm:hidden",children:"30d"})," ",n==="velo_30day"&&(a?"":"")]}),s.jsx("th",{rowSpan:2,className:"px-2 sm:px-3 py-1 text-left text-[10px] sm:text-xs font-bold uppercase tracking-tight sm:tracking-wider border-r border-slate-600 cursor-pointer hover:bg-slate-600",onClick:()=>Z("full_name"),children:"Rider Name"}),s.jsx("th",{rowSpan:2,className:"px-1 sm:px-2 py-1 text-center text-[10px] sm:text-xs font-bold uppercase tracking-tight sm:tracking-wider border-r border-slate-600",children:"Cat"}),s.jsxs("th",{rowSpan:2,className:"px-1 sm:px-2 py-1 text-center text-[10px] sm:text-xs font-bold uppercase tracking-tight sm:tracking-wider bg-orange-600 border-r border-slate-600 cursor-pointer hover:bg-orange-500",onClick:()=>Z("zwift_official_racing_score"),title:"Zwift Official Racing Score",children:[s.jsx("span",{className:"hidden sm:inline",children:"ZRS"}),s.jsx("span",{className:"sm:hidden",children:""})]}),s.jsx("th",{colSpan:2,className:"px-1 sm:px-2 py-1 text-center text-[10px] sm:text-xs font-bold uppercase tracking-tight sm:tracking-wider bg-green-700 border-r border-slate-600",children:"zFTP"}),s.jsxs("th",{rowSpan:2,className:"px-1 sm:px-2 py-1 text-right text-[10px] sm:text-xs font-bold uppercase tracking-tight sm:tracking-wider border-r border-slate-600",children:[s.jsx("span",{className:"hidden sm:inline",children:"Weight"}),s.jsx("span",{className:"sm:hidden",children:"kg"})]}),s.jsx("th",{colSpan:4,className:"px-1 sm:px-2 py-1 text-center text-[10px] sm:text-xs font-bold uppercase tracking-tight sm:tracking-wider bg-slate-600 border-r border-slate-600",children:"Race Stats"}),s.jsx("th",{colSpan:7,className:"px-1 sm:px-2 py-1 text-center text-[10px] sm:text-xs font-bold uppercase tracking-tight sm:tracking-wider bg-indigo-700",children:"Power (W/kg)"})]}),s.jsxs("tr",{children:[s.jsx("th",{className:"px-1 sm:px-2 py-1 text-right text-[10px] sm:text-xs font-semibold uppercase tracking-tight cursor-pointer hover:bg-green-600 bg-green-700 whitespace-nowrap",onClick:()=>Z("racing_ftp"),children:"FTP"}),s.jsx("th",{className:"px-1 sm:px-2 py-1 text-right text-[10px] sm:text-xs font-semibold uppercase tracking-tight bg-green-700 whitespace-nowrap border-r border-slate-600",children:"W/kg"}),s.jsxs("th",{className:"px-1 sm:px-2 py-1 text-right text-[10px] sm:text-xs font-semibold uppercase tracking-tight cursor-pointer hover:bg-slate-500 whitespace-nowrap",onClick:()=>Z("race_finishes"),children:[s.jsx("span",{className:"hidden sm:inline",children:"Finishes"}),s.jsx("span",{className:"sm:hidden",children:"Fin"})]}),s.jsxs("th",{className:"px-1 sm:px-2 py-1 text-right text-[10px] sm:text-xs font-semibold uppercase tracking-tight cursor-pointer hover:bg-green-500 whitespace-nowrap",onClick:()=>Z("race_wins"),children:[s.jsx("span",{className:"hidden sm:inline",children:"Wins"}),s.jsx("span",{className:"sm:hidden",children:"W"})]}),s.jsxs("th",{className:"px-1 sm:px-2 py-1 text-right text-[10px] sm:text-xs font-semibold uppercase tracking-tight cursor-pointer hover:bg-blue-500 whitespace-nowrap",onClick:()=>Z("race_podiums"),children:[s.jsx("span",{className:"hidden sm:inline",children:"Podiums"}),s.jsx("span",{className:"sm:hidden",children:"Pod"})]}),s.jsx("th",{className:"px-1 sm:px-2 py-1 text-right text-[10px] sm:text-xs font-semibold uppercase tracking-tight cursor-pointer hover:bg-red-500 whitespace-nowrap border-r border-slate-600",onClick:()=>Z("race_dnfs"),children:"DNF"}),s.jsx("th",{className:"px-2 py-1 text-center text-[10px] sm:text-xs font-semibold uppercase tracking-tight bg-indigo-700 cursor-pointer hover:bg-indigo-600 whitespace-nowrap min-w-[48px]",onClick:()=>Z("power_5s_wkg"),children:"5s"}),s.jsx("th",{className:"px-2 py-1 text-center text-[10px] sm:text-xs font-semibold uppercase tracking-tight bg-indigo-700 cursor-pointer hover:bg-indigo-600 whitespace-nowrap min-w-[48px]",onClick:()=>Z("power_15s_wkg"),children:"15s"}),s.jsx("th",{className:"px-2 py-1 text-center text-[10px] sm:text-xs font-semibold uppercase tracking-tight bg-indigo-700 cursor-pointer hover:bg-indigo-600 whitespace-nowrap min-w-[48px]",onClick:()=>Z("power_30s_wkg"),children:"30s"}),s.jsx("th",{className:"px-2 py-1 text-center text-[10px] sm:text-xs font-semibold uppercase tracking-tight bg-indigo-700 cursor-pointer hover:bg-indigo-600 whitespace-nowrap min-w-[48px]",onClick:()=>Z("power_60s_wkg"),children:"1m"}),s.jsx("th",{className:"px-2 py-1 text-center text-[10px] sm:text-xs font-semibold uppercase tracking-tight bg-indigo-700 cursor-pointer hover:bg-indigo-600 whitespace-nowrap min-w-[48px]",onClick:()=>Z("power_120s_wkg"),children:"2m"}),s.jsx("th",{className:"px-2 py-1 text-center text-[10px] sm:text-xs font-semibold uppercase tracking-tight bg-indigo-700 cursor-pointer hover:bg-indigo-600 whitespace-nowrap min-w-[48px]",onClick:()=>Z("power_300s_wkg"),children:"5m"}),s.jsx("th",{className:"px-2 py-1 text-center text-[10px] sm:text-xs font-semibold uppercase tracking-tight bg-indigo-700 cursor-pointer hover:bg-indigo-600 whitespace-nowrap min-w-[48px]",onClick:()=>Z("power_1200s_wkg"),children:"20m"})]})]}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:z.map((M,L)=>{var X,Y,de,he,Te,E,k;const A=Va(M.velo_live),V=M.zwift_official_category;return s.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${L%2===0?"bg-white":"bg-gray-50/50"} ${(A==null?void 0:A.bgColor)||""}`,children:[s.jsx("td",{className:"px-1 sm:px-2 py-1 whitespace-nowrap text-center",children:s.jsx("button",{onClick:()=>fe(M.rider_id,M.full_name),className:"text-base sm:text-lg p-1 sm:p-2 -m-1 sm:-m-2 hover:scale-125 transition-transform touch-manipulation",title:h(M.rider_id)?"Verwijder favoriet":"Voeg toe als favoriet","aria-label":h(M.rider_id)?"Verwijder favoriet":"Voeg toe als favoriet",children:h(M.rider_id)?"":""})}),s.jsx("td",{className:"px-2 sm:px-3 py-1 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("img",{src:M.avatar_url||`https://ui-avatars.com/api/?name=${M.rider_id}&background=3b82f6&color=fff&size=32`,alt:"",className:"w-5 h-5 sm:w-6 sm:h-6 rounded-full border border-gray-300 object-cover",onError:P=>{P.currentTarget.src=`https://ui-avatars.com/api/?name=${M.rider_id}&background=3b82f6&color=fff&size=32`}}),s.jsx("span",{className:"text-gray-700 font-mono text-[10px] sm:text-xs",children:M.rider_id})]})}),s.jsx("td",{className:"px-1 sm:px-2 py-1 whitespace-nowrap",children:s.jsx(Jf,{rating:M.velo_live})}),s.jsx("td",{className:"px-1 sm:px-2 py-1 whitespace-nowrap",children:s.jsx(Jf,{rating:M.velo_30day})}),s.jsx("td",{className:"px-2 sm:px-3 py-1 whitespace-nowrap font-semibold text-gray-900 text-xs sm:text-sm",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:M.full_name}),M.rider_id===150437&&s.jsxs("a",{href:"https://www.youtube.com/@CloudRacer-9/streams",target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 transition-all hover:scale-105 shadow-sm hover:shadow-md",title:"Race livestreams op YouTube",children:[s.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})}),s.jsx("span",{className:"text-[10px] font-bold text-white tracking-wide",children:"STREAMS"})]})]})}),s.jsx("td",{className:"px-2 py-0.5 whitespace-nowrap text-center",children:V&&nl[V]?s.jsx("span",{className:`inline-block px-3 py-1 text-xs font-semibold rounded-md border ${nl[V].color}`,children:nl[V].label}):s.jsx("span",{className:"text-gray-400 text-xs",children:"-"})}),s.jsx("td",{className:"px-2 py-0.5 whitespace-nowrap text-center",title:M.zwift_official_racing_score?`Zwift Official Racing Score: ${Math.round(M.zwift_official_racing_score)}`:"No official score",children:M.zwift_official_racing_score?s.jsx("span",{className:`inline-block px-2 py-1 text-xs font-bold rounded-md ${M.zwift_official_racing_score>=700?"bg-red-100 text-red-900 border border-red-300":M.zwift_official_racing_score>=600?"bg-orange-100 text-orange-900 border border-orange-300":M.zwift_official_racing_score>=500?"bg-yellow-100 text-yellow-900 border border-yellow-300":M.zwift_official_racing_score>=400?"bg-green-100 text-green-900 border border-green-300":M.zwift_official_racing_score>=300?"bg-blue-100 text-blue-900 border border-blue-300":"bg-gray-100 text-gray-700 border border-gray-300"}`,children:Math.round(M.zwift_official_racing_score)}):s.jsx("span",{className:"text-gray-400 text-xs",children:"-"})}),s.jsx("td",{className:"px-2 py-0.5 whitespace-nowrap text-right font-bold text-gray-900 text-sm",children:M.racing_ftp||"-"}),s.jsx("td",{className:"px-2 py-0.5 whitespace-nowrap text-right font-bold text-indigo-700 text-sm",children:M.racing_ftp&&M.weight_kg?(M.racing_ftp/M.weight_kg).toFixed(2):"-"}),s.jsx("td",{className:"px-3 py-1.5 whitespace-nowrap text-right text-gray-700 text-sm font-medium",children:M.weight_kg?`${M.weight_kg.toFixed(1)}kg`:"-"}),s.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-right text-gray-700 font-semibold text-sm",children:M.race_finishes||0}),s.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-right font-bold text-green-600 text-sm",title:`Win rate: ${M.win_rate_pct||0}%`,children:M.race_wins||0}),s.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-right font-semibold text-blue-600 text-sm",title:`Podium rate: ${M.podium_rate_pct||0}%`,children:M.race_podiums||0}),s.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-right text-red-600 text-sm",title:`DNF rate: ${M.dnf_rate_pct||0}%`,children:M.race_dnfs||0}),s.jsx("td",{className:"px-2 py-0.5 whitespace-nowrap text-right",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${hn(M.power_5s_wkg,(U==null?void 0:U.power_5s_wkg)||null)}`,title:`${M.power_5s||0}W`,children:((X=M.power_5s_wkg)==null?void 0:X.toFixed(2))||"-"})}),s.jsx("td",{className:"px-2 py-0.5 whitespace-nowrap text-right",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${hn(M.power_15s_wkg,(U==null?void 0:U.power_15s_wkg)||null)}`,title:`${M.power_15s||0}W`,children:((Y=M.power_15s_wkg)==null?void 0:Y.toFixed(2))||"-"})}),s.jsx("td",{className:"px-2 py-0.5 whitespace-nowrap text-right",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${hn(M.power_30s_wkg,(U==null?void 0:U.power_30s_wkg)||null)}`,title:`${M.power_30s||0}W`,children:((de=M.power_30s_wkg)==null?void 0:de.toFixed(2))||"-"})}),s.jsx("td",{className:"px-2 py-0.5 whitespace-nowrap text-right",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${hn(M.power_60s_wkg,(U==null?void 0:U.power_60s_wkg)||null)}`,title:`${M.power_60s||0}W`,children:((he=M.power_60s_wkg)==null?void 0:he.toFixed(2))||"-"})}),s.jsx("td",{className:"px-2 py-0.5 whitespace-nowrap text-right",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${hn(M.power_120s_wkg,(U==null?void 0:U.power_120s_wkg)||null)}`,title:`${M.power_120s||0}W`,children:((Te=M.power_120s_wkg)==null?void 0:Te.toFixed(2))||"-"})}),s.jsx("td",{className:"px-2 py-0.5 whitespace-nowrap text-right",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${hn(M.power_300s_wkg,(U==null?void 0:U.power_300s_wkg)||null)}`,title:`${M.power_300s||0}W`,children:((E=M.power_300s_wkg)==null?void 0:E.toFixed(2))||"-"})}),s.jsx("td",{className:"px-2 py-0.5 whitespace-nowrap text-right",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${hn(M.power_1200s_wkg,(U==null?void 0:U.power_1200s_wkg)||null)}`,title:`${M.power_1200s||0}W`,children:((k=M.power_1200s_wkg)==null?void 0:k.toFixed(2))||"-"})})]},M.rider_id)})})]})})]})}),s.jsx("div",{className:"text-center text-sm text-gray-600 bg-white rounded-xl shadow-md p-4 mt-6",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-green-500 animate-pulse",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("span",{className:"font-medium",children:"Data refreshes elke 60 seconden"}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("span",{children:"Sorteer door op kolom headers te klikken"})]})})]})]})}/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xw=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),eh=e=>{const t=xw(e);return t.charAt(0).toUpperCase()+t.slice(1)},kp=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),gw=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:l="",children:a,iconNode:o,...i},c)=>m.createElement("svg",{ref:c,...vw,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:kp("lucide",l),...!a&&!gw(i)&&{"aria-hidden":"true"},...i},[...o.map(([d,u])=>m.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(e,t)=>{const r=m.forwardRef(({className:n,...l},a)=>m.createElement(yw,{ref:a,iconNode:t,className:kp(`lucide-${pw(eh(e))}`,`lucide-${e}`,n),...l}));return r.displayName=eh(e),r};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Oi=ve("activity",bw);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],th=ve("award",ww);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],sl=ve("calendar",jw);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ou=ve("chevron-down",Nw);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Yo=ve("chevron-up",kw);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Cw=ve("circle-alert",_w);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rh=ve("circle-check-big",Sw);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xc=ve("clock",Ew);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],Mw=ve("door-open",Rw);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Pw=ve("funnel",Dw);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],nh=ve("heart",Tw);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],_p=ve("map-pin",Ow);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=[["path",{d:"M5 12h14",key:"1ays0h"}]],iu=ve("minus",Lw);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],$w=ve("mountain",Fw);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Iw=ve("refresh-cw",Aw);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bw=ve("settings",zw);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Zc=ve("timer",Uw);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Ww=ve("trending-down",Vw);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Xo=ve("trending-up",Hw);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],wo=ve("trophy",Qw);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sh=ve("user-check",Kw);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]],Cp=ve("user-round-check",qw);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Sp=ve("users",Gw);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Jc=ve("zap",Yw),lh={A:{label:"A",bgClass:"bg-red-50",textClass:"text-red-800",iconBg:"bg-red-100",iconText:"text-red-700"},B:{label:"B",bgClass:"bg-green-50",textClass:"text-green-800",iconBg:"bg-green-100",iconText:"text-green-700"},C:{label:"C",bgClass:"bg-blue-50",textClass:"text-blue-800",iconBg:"bg-blue-100",iconText:"text-blue-700"},D:{label:"D",bgClass:"bg-yellow-50",textClass:"text-yellow-800",iconBg:"bg-yellow-100",iconText:"text-yellow-700"},E:{label:"E",bgClass:"bg-purple-50",textClass:"text-purple-800",iconBg:"bg-purple-100",iconText:"text-purple-700"}},ah={Flat:{icon:iu,color:"bg-emerald-50 text-emerald-700",label:"Flat"},Rolling:{icon:Xo,color:"bg-blue-50 text-blue-700",label:"Rolling"},Hilly:{icon:Yo,color:"bg-orange-50 text-orange-700",label:"Hilly"},Mountainous:{icon:$w,color:"bg-red-50 text-red-700",label:"Mountainous"}};function Xw(e){const t=Math.floor(Date.now()/1e3),r=e-t;if(r<0)return{text:"Started",urgent:!1,veryUrgent:!0};const n=Math.floor(r/3600),l=Math.floor(r%3600/60);if(n===0)return{text:`Starts in ${l}m`,urgent:!0,veryUrgent:l<=10};if(n<24)return{text:`Starts in ${n}h ${l}m`,urgent:n<=1,veryUrgent:!1};const a=Math.floor(n/24),o=n%24;return{text:`Starts in ${a}d ${o}h`,urgent:!1,veryUrgent:!1}}function Zw(e){const t=new Date(e*1e3),r=["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],n=["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],l=r[t.getDay()],a=t.getDate(),o=n[t.getMonth()],i=t.getFullYear(),c=String(t.getHours()).padStart(2,"0"),d=String(t.getMinutes()).padStart(2,"0");return{dayName:l,date:`${a} ${o} ${i}`,time:`${c}:${d}`}}function Jw({category:e,riders:t,catStyle:r}){const[n,l]=m.useState(!1);return s.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[s.jsxs("button",{onClick:()=>l(!n),className:"w-full flex items-center justify-between p-3 hover:bg-slate-50 transition-colors text-left",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-7 h-7 flex items-center justify-center rounded-md ${r.iconBg} ${r.iconText} font-bold text-sm`,children:e}),s.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[t.length," Team ",t.length===1?"Rider":"Riders"]})]}),n?s.jsx(Yo,{className:"w-4 h-4 text-slate-400"}):s.jsx(ou,{className:"w-4 h-4 text-slate-400"})]}),n&&s.jsx("div",{className:"px-3 pb-3 pt-1",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(a=>s.jsx("div",{className:"px-3 py-1.5 bg-orange-50 text-orange-700 border border-orange-200 rounded-md text-xs font-medium",children:a.rider_name},a.rider_id))})})]})}function e1(){const[e,t]=m.useState([]),[r,n]=m.useState(!0),[l,a]=m.useState(null),[o,i]=m.useState("team"),[c,d]=m.useState(36),[,u]=m.useState(Date.now());m.useEffect(()=>{const f=setInterval(()=>{u(Date.now())},6e4);return()=>clearInterval(f)},[]),m.useEffect(()=>{(async()=>{try{const y=await fetch("/api/sync/config");let j=36;y.ok&&(j=(await y.json()).lookforwardHours||36,d(j));const w=await fetch(`/api/events/upcoming?hours=${j}`);if(!w.ok)throw new Error("Failed to fetch events");const g=await w.json();t(g.events||[])}catch(y){a(y.message)}finally{n(!1)}})();const p=setInterval(async()=>{try{const y=await fetch("/api/sync/config");if(y.ok){const w=(await y.json()).lookforwardHours||36;if(w!==c){d(w);const g=await fetch(`/api/events/upcoming?hours=${w}`);if(g.ok){const x=await g.json();t(x.events||[])}}}}catch{}},3e4);return()=>clearInterval(p)},[c]);const h=m.useMemo(()=>o==="team"?e.filter(f=>(f.team_rider_count||0)>0):e,[e,o]);return r?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 p-8",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"text-slate-600 font-medium",children:"Loading upcoming events..."})]})})})}):l?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 p-8",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:[s.jsx("h3",{className:"text-red-800 font-semibold mb-2",children:"Error loading events"}),s.jsx("p",{className:"text-red-600",children:l})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-12",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg shadow-blue-300",children:s.jsx(sl,{className:"w-10 h-10 text-white"})}),s.jsx("h1",{className:"text-5xl font-extrabold text-slate-900",children:"Upcoming Events"})]}),s.jsxs("p",{className:"text-slate-700 text-lg font-semibold ml-1 pl-1",children:["Next ",s.jsxs("span",{className:"font-bold text-blue-600",children:[c," hours"]}),"  ",h.length," events"]})]}),s.jsxs("div",{className:"flex gap-2 mb-6",children:[s.jsx("button",{onClick:()=>i("team"),className:`px-6 py-3 rounded-xl font-semibold transition-all duration-200 ${o==="team"?"bg-blue-600 text-white shadow-lg shadow-blue-200":"bg-white text-slate-600 hover:bg-slate-50"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sh,{className:"w-5 h-5"}),"Team Events"]})}),s.jsx("button",{onClick:()=>i("all"),className:`px-6 py-3 rounded-xl font-semibold transition-all duration-200 ${o==="all"?"bg-blue-600 text-white shadow-lg shadow-blue-200":"bg-white text-slate-600 hover:bg-slate-50"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sl,{className:"w-5 h-5"}),"All Events"]})})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:h.map(f=>{var g;const p=f.time_unix?Xw(f.time_unix):null,y=f.time_unix?Zw(f.time_unix):null,j=f.route_profile?(g=ah[f.route_profile])==null?void 0:g.icon:iu,w=f.route_profile?ah[f.route_profile]:null;return s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-slate-200 group",children:[s.jsxs("div",{className:`p-6 border-b ${p!=null&&p.veryUrgent?"bg-gradient-to-r from-red-500 to-orange-500":p!=null&&p.urgent?"bg-gradient-to-r from-orange-500 to-yellow-500":"bg-gradient-to-r from-blue-500 to-indigo-500"}`,children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-white flex-1",children:f.title||"Untitled Event"}),p&&s.jsxs("div",{className:`px-3 py-1.5 rounded-lg font-bold text-sm flex items-center gap-2 bg-white/20 backdrop-blur-sm flex-shrink-0 ${p.veryUrgent?"animate-pulse":""}`,children:[s.jsx(Zc,{className:"w-4 h-4 text-white"}),s.jsx("span",{className:"text-white",children:p.text})]})]}),s.jsxs("div",{className:"grid md:grid-cols-[2fr,1fr] gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[f.route_name&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[s.jsx(_p,{className:"w-5 h-5 text-white/90 flex-shrink-0"}),s.jsx("h4",{className:"text-2xl font-bold text-white leading-tight",children:f.route_name})]}),f.route_world&&s.jsx("div",{className:"text-white/80 text-base font-semibold ml-7",children:f.route_world})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 ml-7",children:[w&&s.jsxs("div",{className:`inline-flex items-center gap-1.5 ${w.color} px-3 py-1.5 rounded-lg shadow-md`,children:[s.jsx(j,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-bold",children:w.label})]}),f.distance_km&&s.jsx("div",{className:"inline-flex items-center gap-1.5 bg-white/25 backdrop-blur-sm px-3 py-1.5 rounded-lg",children:s.jsxs("span",{className:"text-sm font-bold text-white",children:[f.distance_km," km"]})}),f.elevation_m!==void 0&&f.elevation_m>0&&s.jsxs("div",{className:"inline-flex items-center gap-1.5 bg-white/25 backdrop-blur-sm px-3 py-1.5 rounded-lg",children:[s.jsx(Xo,{className:"w-4 h-4 text-white"}),s.jsxs("span",{className:"text-sm font-bold text-white",children:[f.elevation_m,"m"]})]})]})]}),s.jsxs("div",{className:"space-y-2 flex flex-col items-end text-right",children:[(f.event_type||f.sub_type)&&s.jsxs("div",{className:"inline-flex items-center gap-1.5 bg-white/25 backdrop-blur-sm px-3 py-1.5 rounded-lg",children:[s.jsx(sl,{className:"w-4 h-4 text-white"}),s.jsxs("span",{className:"text-sm font-semibold text-white whitespace-nowrap",children:[f.event_type,f.sub_type&&`  ${f.sub_type}`]})]}),y&&s.jsxs("div",{className:"text-white/90 text-sm font-medium",children:[s.jsx("div",{className:"font-bold",children:y.dayName}),s.jsx("div",{children:y.date}),s.jsx("div",{className:"font-bold text-base",children:y.time})]})]})]})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-4 pb-3 border-b border-slate-200 overflow-x-auto",children:[f.total_signups!==void 0&&s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-slate-600",children:[s.jsx(Sp,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsx("span",{className:"text-base sm:text-lg font-bold",children:f.total_signups})]}),f.team_rider_count!==void 0&&f.team_rider_count>0&&s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-orange-600",children:[s.jsx(Cp,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsx("span",{className:"text-base sm:text-lg font-bold",children:f.team_rider_count})]}),f.signups_by_category&&s.jsx("div",{className:"flex items-center gap-2 ml-auto",children:["A","B","C","D","E"].map(x=>{var R;const v=((R=f.signups_by_category)==null?void 0:R[x])||0;if(v===0)return null;const b=lh[x];return s.jsxs("div",{className:`px-2 py-1 rounded-md text-xs font-bold ${b.iconBg} ${b.iconText}`,title:`Category ${x}: ${v} riders`,children:[x,":",v]},x)})})]}),f.team_signups_by_category&&Object.keys(f.team_signups_by_category).length>0&&s.jsx("div",{className:"space-y-1.5",children:Object.entries(f.team_signups_by_category).filter(([x,v])=>v.length>0).map(([x,v])=>{const b=lh[x];return s.jsx(Jw,{category:x,riders:v,catStyle:b},x)})})]}),s.jsx("div",{className:"bg-slate-50 border-t border-slate-200 px-4 py-3",children:s.jsxs("a",{href:`https://www.zwift.com/events/view/${f.event_id}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-xl font-bold text-sm transition-all shadow-md hover:shadow-lg group-hover:scale-[1.02] transform duration-200",children:[s.jsx(sh,{className:"w-5 h-5"}),"Sign Up on Zwift"]})})]},f.event_id)})}),h.length===0&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx(sl,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-slate-600 mb-2",children:"No events found"}),s.jsx("p",{className:"text-slate-500",children:o==="team"?`No upcoming events with team riders in the next ${c} hours`:`No upcoming events in the next ${c} hours`})]})]})})}const _a=e=>{const t=document.createElement("textarea");return t.innerHTML=e,t.value},t1=[{rank:1,name:"Diamond",min:2200,color:"from-cyan-400 to-blue-500",textColor:"text-cyan-100"},{rank:2,name:"Ruby",min:1900,max:2200,color:"from-red-500 to-pink-600",textColor:"text-red-100"},{rank:3,name:"Emerald",min:1650,max:1900,color:"from-emerald-400 to-green-600",textColor:"text-emerald-100"},{rank:4,name:"Sapphire",min:1450,max:1650,color:"from-blue-400 to-indigo-600",textColor:"text-blue-100"},{rank:5,name:"Amethyst",min:1300,max:1450,color:"from-purple-400 to-violet-600",textColor:"text-purple-100"},{rank:6,name:"Platinum",min:1150,max:1300,color:"from-slate-300 to-slate-500",textColor:"text-slate-100"},{rank:7,name:"Gold",min:1e3,max:1150,color:"from-yellow-400 to-amber-600",textColor:"text-yellow-900"},{rank:8,name:"Silver",min:850,max:1e3,color:"from-gray-300 to-gray-500",textColor:"text-gray-700"},{rank:9,name:"Bronze",min:650,max:850,color:"from-orange-400 to-orange-700",textColor:"text-orange-900"},{rank:10,name:"Copper",min:0,max:650,color:"from-orange-600 to-red-800",textColor:"text-orange-100"}],ed=e=>e?t1.find(t=>e>=t.min&&(!t.max||e<t.max)):null,r1=(e,t)=>{if(!t.max)return 100;const r=t.max-t.min,n=e-t.min;return Math.min(100,Math.max(0,n/r*100))},n1=(e,t)=>{if(!e||!t)return null;const r=ed(e),n=ed(t);return!r||!n?null:r.rank<n.rank?"up":r.rank>n.rank?"down":null},s1={A:{bg:"bg-red-50",text:"text-red-800",border:"border-red-300"},B:{bg:"bg-green-50",text:"text-green-800",border:"border-green-300"},C:{bg:"bg-blue-50",text:"text-blue-800",border:"border-blue-300"},D:{bg:"bg-yellow-50",text:"text-yellow-800",border:"border-yellow-300"},E:{bg:"bg-purple-50",text:"text-purple-800",border:"border-purple-300"}};function l1(e){const t=Math.floor(e/60),r=Math.floor(e%60);return`${t}:${r.toString().padStart(2,"0")}`}function a1(e){if(!e||e===0)return null;const t=Math.floor(e/60),r=Math.floor(e%60);return`${t}:${r.toString().padStart(2,"0")}`}function o1(e){const t=new Date(e),r=["Zo","Ma","Di","Wo","Do","Vr","Za"],n=["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],l=r[t.getDay()],a=t.getDate(),o=n[t.getMonth()],i=t.getHours().toString().padStart(2,"0"),c=t.getMinutes().toString().padStart(2,"0");return`${l} ${a} ${o} ${i}:${c}`}function i1({rating:e,previous:t,change:r}){if(!e)return s.jsx("span",{className:"text-xs text-gray-400",children:"-"});const n=ed(e);if(!n)return s.jsx("span",{className:"text-xs text-gray-400",children:Math.floor(e)});const l=r1(e,n),a=n1(e,t);let o=iu,i="text-gray-400";return r&&r>0?(o=Xo,i="text-green-600"):r&&r<0&&(o=Ww,i="text-red-600"),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center font-bold text-xs bg-gradient-to-br ${n.color} ${n.textColor} shadow-sm flex-shrink-0`,children:n.rank}),a&&s.jsx("div",{className:`absolute -top-1 -right-1 w-4 h-4 rounded-full ${a==="up"?"bg-green-500":"bg-red-500"} flex items-center justify-center shadow-md`,children:a==="up"?s.jsx(Yo,{className:"w-3 h-3 text-white",strokeWidth:3}):s.jsx(ou,{className:"w-3 h-3 text-white",strokeWidth:3})})]}),s.jsxs("div",{className:"flex flex-col min-w-[60px]",children:[s.jsx("div",{className:"font-bold text-gray-900 text-sm",children:Math.floor(e)}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1 mt-0.5",children:s.jsx("div",{className:`h-1 rounded-full bg-gradient-to-r ${n.color}`,style:{width:`${l}%`}})}),s.jsx("div",{className:"text-[10px] text-gray-500 mt-0.5",children:n.name})]}),r!==null&&r!==0&&s.jsxs("div",{className:`flex items-center gap-0.5 ${i}`,children:[s.jsx(o,{className:"w-3 h-3"}),s.jsx("span",{className:"text-xs font-semibold",children:r>0?`+${r}`:r})]})]})}function mn({value:e}){return e?s.jsx("span",{className:"text-xs font-medium text-gray-700",children:e.toFixed(1)}):s.jsx("span",{className:"text-xs text-gray-300",children:"-"})}function c1(){return s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-red-100 text-red-800 rounded-md text-xs font-semibold border border-red-300",children:[s.jsx(Mw,{className:"w-3 h-3"}),s.jsx("span",{children:"DNF"})]})}function d1({rank:e,position:t,positionInCategory:r,penTotal:n,dnf:l}){if(l)return s.jsx(c1,{});const a=r||t||e,o=r&&n?`/${n}`:null;return e===1?s.jsxs("div",{className:"flex items-center gap-1 text-yellow-600",children:[s.jsx(wo,{className:"w-4 h-4"}),s.jsx("span",{className:"font-bold",children:"1st"}),o&&s.jsx("span",{className:"text-[10px] text-gray-500 ml-1",children:o})]}):e===2?s.jsxs("div",{className:"flex items-center gap-1 text-gray-400",children:[s.jsx(th,{className:"w-4 h-4"}),s.jsx("span",{className:"font-bold",children:"2nd"}),o&&s.jsx("span",{className:"text-[10px] text-gray-500 ml-1",children:o})]}):e===3?s.jsxs("div",{className:"flex items-center gap-1 text-amber-700",children:[s.jsx(th,{className:"w-4 h-4"}),s.jsx("span",{className:"font-bold",children:"3rd"}),o&&s.jsx("span",{className:"text-[10px] text-gray-500 ml-1",children:o})]}):s.jsx("div",{className:"flex flex-col items-start",children:s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:a}),o&&s.jsx("span",{className:"text-[10px] text-gray-500",children:o})]})})}function u1({event:e}){const[t,r]=m.useState(!0),n=e.results.reduce((a,o)=>{const i=o.pen||"Unknown";return a[i]||(a[i]=[]),a[i].push(o),a},{}),l=Object.keys(n).sort();return s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-slate-200",children:[s.jsx("div",{className:"p-6 bg-gradient-to-r from-blue-500 to-indigo-500 cursor-pointer",onClick:()=>r(!t),children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-3 flex items-center gap-2",children:[s.jsx(wo,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:_a(e.event_name)})]}),e.route_world&&s.jsxs("div",{className:"space-y-2 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-white/90",children:[s.jsx(_p,{className:"w-4 h-4"}),s.jsx("span",{className:"font-bold",children:_a(e.route_world)}),e.route_name&&s.jsxs("span",{className:"text-white/70",children:[" ",_a(e.route_name)]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-white/80 flex-wrap",children:[e.distance_km&&s.jsxs("span",{className:"font-mono font-bold",children:[e.distance_km," km"]}),e.elevation_m&&s.jsxs("span",{children:[e.elevation_m,"m "]}),e.route_profile&&s.jsx("span",{className:"px-2 py-0.5 bg-white/20 rounded text-xs",children:e.route_profile}),e.laps&&e.laps>1&&s.jsxs("span",{children:[e.laps," laps"]})]}),(e.event_type||e.sub_type)&&s.jsxs("div",{className:"flex items-center gap-2",children:[e.event_type&&s.jsx("span",{className:"px-2 py-0.5 bg-white/20 text-white rounded text-xs font-medium",children:e.event_type}),e.sub_type&&s.jsx("span",{className:"px-2 py-0.5 bg-white/10 text-white/80 rounded text-xs",children:e.sub_type})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/80",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(sl,{className:"w-4 h-4"}),s.jsx("span",{children:o1(e.event_date)})]}),s.jsxs("div",{className:"flex items-center gap-1 text-orange-300",children:[s.jsx(Cp,{className:"w-4 h-4"}),s.jsx("span",{className:"font-bold",children:e.results.length})]}),e.total_riders&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Sp,{className:"w-4 h-4"}),s.jsx("span",{className:"font-semibold",children:e.total_riders})]})]})]}),s.jsx("button",{className:"p-2 hover:bg-white/10 rounded-lg transition flex-shrink-0",onClick:a=>{a.stopPropagation(),r(!t)},children:t?s.jsx(Yo,{className:"w-5 h-5 text-white"}):s.jsx(ou,{className:"w-5 h-5 text-white"})})]})}),t&&s.jsx("div",{className:"overflow-x-auto",children:l.map(a=>{const o=n[a].sort((c,d)=>c.rank-d.rank),i=s1[a]||{bg:"bg-gray-50",text:"text-gray-800",border:"border-gray-300"};return s.jsxs("div",{className:"border-b border-gray-200 last:border-b-0",children:[s.jsx("div",{className:`${i.bg} px-4 py-2 border-b ${i.border}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:`px-3 py-1 ${i.bg} ${i.text} border-2 ${i.border} rounded-md text-sm font-bold`,children:["PEN ",a]}),s.jsxs("span",{className:`text-sm ${i.text}`,children:[o.length," team ",o.length===1?"rider":"riders"]})]})}),s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Rank"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Rider"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"vELO Live"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Time"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase",children:"Avg W/kg"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-tight",children:"HR Avg"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-tight",children:"HR Max"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-tight",children:"5s"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-tight",children:"15s"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-tight",children:"30s"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-tight",children:"1m"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-tight",children:"2m"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-tight",children:"5m"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-tight",children:"20m"})]})}),s.jsx("tbody",{children:o.map(c=>{var d;return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx(d1,{rank:c.rank,position:c.position,positionInCategory:c.position_in_category,penTotal:c.pen_total,dnf:c.dnf})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"font-medium text-gray-900",children:_a(c.rider_name)})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(i1,{rating:c.velo_rating,previous:c.velo_previous,change:c.velo_change})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Xc,{className:"w-3 h-3 text-gray-400 flex-shrink-0"}),s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsx("span",{className:"text-sm font-mono font-medium text-gray-900",children:l1(c.time_seconds)}),c.rank>1&&c.delta_winner_seconds&&c.delta_winner_seconds>0&&s.jsxs("span",{className:"text-[10px] font-mono text-gray-500",children:["+",(d=a1(c.delta_winner_seconds))==null?void 0:d.replace("+","")]})]})]})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(Jc,{className:"w-3 h-3 text-yellow-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:c.avg_wkg.toFixed(2)})]})}),s.jsx("td",{className:"px-4 py-3 text-center",children:c.heartrate_avg?s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(nh,{className:"w-3 h-3 text-red-500 fill-red-100"}),s.jsx("span",{className:"text-xs font-medium text-red-600",children:c.heartrate_avg})]}):s.jsx("span",{className:"text-xs text-gray-300",children:"-"})}),s.jsx("td",{className:"px-4 py-3 text-center",children:c.heartrate_max?s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(nh,{className:"w-3 h-3 text-red-700 fill-red-500"}),s.jsx("span",{className:"text-xs font-semibold text-red-700",children:c.heartrate_max})]}):s.jsx("span",{className:"text-xs text-gray-300",children:"-"})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx(mn,{value:c.power_5s})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx(mn,{value:c.power_15s})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx(mn,{value:c.power_30s})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx(mn,{value:c.power_1m})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx(mn,{value:c.power_2m})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx(mn,{value:c.power_5m})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx(mn,{value:c.power_20m})})]},c.rider_id)})})]})]},a)})})]})}function f1(){const[e,t]=m.useState([]),[r,n]=m.useState(!0),[l,a]=m.useState(null),[o,i]=m.useState(365),[c,d]=m.useState(50),[u,h]=m.useState(""),f=async()=>{n(!0),a(null);try{const y=await fetch(`/api/results/team/recent?days=${o}&limit=${c}`);if(!y.ok)throw new Error("Failed to fetch results");const j=await y.json();if(j.success)t(j.events);else throw new Error("API returned success=false")}catch(y){console.error("Error fetching results:",y),a("Fout bij laden van results. Probeer opnieuw.")}finally{n(!1)}};m.useEffect(()=>{f()},[o,c]);const p=e.filter(y=>{if(!u)return!0;const j=u.toLowerCase();return y.event_name.toLowerCase().includes(j)||y.results.some(w=>w.rider_name.toLowerCase().includes(j))});return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 pb-8",children:[s.jsxs("div",{className:"relative overflow-hidden mb-6",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 opacity-95"}),s.jsx("div",{className:"relative px-6 py-10",children:s.jsxs("div",{className:"max-w-[98vw] mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"p-4 bg-white/20 backdrop-blur-lg rounded-2xl shadow-2xl",children:s.jsx(wo,{className:"w-12 h-12 text-white"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-5xl font-black text-white tracking-tight",children:"RESULTS DASHBOARD"}),s.jsx("p",{className:"text-blue-100 text-xl font-semibold mt-2",children:"TeamNL Cloud9 Racing  Recent Race Results"})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 bg-white/10 backdrop-blur-lg rounded-xl px-5 py-3 border border-white/20 shadow-xl",children:[s.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Showing"}),s.jsx("span",{className:"text-white font-bold text-2xl",children:p.length}),s.jsx("span",{className:"text-white/80 text-sm font-medium",children:"of"}),s.jsx("span",{className:"text-white font-bold text-2xl",children:e.length}),s.jsx("span",{className:"text-white/80 text-sm font-medium",children:"events"}),u&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-white/60",children:""}),s.jsxs("span",{className:"text-cyan-300 font-semibold text-sm",children:[' "',u,'"']})]})]})]})})]}),s.jsxs("div",{className:"max-w-[98vw] mx-auto px-4",children:[s.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-6 mb-6 border border-slate-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx("input",{type:"text",placeholder:" Zoek event of rider...",value:u,onChange:y=>h(y.target.value),className:"w-full px-4 py-2 pl-10 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white"}),u&&s.jsx("button",{onClick:()=>h(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pw,{className:"w-4 h-4 text-gray-500"}),s.jsxs("select",{value:o,onChange:y=>i(parseInt(y.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 bg-white",children:[s.jsx("option",{value:7,children:"7 dagen"}),s.jsx("option",{value:30,children:"30 dagen"}),s.jsx("option",{value:60,children:"60 dagen"}),s.jsx("option",{value:90,children:"90 dagen"})]})]}),s.jsxs("select",{value:c,onChange:y=>d(parseInt(y.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 bg-white",children:[s.jsx("option",{value:20,children:"20 results"}),s.jsx("option",{value:50,children:"50 results"}),s.jsx("option",{value:100,children:"100 results"}),s.jsx("option",{value:200,children:"200 results"})]})]})}),r&&s.jsx("div",{className:"flex justify-center items-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Results laden..."})]})}),l&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6 text-center",children:[s.jsxs("p",{className:"text-red-800 font-medium mb-2",children:[" ",l]}),s.jsx("button",{onClick:f,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Opnieuw proberen"})]}),!r&&!l&&s.jsx("div",{className:"space-y-4",children:p.length===0?s.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-12 text-center border border-slate-200",children:[s.jsx(wo,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Geen results gevonden"}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:u?"Probeer een andere zoekterm":"Probeer een langere periode te selecteren"})]}):p.map(y=>s.jsx(u1,{event:y},y.event_id))})]})]})}function h1(){const[e,t]=m.useState({enabled:!1,intervalMinutes:60,lastRun:null,nextRun:null}),[r,n]=m.useState({isRunning:!1}),[l,a]=m.useState([]),[o,i]=m.useState(!1),[c,d]=m.useState(!1),[u,h]=m.useState(60),[f,p]=m.useState(""),y="";m.useEffect(()=>{j(),w(),g();const S=setInterval(w,1e4);return()=>{clearInterval(S)}},[]),m.useEffect(()=>{if(!e.enabled||!e.nextRun){p("");return}const S=()=>{const $=new Date,U=new Date(e.nextRun).getTime()-$.getTime();if(U<=0){p("Binnenkort..."),j();return}const z=Math.floor(U/6e4),Z=Math.floor(U%6e4/1e3);z>0?p(`${z}m ${Z}s`):p(`${Z}s`)};S();const C=setInterval(S,1e3);return()=>clearInterval(C)},[e.enabled,e.nextRun]);const j=async()=>{try{const S=await fetch(`${y}/api/admin/sync-config`);if(S.ok){const C=await S.json();t(C),h(C.intervalMinutes)}}catch(S){console.error("Failed to load config:",S)}},w=async()=>{try{const S=await fetch(`${y}/api/admin/sync-status`);if(S.ok){const C=await S.json();n(C)}}catch(S){console.error("Failed to load status:",S)}},g=async()=>{try{const S=await fetch(`${y}/api/admin/sync-logs?limit=5`);if(S.ok){const C=await S.json();C.success&&a(C.logs)}}catch(S){console.error("Failed to load logs:",S)}},x=async()=>{try{const S=!e.enabled,C=await fetch(`${y}/api/admin/sync-config`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:S,intervalMinutes:e.intervalMinutes})});C.ok&&(await C.json()).success&&(await j(),q.success(S?" Auto-sync ingeschakeld":" Auto-sync uitgeschakeld"))}catch(S){console.error("Failed to toggle auto-sync:",S),q.error("Fout bij wijzigen auto-sync status")}},v=async()=>{if(u<5||u>1440){q.error("Interval moet tussen 5 en 1440 minuten zijn");return}try{const S=await fetch(`${y}/api/admin/sync-config`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:e.enabled,intervalMinutes:u})});S.ok&&(await S.json()).success&&(await j(),d(!1),q.success(` Interval ingesteld op ${u} minuten`))}catch(S){console.error("Failed to update interval:",S),q.error("Fout bij wijzigen interval")}},b=async()=>{i(!0),q.loading("Sync gestart...",{id:"sync"});try{const S=await fetch(`${y}/api/admin/sync-all`,{method:"POST",headers:{"Content-Type":"application/json"}});if(S.ok){const C=await S.json();C.success?(q.success(` ${C.synced} riders gesynchroniseerd!`,{id:"sync"}),await Promise.all([w(),j(),g()])):q.error(` Sync gefaald: ${C.error}`,{id:"sync"})}}catch(S){console.error("Sync failed:",S),q.error(" Sync fout",{id:"sync"})}finally{i(!1)}},R=S=>S<1e3?`${S}ms`:S<6e4?`${(S/1e3).toFixed(1)}s`:`${(S/6e4).toFixed(1)}m`,T=S=>{const C=new Date(S),B=new Date().getTime()-C.getTime();return B<6e4?"zojuist":B<36e5?`${Math.floor(B/6e4)}m geleden`:B<864e5?`${Math.floor(B/36e5)}u geleden`:C.toLocaleDateString("nl-NL",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})},O=S=>{switch(S){case"success":return"text-green-600 bg-green-100";case"partial":return"text-yellow-600 bg-yellow-100";case"failed":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},_=S=>{switch(S){case"auto":return"";case"manual":return"";case"upload":return"";default:return""}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-white to-blue-50 rounded-2xl shadow-xl border border-blue-100 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-500 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`p-3 rounded-xl backdrop-blur-xl ${e.enabled?"bg-green-500/30 ring-2 ring-green-300":"bg-white/30 ring-2 ring-white/50"}`,children:s.jsx(Jc,{className:`w-7 h-7 ${e.enabled?"text-green-100":"text-white"}`})}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:["Auto-Sync Manager",r.isRunning&&s.jsxs("span",{className:"flex items-center gap-1 text-sm font-medium bg-white/20 px-3 py-1 rounded-full",children:[s.jsx(Oi,{className:"w-4 h-4 animate-pulse"}),"Running..."]})]}),s.jsx("p",{className:"text-blue-100 text-sm mt-1",children:e.enabled?`Automatische sync elke ${e.intervalMinutes} minuten`:"Momenteel uitgeschakeld - handmatige sync beschikbaar"})]})]}),s.jsx("button",{onClick:()=>d(!c),className:"p-3 hover:bg-white/20 rounded-xl transition-all backdrop-blur-xl",title:"Instellingen",children:s.jsx(Bw,{className:`w-6 h-6 text-white transition-transform ${c?"rotate-90":""}`})})]})}),c&&s.jsxs("div",{className:"border-t border-blue-200 bg-gradient-to-br from-blue-50 to-white p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 uppercase tracking-wide",children:"Sync Interval"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"range",min:"5",max:"240",step:"5",value:u,onChange:S=>h(parseInt(S.target.value)),className:"flex-1 h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer accent-blue-600"}),s.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg px-4 py-2 border-2 border-blue-200 min-w-[100px]",children:[s.jsx("input",{type:"number",min:"5",max:"1440",value:u,onChange:S=>h(parseInt(S.target.value)),className:"w-12 text-center font-bold text-lg text-gray-900 bg-transparent focus:outline-none"}),s.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"min"})]})]}),s.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-2",children:[s.jsx(Zc,{className:"w-3 h-3"}),"Min: 5 min  Max: 1440 min (24u)  Standaard: 60 min"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 uppercase tracking-wide",children:"Auto-Sync Status"}),s.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg p-4 border-2 border-blue-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:e.enabled?" Ingeschakeld":" Uitgeschakeld"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.enabled?"Sync draait automatisch":"Alleen handmatige sync"})]}),s.jsx("button",{onClick:x,className:`relative inline-flex h-8 w-14 items-center rounded-full transition-all ${e.enabled?"bg-green-500":"bg-gray-300"}`,children:s.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform shadow-md ${e.enabled?"translate-x-7":"translate-x-1"}`})})]})]})]}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsxs("button",{onClick:v,className:"px-6 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all shadow-md hover:shadow-lg font-semibold flex items-center gap-2",children:[s.jsx(rh,{className:"w-5 h-5"}),"Opslaan"]})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.lastSync&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-5 text-white shadow-lg hover:shadow-xl transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(Xc,{className:"w-6 h-6 opacity-80"}),s.jsx("span",{className:"text-xs font-bold uppercase tracking-wider opacity-80",children:"Laatste Sync"})]}),s.jsx("p",{className:"text-3xl font-black mb-2",children:T(r.lastSync.timestamp)}),s.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-90",children:[s.jsx(Zc,{className:"w-4 h-4"}),s.jsxs("span",{children:["Duur: ",R(r.lastSync.duration)]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-5 text-white shadow-lg hover:shadow-xl transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(rh,{className:"w-6 h-6 opacity-80"}),s.jsx("span",{className:"text-xs font-bold uppercase tracking-wider opacity-80",children:"Gesynchroniseerd"})]}),s.jsx("p",{className:"text-3xl font-black mb-2",children:r.lastSync.synced}),s.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-90",children:[s.jsx(Xo,{className:"w-4 h-4"}),r.lastSync.skipped>0?s.jsxs("span",{children:[r.lastSync.skipped," overgeslagen"]}):s.jsx("span",{children:"Alles succesvol"})]})]}),r.lastSync.failed>0&&s.jsxs("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-xl p-5 text-white shadow-lg hover:shadow-xl transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(Cw,{className:"w-6 h-6 opacity-80"}),s.jsx("span",{className:"text-xs font-bold uppercase tracking-wider opacity-80",children:"Mislukt"})]}),s.jsx("p",{className:"text-3xl font-black mb-2",children:r.lastSync.failed}),s.jsx("p",{className:"text-sm opacity-90",children:"Controleer logs voor details"})]})]}),!r.lastSync&&s.jsxs("div",{className:"col-span-3 bg-gradient-to-br from-gray-100 to-gray-200 rounded-xl p-8 text-center",children:[s.jsx(Oi,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Nog geen sync uitgevoerd"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Start een handmatige sync om te beginnen"})]})]}),e.enabled&&f&&s.jsx("div",{className:"mt-4 bg-gradient-to-r from-blue-100 to-cyan-100 border-2 border-blue-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-blue-500 p-2 rounded-lg",children:s.jsx(Xc,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Volgende automatische sync"}),s.jsxs("p",{className:"text-xs text-blue-700",children:["Nog ",f]})]})]}),s.jsx("div",{className:"text-2xl font-black text-blue-600",children:f})]})}),s.jsxs("button",{onClick:b,disabled:o||r.isRunning,className:"w-full mt-4 flex items-center justify-center space-x-3 px-6 py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl hover:from-green-700 hover:to-emerald-700 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl font-bold text-lg",children:[s.jsx(Iw,{className:`w-6 h-6 ${o||r.isRunning?"animate-spin":""}`}),s.jsx("span",{children:o||r.isRunning?"Bezig met synchroniseren...":"Nu Synchroniseren"})]})]})]}),l.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-gray-100 to-gray-200 px-6 py-4 border-b border-gray-300",children:s.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Oi,{className:"w-5 h-5"}),"Recente Activiteit"]})}),s.jsx("div",{className:"divide-y divide-gray-200",children:l.map(S=>s.jsx("div",{className:"px-6 py-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-2xl",children:_(S.trigger_type)}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[S.sync_type,s.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-bold ${O(S.status)}`,children:S.status})]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[T(S.started_at),S.duration_ms&&`  ${R(S.duration_ms)}`]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-500 text-xs",children:"Total"}),s.jsx("p",{className:"font-bold text-gray-900",children:S.total_items})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-500 text-xs",children:"Geslaagd"}),s.jsx("p",{className:"font-bold text-green-600",children:S.success_count})]}),S.failed_count>0&&s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-500 text-xs",children:"Mislukt"}),s.jsx("p",{className:"font-bold text-red-600",children:S.failed_count})]})]})]})},S.id))})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl p-6 border border-blue-200",children:[s.jsxs("h4",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(Jc,{className:"w-5 h-5 text-blue-600"}),"Smart Sync Informatie"]}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Handmatige sync"})," werkt altijd, onafhankelijk van auto-sync status"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Smart sync strategie:"})," <5 riders = individueel (1s delay), 5 riders = bulk (250ms delay)"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Auto-skip:"})," Onbekende riders worden automatisch overgeslagen zonder errors"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-600 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Real-time monitoring:"})," Status updates elke 10 seconden automatisch"]})]})]})]})]})}function m1(){const e=Ko(),[t,r]=m.useState(!1),[n,l]=m.useState(""),a="CLOUD9RACING",[o,i]=m.useState([]),[c,d]=m.useState(!1),[u,h]=m.useState("add"),[f,p]=m.useState([]),[y,j]=m.useState(!1),[w,g]=m.useState(null),[x,v]=m.useState(null),[b,R]=m.useState(""),[T,O]=m.useState(""),[_,S]=m.useState(null),[C,$]=m.useState(""),[B,U]=m.useState([]),[z,Z]=m.useState(!1);m.useEffect(()=>{fe()},[]),m.useEffect(()=>{u==="manage"?M():u==="logs"&&L()},[u]);const fe=async()=>{try{const P=await(await fetch("/api/team/roster")).json();P.success&&i(P.riders)}catch(k){console.error("Error fetching rider count:",k)}},M=async()=>{try{const P=await(await fetch("/api/team/roster")).json();P.success&&(i(P.riders),console.log(` Loaded ${P.riders.length} team riders`))}catch(k){console.error("Error fetching riders:",k),q.error("Fout bij laden riders")}},L=async()=>{j(!0);try{const P=await(await fetch("/api/admin/sync-logs?limit=50")).json();P.success&&p(P.logs)}catch(k){console.error("Failed to fetch sync logs:",k),q.error("Logs laden mislukt")}finally{j(!1)}},A=async()=>{if(!b.trim()){q.error("Voer een Rider ID in");return}d(!0);try{console.log(` Adding rider ${b}...`);const P=await(await fetch("/api/admin/riders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rider_ids:[parseInt(b)]})})).json();if(console.log("Add response:",P),P.success){const I=P.results[0];q.success(`Rider ${b} toegevoegd! ${I!=null&&I.synced?" Data gesynchroniseerd":" Sync gefaald"}`),R(""),await fe(),u==="manage"&&await M()}else q.error(P.error||"Toevoegen mislukt")}catch(k){console.error("Error adding rider:",k),q.error("Fout bij toevoegen")}finally{d(!1)}},V=async()=>{const k=T.split(/[\n,\s]+/).map(P=>P.trim()).filter(P=>P&&/^\d+$/.test(P)).map(P=>parseInt(P));if(k.length===0){q.error("Voer minimaal 1 geldig Rider ID in");return}d(!0),v({total:k.length,processed:0,synced:0,skipped:0,failed:0,isProcessing:!0});try{console.log(` Bulk POST: ${k.length} riders (CSV support test)...`);const I=await(await fetch("/api/admin/riders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rider_ids:k})})).json();if(console.log(" Bulk add response:",I),I.success){const D=I.results.filter(ne=>ne.synced&&!ne.skipped).length,H=I.results.filter(ne=>ne.skipped).length,K=I.results.filter(ne=>!ne.synced&&!ne.skipped).length;v({total:k.length,processed:k.length,synced:D,skipped:H,failed:K,isProcessing:!1});let J=` ${k.length} riders verwerkt via POST!`;D>0&&(J+=` | ${D} toegevoegd`),H>0&&(J+=` | ${H} overgeslagen`),K>0&&(J+=` | ${K} gefaald`),q.success(J,{duration:6e3}),O(""),S(null),await fe(),u==="manage"&&await M(),setTimeout(()=>v(null),5e3)}else v(null),q.error(I.error||"Toevoegen mislukt")}catch(P){console.error("Error bulk adding:",P),v(null),q.error("Fout bij bulk toevoegen")}finally{d(!1)}},X=k=>{var D;const P=(D=k.target.files)==null?void 0:D[0];if(!P)return;const I=new FileReader;I.onload=H=>{var ne;const J=((ne=H.target)==null?void 0:ne.result).split(/[\n,\s\t]+/).map(re=>re.trim()).filter(re=>re&&/^\d+$/.test(re)).join(`
`);O(J),S(P),q.success(`${J.split(`
`).length} Rider IDs geladen uit ${P.name}`)},I.readAsText(P)},Y=async k=>{if(confirm(`Rider ${k} verwijderen uit team?`))try{console.log(`  Removing rider ${k}...`);const I=await(await fetch(`/api/admin/riders/${k}`,{method:"DELETE"})).json();console.log("Remove response:",I),I.success?(q.success(`Rider ${k} verwijderd`),await fe(),await M()):q.error(I.error||"Verwijderen mislukt")}catch(P){console.error("Error removing rider:",P),q.error("Fout bij verwijderen")}},de=async()=>{if(B.length===0){q.error("Selecteer eerst riders om te verwijderen");return}if(confirm(`${B.length} riders verwijderen uit team?`))try{console.log(`  Bulk removing ${B.length} riders...`);const P=await(await fetch("/api/admin/riders",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({rider_ids:B})})).json();P.success?(q.success(`${B.length} riders verwijderd`),U([]),Z(!1),await fe(),await M()):q.error(P.error||"Bulk verwijderen mislukt")}catch(k){console.error("Error bulk removing:",k),q.error("Fout bij bulk verwijderen")}},he=k=>{U(P=>P.includes(k)?P.filter(I=>I!==k):[...P,k])},Te=()=>{const k=o.filter(P=>{if(!C)return!0;const I=C.toLowerCase();return P.rider_id.toString().includes(I)||P.name&&P.name.toLowerCase().includes(I)||P.full_name&&P.full_name.toLowerCase().includes(I)||P.racing_name&&P.racing_name.toLowerCase().includes(I)||P.country_alpha3&&P.country_alpha3.toLowerCase().includes(I)}).map(P=>P.rider_id);U(k)},E=k=>{k.preventDefault(),n.toUpperCase()===a?(r(!0),sessionStorage.setItem("teamManagerAuth","true"),q.success(" Toegang verleend!")):(q.error(" Onjuiste code"),l(""))};return m.useEffect(()=>{sessionStorage.getItem("teamManagerAuth")==="true"&&r(!0)},[]),t?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-900 text-white",children:[s.jsxs("div",{className:"relative overflow-hidden mb-4 sm:mb-6",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-600 via-blue-600 to-orange-500 opacity-95"}),s.jsx("div",{className:"relative px-3 py-4 sm:px-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-lg rounded-xl shadow-xl flex-shrink-0",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:" Team Manager"}),s.jsx("p",{className:"text-orange-100 text-sm font-semibold mt-0.5",children:"TeamNL Cloud9 Racing"})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{onClick:()=>e("/"),className:"px-4 py-2 bg-white/20 hover:bg-white/30 backdrop-blur-lg rounded-lg border border-white/30 text-white font-semibold text-sm transition-all shadow-lg hover:shadow-xl flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),s.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]})})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2 border border-white/20 shadow-lg mt-3",children:[s.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Active Team Members"}),s.jsx("span",{className:"text-white font-bold text-lg sm:text-xl lg:text-2xl",children:o.length}),s.jsx("span",{className:"text-white/60 hidden sm:inline",children:""}),s.jsx("span",{className:"text-cyan-300 font-semibold text-xs sm:text-sm",children:u==="add"?" Adding Mode":" Management Mode"})]})]})})]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-2 inline-flex gap-2 mb-6 border border-white/20 shadow-lg",children:[s.jsx("button",{onClick:()=>h("add"),className:`px-4 py-2 rounded-lg font-semibold text-sm transition-all ${u==="add"?"bg-white text-blue-600 shadow-lg":"text-white hover:bg-white/10"}`,children:" Toevoegen"}),s.jsx("button",{onClick:()=>h("manage"),className:`px-4 py-2 rounded-lg font-semibold text-sm transition-all ${u==="manage"?"bg-white text-blue-600 shadow-lg":"text-white hover:bg-white/10"}`,children:" Beheren"}),s.jsx("button",{onClick:()=>h("sync"),className:`px-4 py-2 rounded-lg font-semibold text-sm transition-all ${u==="sync"?"bg-white text-blue-600 shadow-lg":"text-white hover:bg-white/10"}`,children:" Auto-Sync"}),s.jsx("button",{onClick:()=>h("logs"),className:`px-4 py-2 rounded-lg font-semibold text-sm transition-all ${u==="logs"?"bg-white text-blue-600 shadow-lg":"text-white hover:bg-white/10"}`,children:" Logs"})]}),u==="add"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-600/20 rounded-xl flex items-center justify-center",children:s.jsx("span",{className:"text-2xl",children:"1"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold",children:"Enkele Rider"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Voeg 1 rider toe"})]})]}),s.jsx("input",{type:"text",value:b,onChange:k=>R(k.target.value),onKeyPress:k=>k.key==="Enter"&&A(),placeholder:"Bijv: 150437",className:"w-full px-4 py-3 bg-gray-900/50 border border-gray-700 rounded-xl focus:outline-none focus:border-blue-500 mb-4",disabled:c}),s.jsx("button",{onClick:A,disabled:c,className:"w-full px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 rounded-xl font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-blue-500/50",children:c?"Toevoegen...":"Voeg Toe"})]}),s.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-600/20 rounded-xl flex items-center justify-center",children:s.jsx("span",{className:"text-2xl",children:"2"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold",children:"Meerdere Riders"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Lijst met IDs"})]})]}),s.jsx("textarea",{value:T,onChange:k=>O(k.target.value),placeholder:`150437
123456
789012`,rows:5,className:"w-full px-4 py-3 bg-gray-900/50 border border-gray-700 rounded-xl focus:outline-none focus:border-purple-500 mb-4 font-mono text-sm resize-none",disabled:c}),s.jsx("button",{onClick:V,disabled:c,className:"w-full px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 rounded-xl font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-purple-500/50",children:c?"Verwerken...":`Voeg ${T.split(/[\n,\s]+/).filter(k=>k.trim()&&/^\d+$/.test(k.trim())).length} Riders Toe`})]}),s.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-green-600/20 rounded-xl flex items-center justify-center",children:s.jsx("span",{className:"text-2xl",children:"3"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold",children:"Bulk Upload"}),s.jsx("p",{className:"text-sm text-gray-400",children:".txt of .csv bestand"})]})]}),s.jsxs("div",{className:"border-2 border-dashed border-gray-700 rounded-xl p-6 mb-4 text-center hover:border-green-500 transition-colors",children:[s.jsx("input",{type:"file",accept:".txt,.csv",onChange:X,className:"hidden",id:"file-upload"}),s.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center gap-2",children:[s.jsx("svg",{className:"w-12 h-12 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),s.jsx("span",{className:"text-gray-400",children:_?_.name:"Klik om bestand te selecteren"}),s.jsx("span",{className:"text-xs text-gray-500",children:"TXT of CSV met Rider IDs"})]})]}),T&&s.jsx("button",{onClick:V,disabled:c,className:"w-full px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 rounded-xl font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-green-500/50",children:c?"Uploaden...":`Upload ${T.split(`
`).filter(k=>k.trim()).length} Riders`})]}),x&&s.jsx("div",{className:"lg:col-span-3",children:s.jsxs("div",{className:"bg-gradient-to-r from-blue-900/50 to-purple-900/50 backdrop-blur-sm rounded-2xl p-6 border border-blue-500/50 shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:x.isProcessing?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-3 border-blue-400 border-t-transparent"}),"Verwerken..."]}):s.jsx(s.Fragment,{children:" Voltooid!"})}),s.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-white transition-colors",children:""})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-300 mb-2",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{children:[x.processed," / ",x.total]})]}),s.jsx("div",{className:"h-3 bg-gray-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-cyan-500 transition-all duration-500 ease-out",style:{width:`${x.processed/x.total*100}%`}})})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-white",children:x.total}),s.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Totaal"})]}),s.jsxs("div",{className:"bg-green-900/30 rounded-xl p-4 text-center border border-green-500/30",children:[s.jsx("div",{className:"text-3xl font-bold text-green-400",children:x.synced}),s.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Toegevoegd"})]}),s.jsxs("div",{className:"bg-yellow-900/30 rounded-xl p-4 text-center border border-yellow-500/30",children:[s.jsx("div",{className:"text-3xl font-bold text-yellow-400",children:x.skipped}),s.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Overgeslagen"})]}),s.jsxs("div",{className:"bg-red-900/30 rounded-xl p-4 text-center border border-red-500/30",children:[s.jsx("div",{className:"text-3xl font-bold text-red-400",children:x.failed}),s.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Gefaald"})]})]}),!x.isProcessing&&s.jsx("div",{className:"mt-4 text-center text-sm text-green-400",children:" POST request succesvol verwerkt (60+ riders support OK)"})]})})]}),u==="manage"&&s.jsxs("div",{children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl shadow-lg p-4 mb-4",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx("button",{onClick:()=>{Z(!z),U([])},className:`px-4 py-2 rounded-lg font-semibold transition-all ${z?"bg-white text-purple-600 shadow-lg":"bg-white/20 text-white hover:bg-white/30"}`,children:z?" Selectie Actief":" Selectie Modus"}),z&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:Te,className:"px-4 py-2 bg-white/20 text-white rounded-lg font-semibold hover:bg-white/30 transition-all",children:["Selecteer Alle",C?" Gefilterde":""]}),s.jsx("button",{onClick:()=>U([]),className:"px-4 py-2 bg-white/20 text-white rounded-lg font-semibold hover:bg-white/30 transition-all",disabled:B.length===0,children:"Deselecteer Alles"}),s.jsx("div",{className:"flex-1"}),s.jsxs("div",{className:"text-white font-bold",children:[B.length," geselecteerd"]}),s.jsxs("button",{onClick:de,disabled:B.length===0,className:"px-6 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:[" Verwijder (",B.length,")"]})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 mb-4 flex flex-wrap gap-3",children:[s.jsxs("a",{href:"/api/riders/export/csv?format=ids_only",download:!0,className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-cyan-500 text-white rounded-lg font-semibold hover:shadow-lg transition-all flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})," Export IDs (.txt)"]}),s.jsxs("a",{href:"/api/riders/export/csv?format=full",download:!0,className:"px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-500 text-white rounded-lg font-semibold hover:shadow-lg transition-all flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})," Export Full CSV"]}),s.jsx("div",{className:"ml-auto text-sm text-gray-600 flex items-center",children:s.jsxs("span",{className:"font-semibold",children:[o.length," riders"]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:C,onChange:k=>$(k.target.value),placeholder:" Zoek op naam, rider ID, of land...",className:"w-full px-4 py-3 pl-12 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none text-lg"}),s.jsx("svg",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),C&&s.jsx("button",{onClick:()=>$(""),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),C&&s.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[o.filter(k=>k.rider_id.toString().includes(C.toLowerCase())||k.name&&k.name.toLowerCase().includes(C.toLowerCase())||k.full_name&&k.full_name.toLowerCase().includes(C.toLowerCase())||k.racing_name&&k.racing_name.toLowerCase().includes(C.toLowerCase())||k.country_alpha3&&k.country_alpha3.toLowerCase().includes(C.toLowerCase())).length," resultaten gevonden"]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gradient-to-r from-blue-600 to-cyan-500",children:s.jsxs("tr",{children:[z&&s.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold text-white uppercase tracking-wider w-12",children:""}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Rider"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"vELO"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Cat"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"FTP"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Races"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Wins"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Laatste Sync"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold text-white uppercase tracking-wider",children:"Acties"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:o.filter(k=>{if(!C)return!0;const P=C.toLowerCase();return k.rider_id.toString().includes(P)||k.name&&k.name.toLowerCase().includes(P)||k.full_name&&k.full_name.toLowerCase().includes(P)||k.racing_name&&k.racing_name.toLowerCase().includes(P)||k.country_alpha3&&k.country_alpha3.toLowerCase().includes(P)}).map(k=>s.jsxs("tr",{className:`hover:bg-blue-50 transition-colors ${B.includes(k.rider_id)?"bg-purple-50":""}`,children:[z&&s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("input",{type:"checkbox",checked:B.includes(k.rider_id),onChange:()=>he(k.rider_id),className:"w-5 h-5 text-purple-600 rounded focus:ring-2 focus:ring-purple-500 cursor-pointer"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:k.avatar_url||k.image_src||`https://ui-avatars.com/api/?name=${k.rider_id}&background=3b82f6&color=fff`,alt:"",className:"w-12 h-12 rounded-full border-2 border-blue-200 object-cover",onError:P=>{P.currentTarget.src=`https://ui-avatars.com/api/?name=${k.rider_id}&background=3b82f6&color=fff`}}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-gray-900",children:k.full_name||k.name||k.racing_name||`Rider ${k.rider_id}`}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[k.country_alpha3&&s.jsx("span",{className:"text-lg",children:k.country_alpha3==="NLD"?"":k.country_alpha3==="USA"?"":k.country_alpha3==="GBR"?"":""}),"ID: ",k.rider_id]})]})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"font-bold text-lg text-cyan-600",children:k.velo_live?Math.floor(k.velo_live):"-"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`px-3 py-1 rounded-full font-bold text-sm ${k.zwiftracing_category==="A"?"bg-red-100 text-red-700":k.zwiftracing_category==="B"?"bg-orange-100 text-orange-700":k.zwiftracing_category==="C"?"bg-green-100 text-green-700":k.zwiftracing_category==="D"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-500"}`,children:k.zwiftracing_category||"-"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("span",{className:"font-mono font-semibold text-gray-900",children:[k.racing_ftp||k.ftp_watts||"-",s.jsx("span",{className:"text-gray-500 text-sm",children:"W"})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"text-gray-700 font-medium",children:k.race_finishes||0})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"text-gray-700 font-medium",children:k.race_wins||0})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"text-xs text-gray-500",children:k.team_last_synced?new Date(k.team_last_synced).toLocaleDateString("nl-NL",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):"Nooit"})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("button",{onClick:()=>Y(k.rider_id),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-semibold text-sm shadow-md hover:shadow-lg",children:"Verwijder"})})]},k.rider_id))})]})}),o.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-400",children:[s.jsx("p",{className:"text-xl mb-2",children:"Nog geen riders in het team"}),s.jsx("p",{className:"text-sm",children:'Voeg riders toe via de "Riders Toevoegen" tab'})]})]})]}),u==="sync"&&s.jsx("div",{className:"space-y-6",children:s.jsx(h1,{})}),u==="logs"&&s.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:" Sync Geschiedenis"}),s.jsx("button",{onClick:L,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-colors",children:" Ververs"})]}),y?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"}),s.jsx("p",{className:"text-gray-400 mt-4",children:"Logs laden..."})]}):f.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-400",children:[s.jsx("p",{className:"text-xl mb-2",children:"Nog geen sync logs"}),s.jsx("p",{className:"text-sm",children:"Logs verschijnen hier na sync operaties"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-700/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Tijd"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Trigger"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Items"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Geslaagd"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Mislukt"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider",children:"Duur"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-700",children:f.map(k=>{var P;return s.jsxs(s.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-gray-700/30 cursor-pointer",onClick:()=>g(w===k.id?null:k.id),children:[s.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:new Date(k.started_at).toLocaleDateString("nl-NL",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:k.sync_type}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${k.trigger_type==="auto"?"bg-blue-900/50 text-blue-300":k.trigger_type==="manual"?"bg-purple-900/50 text-purple-300":k.trigger_type==="upload"?"bg-green-900/50 text-green-300":k.trigger_type==="api"?"bg-orange-900/50 text-orange-300":"bg-gray-700 text-gray-300"}`,children:k.trigger_type})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${k.status==="success"?"bg-green-900/50 text-green-300":k.status==="partial"?"bg-yellow-900/50 text-yellow-300":k.status==="failed"?"bg-red-900/50 text-red-300":"bg-gray-700 text-gray-300"}`,children:k.status})}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:k.total_items||0}),s.jsx("td",{className:"px-4 py-3 text-sm text-green-400 font-semibold",children:k.success_count||0}),s.jsxs("td",{className:"px-4 py-3 text-sm text-red-400 font-semibold",children:[k.failed_count||0,k.failed_count>0&&w!==k.id&&s.jsx("span",{className:"ml-2 text-xs text-gray-500",children:""}),k.failed_count>0&&w===k.id&&s.jsx("span",{className:"ml-2 text-xs text-gray-500",children:""})]}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-400",children:k.duration_ms?`${(k.duration_ms/1e3).toFixed(1)}s`:"-"})]},k.id),w===k.id&&((P=k.metadata)==null?void 0:P.failed_riders_errors)&&k.metadata.failed_riders_errors.length>0&&s.jsx("tr",{className:"bg-red-900/20",children:s.jsx("td",{colSpan:8,className:"px-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"text-sm font-semibold text-red-300 mb-3 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Failure Details (",k.metadata.failed_riders_errors.length," riders)"]}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:k.metadata.failed_riders_errors.map((I,D)=>s.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 border border-red-800/50",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("span",{className:"font-mono text-sm text-gray-300",children:["Rider: ",I.rider_id]}),s.jsx("span",{className:"px-2 py-1 bg-red-800/50 text-red-200 rounded text-xs font-mono",children:I.error_code})]}),I.error_details&&I.error_details.length>0&&s.jsx("ul",{className:"text-xs text-gray-400 space-y-1 ml-4",children:I.error_details.map((H,K)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-red-400",children:""}),s.jsx("span",{children:H})]},K))})]},D))})]})})},`${k.id}-details`)]})})})]})})]})]})]}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-900 text-white flex items-center justify-center px-4",children:s.jsx("div",{className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-gradient-to-br from-blue-600/40 via-cyan-500/30 to-blue-700/40 backdrop-blur-xl rounded-3xl p-8 border border-white/20 shadow-2xl",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-xl",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),s.jsx("h1",{className:"text-3xl font-black text-center mb-2 bg-gradient-to-r from-orange-400 via-red-400 to-orange-400 bg-clip-text text-transparent",children:"Team Manager"}),s.jsx("p",{className:"text-center text-white/70 mb-8",children:"Voer de entry code in voor toegang"}),s.jsxs("form",{onSubmit:E,className:"space-y-4",children:[s.jsx("input",{type:"text",value:n,onChange:k=>l(k.target.value),placeholder:"Entry Code",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/50 focus:outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-400/50 transition-all text-center tracking-wider uppercase",autoComplete:"off",autoFocus:!0}),s.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-orange-500 to-red-600 rounded-xl font-bold text-white shadow-lg hover:shadow-xl transition-all hover:scale-105",children:" Ontgrendel"})]}),s.jsx("button",{onClick:()=>e("/"),className:"w-full mt-4 py-3 bg-white/10 rounded-xl font-semibold text-white/70 hover:bg-white/20 transition-all",children:" Terug naar Dashboard"})]})})})}function p1(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m.useMemo(()=>n=>{t.forEach(l=>l(n))},t)}const Zo=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $s(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function cu(e){return"nodeType"in e}function nt(e){var t,r;return e?$s(e)?e:cu(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function du(e){const{Document:t}=nt(e);return e instanceof t}function Jl(e){return $s(e)?!1:e instanceof nt(e).HTMLElement}function Ep(e){return e instanceof nt(e).SVGElement}function As(e){return e?$s(e)?e.document:cu(e)?du(e)?e:Jl(e)||Ep(e)?e.ownerDocument:document:document:document}const It=Zo?m.useLayoutEffect:m.useEffect;function Jo(e){const t=m.useRef(e);return It(()=>{t.current=e}),m.useCallback(function(){for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return t.current==null?void 0:t.current(...n)},[])}function x1(){const e=m.useRef(null),t=m.useCallback((n,l)=>{e.current=setInterval(n,l)},[]),r=m.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function Al(e,t){t===void 0&&(t=[e]);const r=m.useRef(e);return It(()=>{r.current!==e&&(r.current=e)},t),r}function ea(e,t){const r=m.useRef();return m.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function jo(e){const t=Jo(e),r=m.useRef(null),n=m.useCallback(l=>{l!==r.current&&(t==null||t(l,r.current)),r.current=l},[]);return[r,n]}function No(e){const t=m.useRef();return m.useEffect(()=>{t.current=e},[e]),t.current}let Li={};function ta(e,t){return m.useMemo(()=>{if(t)return t;const r=Li[e]==null?0:Li[e]+1;return Li[e]=r,e+"-"+r},[e,t])}function Rp(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),l=1;l<r;l++)n[l-1]=arguments[l];return n.reduce((a,o)=>{const i=Object.entries(o);for(const[c,d]of i){const u=a[c];u!=null&&(a[c]=u+e*d)}return a},{...t})}}const fs=Rp(1),ko=Rp(-1);function g1(e){return"clientX"in e&&"clientY"in e}function ei(e){if(!e)return!1;const{KeyboardEvent:t}=nt(e.target);return t&&e instanceof t}function v1(e){if(!e)return!1;const{TouchEvent:t}=nt(e.target);return t&&e instanceof t}function _o(e){if(v1(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return g1(e)?{x:e.clientX,y:e.clientY}:null}const jr=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[jr.Translate.toString(e),jr.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),oh="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function y1(e){return e.matches(oh)?e:e.querySelector(oh)}const b1={display:"none"};function w1(e){let{id:t,value:r}=e;return xe.createElement("div",{id:t,style:b1},r)}function j1(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return xe.createElement("div",{id:t,style:l,role:"status","aria-live":n,"aria-atomic":!0},r)}function N1(){const[e,t]=m.useState("");return{announce:m.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const Mp=m.createContext(null);function k1(e){const t=m.useContext(Mp);m.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function _1(){const[e]=m.useState(()=>new Set),t=m.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[m.useCallback(n=>{let{type:l,event:a}=n;e.forEach(o=>{var i;return(i=o[l])==null?void 0:i.call(o,a)})},[e]),t]}const C1={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},S1={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function E1(e){let{announcements:t=S1,container:r,hiddenTextDescribedById:n,screenReaderInstructions:l=C1}=e;const{announce:a,announcement:o}=N1(),i=ta("DndLiveRegion"),[c,d]=m.useState(!1);if(m.useEffect(()=>{d(!0)},[]),k1(m.useMemo(()=>({onDragStart(h){let{active:f}=h;a(t.onDragStart({active:f}))},onDragMove(h){let{active:f,over:p}=h;t.onDragMove&&a(t.onDragMove({active:f,over:p}))},onDragOver(h){let{active:f,over:p}=h;a(t.onDragOver({active:f,over:p}))},onDragEnd(h){let{active:f,over:p}=h;a(t.onDragEnd({active:f,over:p}))},onDragCancel(h){let{active:f,over:p}=h;a(t.onDragCancel({active:f,over:p}))}}),[a,t])),!c)return null;const u=xe.createElement(xe.Fragment,null,xe.createElement(w1,{id:n,value:l.draggable}),xe.createElement(j1,{id:i,announcement:o}));return r?ls.createPortal(u,r):u}var Me;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Me||(Me={}));function Co(){}function So(e,t){return m.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Dp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const zt=Object.freeze({x:0,y:0});function R1(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function M1(e,t){const r=_o(e);if(!r)return"0 0";const n={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function D1(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function P1(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function T1(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function ih(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const Pp=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const l=ih(t,t.left,t.top),a=[];for(const o of n){const{id:i}=o,c=r.get(i);if(c){const d=R1(ih(c),l);a.push({id:i,data:{droppableContainer:o,value:d}})}}return a.sort(D1)};function O1(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),l=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=l-n,i=a-r;if(n<l&&r<a){const c=t.width*t.height,d=e.width*e.height,u=o*i,h=u/(c+d-u);return Number(h.toFixed(4))}return 0}const L1=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const l=[];for(const a of n){const{id:o}=a,i=r.get(o);if(i){const c=O1(i,t);c>0&&l.push({id:o,data:{droppableContainer:a,value:c}})}}return l.sort(P1)};function F1(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function Tp(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:zt}function $1(e){return function(r){for(var n=arguments.length,l=new Array(n>1?n-1:0),a=1;a<n;a++)l[a-1]=arguments[a];return l.reduce((o,i)=>({...o,top:o.top+e*i.y,bottom:o.bottom+e*i.y,left:o.left+e*i.x,right:o.right+e*i.x}),{...r})}}const A1=$1(1);function Op(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function I1(e,t,r){const n=Op(t);if(!n)return e;const{scaleX:l,scaleY:a,x:o,y:i}=n,c=e.left-o-(1-l)*parseFloat(r),d=e.top-i-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),u=l?e.width/l:e.width,h=a?e.height/a:e.height;return{width:u,height:h,top:d,right:c+u,bottom:d+h,left:c}}const z1={ignoreTransform:!1};function Is(e,t){t===void 0&&(t=z1);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:u}=nt(e).getComputedStyle(e);d&&(r=I1(r,d,u))}const{top:n,left:l,width:a,height:o,bottom:i,right:c}=r;return{top:n,left:l,width:a,height:o,bottom:i,right:c}}function ch(e){return Is(e,{ignoreTransform:!0})}function B1(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function U1(e,t){return t===void 0&&(t=nt(e).getComputedStyle(e)),t.position==="fixed"}function V1(e,t){t===void 0&&(t=nt(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const a=t[l];return typeof a=="string"?r.test(a):!1})}function uu(e,t){const r=[];function n(l){if(t!=null&&r.length>=t||!l)return r;if(du(l)&&l.scrollingElement!=null&&!r.includes(l.scrollingElement))return r.push(l.scrollingElement),r;if(!Jl(l)||Ep(l)||r.includes(l))return r;const a=nt(e).getComputedStyle(l);return l!==e&&V1(l,a)&&r.push(l),U1(l,a)?r:n(l.parentNode)}return e?n(e):r}function Lp(e){const[t]=uu(e,1);return t??null}function Fi(e){return!Zo||!e?null:$s(e)?e:cu(e)?du(e)||e===As(e).scrollingElement?window:Jl(e)?e:null:null}function Fp(e){return $s(e)?e.scrollX:e.scrollLeft}function $p(e){return $s(e)?e.scrollY:e.scrollTop}function td(e){return{x:Fp(e),y:$p(e)}}var Ae;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ae||(Ae={}));function Ap(e){return!Zo||!e?!1:e===document.scrollingElement}function Ip(e){const t={x:0,y:0},r=Ap(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},l=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,o=e.scrollTop>=n.y,i=e.scrollLeft>=n.x;return{isTop:l,isLeft:a,isBottom:o,isRight:i,maxScroll:n,minScroll:t}}const W1={x:.2,y:.2};function H1(e,t,r,n,l){let{top:a,left:o,right:i,bottom:c}=r;n===void 0&&(n=10),l===void 0&&(l=W1);const{isTop:d,isBottom:u,isLeft:h,isRight:f}=Ip(e),p={x:0,y:0},y={x:0,y:0},j={height:t.height*l.y,width:t.width*l.x};return!d&&a<=t.top+j.height?(p.y=Ae.Backward,y.y=n*Math.abs((t.top+j.height-a)/j.height)):!u&&c>=t.bottom-j.height&&(p.y=Ae.Forward,y.y=n*Math.abs((t.bottom-j.height-c)/j.height)),!f&&i>=t.right-j.width?(p.x=Ae.Forward,y.x=n*Math.abs((t.right-j.width-i)/j.width)):!h&&o<=t.left+j.width&&(p.x=Ae.Backward,y.x=n*Math.abs((t.left+j.width-o)/j.width)),{direction:p,speed:y}}function Q1(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:t,left:r,right:n,bottom:l}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:l,width:e.clientWidth,height:e.clientHeight}}function zp(e){return e.reduce((t,r)=>fs(t,td(r)),zt)}function K1(e){return e.reduce((t,r)=>t+Fp(r),0)}function q1(e){return e.reduce((t,r)=>t+$p(r),0)}function Bp(e,t){if(t===void 0&&(t=Is),!e)return;const{top:r,left:n,bottom:l,right:a}=t(e);Lp(e)&&(l<=0||a<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const G1=[["x",["left","right"],K1],["y",["top","bottom"],q1]];class fu{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=uu(r),l=zp(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,o,i]of G1)for(const c of o)Object.defineProperty(this,c,{get:()=>{const d=i(n),u=l[a]-d;return this.rect[c]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class pl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var l;(l=this.target)==null||l.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function Y1(e){const{EventTarget:t}=nt(e);return e instanceof t?e:As(e)}function $i(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var Nt;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Nt||(Nt={}));function dh(e){e.preventDefault()}function X1(e){e.stopPropagation()}var oe;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(oe||(oe={}));const Up={start:[oe.Space,oe.Enter],cancel:[oe.Esc],end:[oe.Space,oe.Enter,oe.Tab]},Z1=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case oe.Right:return{...r,x:r.x+25};case oe.Left:return{...r,x:r.x-25};case oe.Down:return{...r,y:r.y+25};case oe.Up:return{...r,y:r.y-25}}};class Vp{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new pl(As(r)),this.windowListeners=new pl(nt(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Nt.Resize,this.handleCancel),this.windowListeners.add(Nt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Nt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&Bp(n),r(zt)}handleKeyDown(t){if(ei(t)){const{active:r,context:n,options:l}=this.props,{keyboardCodes:a=Up,coordinateGetter:o=Z1,scrollBehavior:i="smooth"}=l,{code:c}=t;if(a.end.includes(c)){this.handleEnd(t);return}if(a.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:d}=n.current,u=d?{x:d.left,y:d.top}:zt;this.referenceCoordinates||(this.referenceCoordinates=u);const h=o(t,{active:r,context:n.current,currentCoordinates:u});if(h){const f=ko(h,u),p={x:0,y:0},{scrollableAncestors:y}=n.current;for(const j of y){const w=t.code,{isTop:g,isRight:x,isLeft:v,isBottom:b,maxScroll:R,minScroll:T}=Ip(j),O=Q1(j),_={x:Math.min(w===oe.Right?O.right-O.width/2:O.right,Math.max(w===oe.Right?O.left:O.left+O.width/2,h.x)),y:Math.min(w===oe.Down?O.bottom-O.height/2:O.bottom,Math.max(w===oe.Down?O.top:O.top+O.height/2,h.y))},S=w===oe.Right&&!x||w===oe.Left&&!v,C=w===oe.Down&&!b||w===oe.Up&&!g;if(S&&_.x!==h.x){const $=j.scrollLeft+f.x,B=w===oe.Right&&$<=R.x||w===oe.Left&&$>=T.x;if(B&&!f.y){j.scrollTo({left:$,behavior:i});return}B?p.x=j.scrollLeft-$:p.x=w===oe.Right?j.scrollLeft-R.x:j.scrollLeft-T.x,p.x&&j.scrollBy({left:-p.x,behavior:i});break}else if(C&&_.y!==h.y){const $=j.scrollTop+f.y,B=w===oe.Down&&$<=R.y||w===oe.Up&&$>=T.y;if(B&&!f.x){j.scrollTo({top:$,behavior:i});return}B?p.y=j.scrollTop-$:p.y=w===oe.Down?j.scrollTop-R.y:j.scrollTop-T.y,p.y&&j.scrollBy({top:-p.y,behavior:i});break}}this.handleMove(t,fs(ko(h,this.referenceCoordinates),p))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Vp.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=Up,onActivation:l}=t,{active:a}=r;const{code:o}=e.nativeEvent;if(n.start.includes(o)){const i=a.activatorNode.current;return i&&e.target!==i?!1:(e.preventDefault(),l==null||l({event:e.nativeEvent}),!0)}return!1}}];function uh(e){return!!(e&&"distance"in e)}function fh(e){return!!(e&&"delay"in e)}class hu{constructor(t,r,n){var l;n===void 0&&(n=Y1(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:a}=t,{target:o}=a;this.props=t,this.events=r,this.document=As(o),this.documentListeners=new pl(this.document),this.listeners=new pl(n),this.windowListeners=new pl(nt(o)),this.initialCoordinates=(l=_o(a))!=null?l:zt,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Nt.Resize,this.handleCancel),this.windowListeners.add(Nt.DragStart,dh),this.windowListeners.add(Nt.VisibilityChange,this.handleCancel),this.windowListeners.add(Nt.ContextMenu,dh),this.documentListeners.add(Nt.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(fh(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(uh(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:l}=this.props;l(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Nt.Click,X1,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Nt.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:l,props:a}=this,{onMove:o,options:{activationConstraint:i}}=a;if(!l)return;const c=(r=_o(t))!=null?r:zt,d=ko(l,c);if(!n&&i){if(uh(i)){if(i.tolerance!=null&&$i(d,i.tolerance))return this.handleCancel();if($i(d,i.distance))return this.handleStart()}if(fh(i)&&$i(d,i.tolerance))return this.handleCancel();this.handlePending(i,d);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===oe.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const J1={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ti extends hu{constructor(t){const{event:r}=t,n=As(r.target);super(t,J1,n)}}ti.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const e2={move:{name:"mousemove"},end:{name:"mouseup"}};var rd;(function(e){e[e.RightClick=2]="RightClick"})(rd||(rd={}));class t2 extends hu{constructor(t){super(t,e2,As(t.event.target))}}t2.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===rd.RightClick?!1:(n==null||n({event:r}),!0)}}];const Ai={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class mu extends hu{constructor(t){super(t,Ai)}static setup(){return window.addEventListener(Ai.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Ai.move.name,t)};function t(){}}}mu.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:l}=r;return l.length>1?!1:(n==null||n({event:r}),!0)}}];var xl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(xl||(xl={}));var Eo;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Eo||(Eo={}));function r2(e){let{acceleration:t,activator:r=xl.Pointer,canScroll:n,draggingRect:l,enabled:a,interval:o=5,order:i=Eo.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:h,threshold:f}=e;const p=s2({delta:h,disabled:!a}),[y,j]=x1(),w=m.useRef({x:0,y:0}),g=m.useRef({x:0,y:0}),x=m.useMemo(()=>{switch(r){case xl.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case xl.DraggableRect:return l}},[r,l,c]),v=m.useRef(null),b=m.useCallback(()=>{const T=v.current;if(!T)return;const O=w.current.x*g.current.x,_=w.current.y*g.current.y;T.scrollBy(O,_)},[]),R=m.useMemo(()=>i===Eo.TreeOrder?[...d].reverse():d,[i,d]);m.useEffect(()=>{if(!a||!d.length||!x){j();return}for(const T of R){if((n==null?void 0:n(T))===!1)continue;const O=d.indexOf(T),_=u[O];if(!_)continue;const{direction:S,speed:C}=H1(T,_,x,t,f);for(const $ of["x","y"])p[$][S[$]]||(C[$]=0,S[$]=0);if(C.x>0||C.y>0){j(),v.current=T,y(b,o),w.current=C,g.current=S;return}}w.current={x:0,y:0},g.current={x:0,y:0},j()},[t,b,n,j,a,o,JSON.stringify(x),JSON.stringify(p),y,d,R,u,JSON.stringify(f)])}const n2={x:{[Ae.Backward]:!1,[Ae.Forward]:!1},y:{[Ae.Backward]:!1,[Ae.Forward]:!1}};function s2(e){let{delta:t,disabled:r}=e;const n=No(t);return ea(l=>{if(r||!n||!l)return n2;const a={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[Ae.Backward]:l.x[Ae.Backward]||a.x===-1,[Ae.Forward]:l.x[Ae.Forward]||a.x===1},y:{[Ae.Backward]:l.y[Ae.Backward]||a.y===-1,[Ae.Forward]:l.y[Ae.Forward]||a.y===1}}},[r,t,n])}function l2(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return ea(l=>{var a;return t==null?null:(a=n??l)!=null?a:null},[n,t])}function a2(e,t){return m.useMemo(()=>e.reduce((r,n)=>{const{sensor:l}=n,a=l.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,n)}));return[...r,...a]},[]),[e,t])}var Il;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Il||(Il={}));var nd;(function(e){e.Optimized="optimized"})(nd||(nd={}));const hh=new Map;function o2(e,t){let{dragging:r,dependencies:n,config:l}=t;const[a,o]=m.useState(null),{frequency:i,measure:c,strategy:d}=l,u=m.useRef(e),h=w(),f=Al(h),p=m.useCallback(function(g){g===void 0&&(g=[]),!f.current&&o(x=>x===null?g:x.concat(g.filter(v=>!x.includes(v))))},[f]),y=m.useRef(null),j=ea(g=>{if(h&&!r)return hh;if(!g||g===hh||u.current!==e||a!=null){const x=new Map;for(let v of e){if(!v)continue;if(a&&a.length>0&&!a.includes(v.id)&&v.rect.current){x.set(v.id,v.rect.current);continue}const b=v.node.current,R=b?new fu(c(b),b):null;v.rect.current=R,R&&x.set(v.id,R)}return x}return g},[e,a,r,h,c]);return m.useEffect(()=>{u.current=e},[e]),m.useEffect(()=>{h||p()},[r,h]),m.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),m.useEffect(()=>{h||typeof i!="number"||y.current!==null||(y.current=setTimeout(()=>{p(),y.current=null},i))},[i,h,p,...n]),{droppableRects:j,measureDroppableContainers:p,measuringScheduled:a!=null};function w(){switch(d){case Il.Always:return!1;case Il.BeforeDragging:return r;default:return!r}}}function pu(e,t){return ea(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function i2(e,t){return pu(e,t)}function c2(e){let{callback:t,disabled:r}=e;const n=Jo(t),l=m.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(n)},[n,r]);return m.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function ri(e){let{callback:t,disabled:r}=e;const n=Jo(t),l=m.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(n)},[r]);return m.useEffect(()=>()=>l==null?void 0:l.disconnect(),[l]),l}function d2(e){return new fu(Is(e),e)}function mh(e,t,r){t===void 0&&(t=d2);const[n,l]=m.useState(null);function a(){l(c=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=c??r)!=null?d:null}const u=t(e);return JSON.stringify(c)===JSON.stringify(u)?c:u})}const o=c2({callback(c){if(e)for(const d of c){const{type:u,target:h}=d;if(u==="childList"&&h instanceof HTMLElement&&h.contains(e)){a();break}}}}),i=ri({callback:a});return It(()=>{a(),e?(i==null||i.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(i==null||i.disconnect(),o==null||o.disconnect())},[e]),n}function u2(e){const t=pu(e);return Tp(e,t)}const ph=[];function f2(e){const t=m.useRef(e),r=ea(n=>e?n&&n!==ph&&e&&t.current&&e.parentNode===t.current.parentNode?n:uu(e):ph,[e]);return m.useEffect(()=>{t.current=e},[e]),r}function h2(e){const[t,r]=m.useState(null),n=m.useRef(e),l=m.useCallback(a=>{const o=Fi(a.target);o&&r(i=>i?(i.set(o,td(o)),new Map(i)):null)},[]);return m.useEffect(()=>{const a=n.current;if(e!==a){o(a);const i=e.map(c=>{const d=Fi(c);return d?(d.addEventListener("scroll",l,{passive:!0}),[d,td(d)]):null}).filter(c=>c!=null);r(i.length?new Map(i):null),n.current=e}return()=>{o(e),o(a)};function o(i){i.forEach(c=>{const d=Fi(c);d==null||d.removeEventListener("scroll",l)})}},[l,e]),m.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,o)=>fs(a,o),zt):zp(e):zt,[e,t])}function xh(e,t){t===void 0&&(t=[]);const r=m.useRef(null);return m.useEffect(()=>{r.current=null},t),m.useEffect(()=>{const n=e!==zt;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?ko(e,r.current):zt}function m2(e){m.useEffect(()=>{if(!Zo)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function p2(e,t){return m.useMemo(()=>e.reduce((r,n)=>{let{eventName:l,handler:a}=n;return r[l]=o=>{a(o,t)},r},{}),[e,t])}function Wp(e){return m.useMemo(()=>e?B1(e):null,[e])}const gh=[];function x2(e,t){t===void 0&&(t=Is);const[r]=e,n=Wp(r?nt(r):null),[l,a]=m.useState(gh);function o(){a(()=>e.length?e.map(c=>Ap(c)?n:new fu(t(c),c)):gh)}const i=ri({callback:o});return It(()=>{i==null||i.disconnect(),o(),e.forEach(c=>i==null?void 0:i.observe(c))},[e]),l}function Hp(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Jl(t)?t:e}function g2(e){let{measure:t}=e;const[r,n]=m.useState(null),l=m.useCallback(d=>{for(const{target:u}of d)if(Jl(u)){n(h=>{const f=t(u);return h?{...h,width:f.width,height:f.height}:f});break}},[t]),a=ri({callback:l}),o=m.useCallback(d=>{const u=Hp(d);a==null||a.disconnect(),u&&(a==null||a.observe(u)),n(u?t(u):null)},[t,a]),[i,c]=jo(o);return m.useMemo(()=>({nodeRef:i,rect:r,setRef:c}),[r,i,c])}const v2=[{sensor:ti,options:{}},{sensor:Vp,options:{}}],y2={current:{}},Wa={draggable:{measure:ch},droppable:{measure:ch,strategy:Il.WhileDragging,frequency:nd.Optimized},dragOverlay:{measure:Is}};class gl extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const b2={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new gl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Co},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Wa,measureDroppableContainers:Co,windowRect:null,measuringScheduled:!1},Qp={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Co,draggableNodes:new Map,over:null,measureDroppableContainers:Co},ra=m.createContext(Qp),Kp=m.createContext(b2);function w2(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new gl}}}function j2(e,t){switch(t.type){case Me.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Me.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Me.DragEnd:case Me.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Me.RegisterDroppable:{const{element:r}=t,{id:n}=r,l=new gl(e.droppable.containers);return l.set(n,r),{...e,droppable:{...e.droppable,containers:l}}}case Me.SetDroppableDisabled:{const{id:r,key:n,disabled:l}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const o=new gl(e.droppable.containers);return o.set(r,{...a,disabled:l}),{...e,droppable:{...e.droppable,containers:o}}}case Me.UnregisterDroppable:{const{id:r,key:n}=t,l=e.droppable.containers.get(r);if(!l||n!==l.key)return e;const a=new gl(e.droppable.containers);return a.delete(r),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function N2(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:l}=m.useContext(ra),a=No(n),o=No(r==null?void 0:r.id);return m.useEffect(()=>{if(!t&&!n&&a&&o!=null){if(!ei(a)||document.activeElement===a.target)return;const i=l.get(o);if(!i)return;const{activatorNode:c,node:d}=i;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const u of[c.current,d.current]){if(!u)continue;const h=y1(u);if(h){h.focus();break}}})}},[n,t,l,o,a]),null}function qp(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((l,a)=>a({transform:l,...n}),r):r}function k2(e){return m.useMemo(()=>({draggable:{...Wa.draggable,...e==null?void 0:e.draggable},droppable:{...Wa.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Wa.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function _2(e){let{activeNode:t,measure:r,initialRect:n,config:l=!0}=e;const a=m.useRef(!1),{x:o,y:i}=typeof l=="boolean"?{x:l,y:l}:l;It(()=>{if(!o&&!i||!t){a.current=!1;return}if(a.current||!n)return;const d=t==null?void 0:t.node.current;if(!d||d.isConnected===!1)return;const u=r(d),h=Tp(u,n);if(o||(h.x=0),i||(h.y=0),a.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const f=Lp(d);f&&f.scrollBy({top:h.y,left:h.x})}},[t,o,i,n,r])}const ni=m.createContext({...zt,scaleX:1,scaleY:1});var Or;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Or||(Or={}));const Gp=m.memo(function(t){var r,n,l,a;let{id:o,accessibility:i,autoScroll:c=!0,children:d,sensors:u=v2,collisionDetection:h=L1,measuring:f,modifiers:p,...y}=t;const j=m.useReducer(j2,void 0,w2),[w,g]=j,[x,v]=_1(),[b,R]=m.useState(Or.Uninitialized),T=b===Or.Initialized,{draggable:{active:O,nodes:_,translate:S},droppable:{containers:C}}=w,$=O!=null?_.get(O):null,B=m.useRef({initial:null,translated:null}),U=m.useMemo(()=>{var We;return O!=null?{id:O,data:(We=$==null?void 0:$.data)!=null?We:y2,rect:B}:null},[O,$]),z=m.useRef(null),[Z,fe]=m.useState(null),[M,L]=m.useState(null),A=Al(y,Object.values(y)),V=ta("DndDescribedBy",o),X=m.useMemo(()=>C.getEnabled(),[C]),Y=k2(f),{droppableRects:de,measureDroppableContainers:he,measuringScheduled:Te}=o2(X,{dragging:T,dependencies:[S.x,S.y],config:Y.droppable}),E=l2(_,O),k=m.useMemo(()=>M?_o(M):null,[M]),P=hx(),I=i2(E,Y.draggable.measure);_2({activeNode:O!=null?_.get(O):null,config:P.layoutShiftCompensation,initialRect:I,measure:Y.draggable.measure});const D=mh(E,Y.draggable.measure,I),H=mh(E?E.parentElement:null),K=m.useRef({activatorEvent:null,active:null,activeNode:E,collisionRect:null,collisions:null,droppableRects:de,draggableNodes:_,draggingNode:null,draggingNodeRect:null,droppableContainers:C,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),J=C.getNodeFor((r=K.current.over)==null?void 0:r.id),ne=g2({measure:Y.dragOverlay.measure}),re=(n=ne.nodeRef.current)!=null?n:E,le=T?(l=ne.rect)!=null?l:D:null,Ge=!!(ne.nodeRef.current&&ne.rect),kr=u2(Ge?null:D),Oe=Wp(re?nt(re):null),Le=f2(T?J??E:null),_e=x2(Le),Bt=qp(p,{transform:{x:S.x-kr.x,y:S.y-kr.y,scaleX:1,scaleY:1},activatorEvent:M,active:U,activeNodeRect:D,containerNodeRect:H,draggingNodeRect:le,over:K.current.over,overlayNodeRect:ne.rect,scrollableAncestors:Le,scrollableAncestorRects:_e,windowRect:Oe}),Ut=k?fs(k,S):null,tr=h2(Le),_r=xh(tr),ox=xh(tr,[D]),Vn=fs(Bt,_r),Wn=le?A1(le,Bt):null,zs=U&&Wn?h({active:U,collisionRect:Wn,droppableRects:de,droppableContainers:X,pointerCoordinates:Ut}):null,gu=T1(zs,"id"),[Cr,vu]=m.useState(null),ix=Ge?Bt:fs(Bt,ox),cx=F1(ix,(a=Cr==null?void 0:Cr.rect)!=null?a:null,D),si=m.useRef(null),yu=m.useCallback((We,ut)=>{let{sensor:ft,options:Sr}=ut;if(z.current==null)return;const bt=_.get(z.current);if(!bt)return;const ht=We.nativeEvent,Vt=new ft({active:z.current,activeNode:bt,event:ht,options:Sr,context:K,onAbort(ze){if(!_.get(ze))return;const{onDragAbort:Wt}=A.current,rr={id:ze};Wt==null||Wt(rr),x({type:"onDragAbort",event:rr})},onPending(ze,Er,Wt,rr){if(!_.get(ze))return;const{onDragPending:Us}=A.current,Rr={id:ze,constraint:Er,initialCoordinates:Wt,offset:rr};Us==null||Us(Rr),x({type:"onDragPending",event:Rr})},onStart(ze){const Er=z.current;if(Er==null)return;const Wt=_.get(Er);if(!Wt)return;const{onDragStart:rr}=A.current,Bs={activatorEvent:ht,active:{id:Er,data:Wt.data,rect:B}};ls.unstable_batchedUpdates(()=>{rr==null||rr(Bs),R(Or.Initializing),g({type:Me.DragStart,initialCoordinates:ze,active:Er}),x({type:"onDragStart",event:Bs}),fe(si.current),L(ht)})},onMove(ze){g({type:Me.DragMove,coordinates:ze})},onEnd:Hn(Me.DragEnd),onCancel:Hn(Me.DragCancel)});si.current=Vt;function Hn(ze){return async function(){const{active:Wt,collisions:rr,over:Bs,scrollAdjustedTranslate:Us}=K.current;let Rr=null;if(Wt&&Us){const{cancelDrop:Vs}=A.current;Rr={activatorEvent:ht,active:Wt,collisions:rr,delta:Us,over:Bs},ze===Me.DragEnd&&typeof Vs=="function"&&await Promise.resolve(Vs(Rr))&&(ze=Me.DragCancel)}z.current=null,ls.unstable_batchedUpdates(()=>{g({type:ze}),R(Or.Uninitialized),vu(null),fe(null),L(null),si.current=null;const Vs=ze===Me.DragEnd?"onDragEnd":"onDragCancel";if(Rr){const li=A.current[Vs];li==null||li(Rr),x({type:Vs,event:Rr})}})}}},[_]),dx=m.useCallback((We,ut)=>(ft,Sr)=>{const bt=ft.nativeEvent,ht=_.get(Sr);if(z.current!==null||!ht||bt.dndKit||bt.defaultPrevented)return;const Vt={active:ht};We(ft,ut.options,Vt)===!0&&(bt.dndKit={capturedBy:ut.sensor},z.current=Sr,yu(ft,ut))},[_,yu]),bu=a2(u,dx);m2(u),It(()=>{D&&b===Or.Initializing&&R(Or.Initialized)},[D,b]),m.useEffect(()=>{const{onDragMove:We}=A.current,{active:ut,activatorEvent:ft,collisions:Sr,over:bt}=K.current;if(!ut||!ft)return;const ht={active:ut,activatorEvent:ft,collisions:Sr,delta:{x:Vn.x,y:Vn.y},over:bt};ls.unstable_batchedUpdates(()=>{We==null||We(ht),x({type:"onDragMove",event:ht})})},[Vn.x,Vn.y]),m.useEffect(()=>{const{active:We,activatorEvent:ut,collisions:ft,droppableContainers:Sr,scrollAdjustedTranslate:bt}=K.current;if(!We||z.current==null||!ut||!bt)return;const{onDragOver:ht}=A.current,Vt=Sr.get(gu),Hn=Vt&&Vt.rect.current?{id:Vt.id,rect:Vt.rect.current,data:Vt.data,disabled:Vt.disabled}:null,ze={active:We,activatorEvent:ut,collisions:ft,delta:{x:bt.x,y:bt.y},over:Hn};ls.unstable_batchedUpdates(()=>{vu(Hn),ht==null||ht(ze),x({type:"onDragOver",event:ze})})},[gu]),It(()=>{K.current={activatorEvent:M,active:U,activeNode:E,collisionRect:Wn,collisions:zs,droppableRects:de,draggableNodes:_,draggingNode:re,draggingNodeRect:le,droppableContainers:C,over:Cr,scrollableAncestors:Le,scrollAdjustedTranslate:Vn},B.current={initial:le,translated:Wn}},[U,E,zs,Wn,_,re,le,de,C,Cr,Le,Vn]),r2({...P,delta:S,draggingRect:Wn,pointerCoordinates:Ut,scrollableAncestors:Le,scrollableAncestorRects:_e});const ux=m.useMemo(()=>({active:U,activeNode:E,activeNodeRect:D,activatorEvent:M,collisions:zs,containerNodeRect:H,dragOverlay:ne,draggableNodes:_,droppableContainers:C,droppableRects:de,over:Cr,measureDroppableContainers:he,scrollableAncestors:Le,scrollableAncestorRects:_e,measuringConfiguration:Y,measuringScheduled:Te,windowRect:Oe}),[U,E,D,M,zs,H,ne,_,C,de,Cr,he,Le,_e,Y,Te,Oe]),fx=m.useMemo(()=>({activatorEvent:M,activators:bu,active:U,activeNodeRect:D,ariaDescribedById:{draggable:V},dispatch:g,draggableNodes:_,over:Cr,measureDroppableContainers:he}),[M,bu,U,D,g,V,_,Cr,he]);return xe.createElement(Mp.Provider,{value:v},xe.createElement(ra.Provider,{value:fx},xe.createElement(Kp.Provider,{value:ux},xe.createElement(ni.Provider,{value:cx},d)),xe.createElement(N2,{disabled:(i==null?void 0:i.restoreFocus)===!1})),xe.createElement(E1,{...i,hiddenTextDescribedById:V}));function hx(){const We=(Z==null?void 0:Z.autoScrollEnabled)===!1,ut=typeof c=="object"?c.enabled===!1:c===!1,ft=T&&!We&&!ut;return typeof c=="object"?{...c,enabled:ft}:{enabled:ft}}}),C2=m.createContext(null),vh="button",S2="Draggable";function Yp(e){let{id:t,data:r,disabled:n=!1,attributes:l}=e;const a=ta(S2),{activators:o,activatorEvent:i,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:h,over:f}=m.useContext(ra),{role:p=vh,roleDescription:y="draggable",tabIndex:j=0}=l??{},w=(c==null?void 0:c.id)===t,g=m.useContext(w?ni:C2),[x,v]=jo(),[b,R]=jo(),T=p2(o,t),O=Al(r);It(()=>(h.set(t,{id:t,key:a,node:x,activatorNode:b,data:O}),()=>{const S=h.get(t);S&&S.key===a&&h.delete(t)}),[h,t]);const _=m.useMemo(()=>({role:p,tabIndex:j,"aria-disabled":n,"aria-pressed":w&&p===vh?!0:void 0,"aria-roledescription":y,"aria-describedby":u.draggable}),[n,p,j,w,y,u.draggable]);return{active:c,activatorEvent:i,activeNodeRect:d,attributes:_,isDragging:w,listeners:n?void 0:T,node:x,over:f,setNodeRef:v,setActivatorNodeRef:R,transform:g}}function Xp(){return m.useContext(Kp)}const E2="Droppable",R2={timeout:25};function na(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:l}=e;const a=ta(E2),{active:o,dispatch:i,over:c,measureDroppableContainers:d}=m.useContext(ra),u=m.useRef({disabled:r}),h=m.useRef(!1),f=m.useRef(null),p=m.useRef(null),{disabled:y,updateMeasurementsFor:j,timeout:w}={...R2,...l},g=Al(j??n),x=m.useCallback(()=>{if(!h.current){h.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{d(Array.isArray(g.current)?g.current:[g.current]),p.current=null},w)},[w]),v=ri({callback:x,disabled:y||!o}),b=m.useCallback((_,S)=>{v&&(S&&(v.unobserve(S),h.current=!1),_&&v.observe(_))},[v]),[R,T]=jo(b),O=Al(t);return m.useEffect(()=>{!v||!R.current||(v.disconnect(),h.current=!1,v.observe(R.current))},[R,v]),m.useEffect(()=>(i({type:Me.RegisterDroppable,element:{id:n,key:a,disabled:r,node:R,rect:f,data:O}}),()=>i({type:Me.UnregisterDroppable,key:a,id:n})),[n]),m.useEffect(()=>{r!==u.current.disabled&&(i({type:Me.SetDroppableDisabled,id:n,key:a,disabled:r}),u.current.disabled=r)},[n,a,r,i]),{active:o,rect:f,isOver:(c==null?void 0:c.id)===n,node:R,over:c,setNodeRef:T}}function M2(e){let{animation:t,children:r}=e;const[n,l]=m.useState(null),[a,o]=m.useState(null),i=No(r);return!r&&!n&&i&&l(i),It(()=>{if(!a)return;const c=n==null?void 0:n.key,d=n==null?void 0:n.props.id;if(c==null||d==null){l(null);return}Promise.resolve(t(d,a)).then(()=>{l(null)})},[t,n,a]),xe.createElement(xe.Fragment,null,r,n?m.cloneElement(n,{ref:o}):null)}const D2={x:0,y:0,scaleX:1,scaleY:1};function P2(e){let{children:t}=e;return xe.createElement(ra.Provider,{value:Qp},xe.createElement(ni.Provider,{value:D2},t))}const T2={position:"fixed",touchAction:"none"},O2=e=>ei(e)?"transform 250ms ease":void 0,L2=m.forwardRef((e,t)=>{let{as:r,activatorEvent:n,adjustScale:l,children:a,className:o,rect:i,style:c,transform:d,transition:u=O2}=e;if(!i)return null;const h=l?d:{...d,scaleX:1,scaleY:1},f={...T2,width:i.width,height:i.height,top:i.top,left:i.left,transform:jr.Transform.toString(h),transformOrigin:l&&n?M1(n,i):void 0,transition:typeof u=="function"?u(n):u,...c};return xe.createElement(r,{className:o,style:f,ref:t},a)}),F2=e=>t=>{let{active:r,dragOverlay:n}=t;const l={},{styles:a,className:o}=e;if(a!=null&&a.active)for(const[i,c]of Object.entries(a.active))c!==void 0&&(l[i]=r.node.style.getPropertyValue(i),r.node.style.setProperty(i,c));if(a!=null&&a.dragOverlay)for(const[i,c]of Object.entries(a.dragOverlay))c!==void 0&&n.node.style.setProperty(i,c);return o!=null&&o.active&&r.node.classList.add(o.active),o!=null&&o.dragOverlay&&n.node.classList.add(o.dragOverlay),function(){for(const[c,d]of Object.entries(l))r.node.style.setProperty(c,d);o!=null&&o.active&&r.node.classList.remove(o.active)}},$2=e=>{let{transform:{initial:t,final:r}}=e;return[{transform:jr.Transform.toString(t)},{transform:jr.Transform.toString(r)}]},A2={duration:250,easing:"ease",keyframes:$2,sideEffects:F2({styles:{active:{opacity:"0"}}})};function I2(e){let{config:t,draggableNodes:r,droppableContainers:n,measuringConfiguration:l}=e;return Jo((a,o)=>{if(t===null)return;const i=r.get(a);if(!i)return;const c=i.node.current;if(!c)return;const d=Hp(o);if(!d)return;const{transform:u}=nt(o).getComputedStyle(o),h=Op(u);if(!h)return;const f=typeof t=="function"?t:z2(t);return Bp(c,l.draggable.measure),f({active:{id:a,data:i.data,node:c,rect:l.draggable.measure(c)},draggableNodes:r,dragOverlay:{node:o,rect:l.dragOverlay.measure(d)},droppableContainers:n,measuringConfiguration:l,transform:h})})}function z2(e){const{duration:t,easing:r,sideEffects:n,keyframes:l}={...A2,...e};return a=>{let{active:o,dragOverlay:i,transform:c,...d}=a;if(!t)return;const u={x:i.rect.left-o.rect.left,y:i.rect.top-o.rect.top},h={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/i.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/i.rect.height:1},f={x:c.x-u.x,y:c.y-u.y,...h},p=l({...d,active:o,dragOverlay:i,transform:{initial:c,final:f}}),[y]=p,j=p[p.length-1];if(JSON.stringify(y)===JSON.stringify(j))return;const w=n==null?void 0:n({active:o,dragOverlay:i,...d}),g=i.node.animate(p,{duration:t,easing:r,fill:"forwards"});return new Promise(x=>{g.onfinish=()=>{w==null||w(),x()}})}}let yh=0;function B2(e){return m.useMemo(()=>{if(e!=null)return yh++,yh},[e])}const Zp=xe.memo(e=>{let{adjustScale:t=!1,children:r,dropAnimation:n,style:l,transition:a,modifiers:o,wrapperElement:i="div",className:c,zIndex:d=999}=e;const{activatorEvent:u,active:h,activeNodeRect:f,containerNodeRect:p,draggableNodes:y,droppableContainers:j,dragOverlay:w,over:g,measuringConfiguration:x,scrollableAncestors:v,scrollableAncestorRects:b,windowRect:R}=Xp(),T=m.useContext(ni),O=B2(h==null?void 0:h.id),_=qp(o,{activatorEvent:u,active:h,activeNodeRect:f,containerNodeRect:p,draggingNodeRect:w.rect,over:g,overlayNodeRect:w.rect,scrollableAncestors:v,scrollableAncestorRects:b,transform:T,windowRect:R}),S=pu(f),C=I2({config:n,draggableNodes:y,droppableContainers:j,measuringConfiguration:x}),$=S?w.setRef:void 0;return xe.createElement(P2,null,xe.createElement(M2,{animation:C},h&&O?xe.createElement(L2,{key:O,id:h.id,ref:$,as:i,activatorEvent:u,adjustScale:t,className:c,transition:a,rect:S,style:{zIndex:d,...l},transform:_},r):null))});function Jp(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function U2(e,t){return e.reduce((r,n,l)=>{const a=t.get(n);return a&&(r[l]=a),r},Array(e.length))}function Ca(e){return e!==null&&e>=0}function V2(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function W2(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const ex=e=>{let{rects:t,activeIndex:r,overIndex:n,index:l}=e;const a=Jp(t,n,r),o=t[l],i=a[l];return!i||!o?null:{x:i.left-o.left,y:i.top-o.top,scaleX:i.width/o.width,scaleY:i.height/o.height}},Sa={scaleX:1,scaleY:1},H2=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:l,rects:a,overIndex:o}=e;const i=(t=a[r])!=null?t:n;if(!i)return null;if(l===r){const d=a[o];return d?{x:0,y:r<o?d.top+d.height-(i.top+i.height):d.top-i.top,...Sa}:null}const c=Q2(a,l,r);return l>r&&l<=o?{x:0,y:-i.height-c,...Sa}:l<r&&l>=o?{x:0,y:i.height+c,...Sa}:{x:0,y:0,...Sa}};function Q2(e,t,r){const n=e[t],l=e[t-1],a=e[t+1];return n?r<t?l?n.top-(l.top+l.height):a?a.top-(n.top+n.height):0:a?a.top-(n.top+n.height):l?n.top-(l.top+l.height):0:0}const tx="Sortable",rx=xe.createContext({activeIndex:-1,containerId:tx,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ex,disabled:{draggable:!1,droppable:!1}});function K2(e){let{children:t,id:r,items:n,strategy:l=ex,disabled:a=!1}=e;const{active:o,dragOverlay:i,droppableRects:c,over:d,measureDroppableContainers:u}=Xp(),h=ta(tx,r),f=i.rect!==null,p=m.useMemo(()=>n.map(T=>typeof T=="object"&&"id"in T?T.id:T),[n]),y=o!=null,j=o?p.indexOf(o.id):-1,w=d?p.indexOf(d.id):-1,g=m.useRef(p),x=!V2(p,g.current),v=w!==-1&&j===-1||x,b=W2(a);It(()=>{x&&y&&u(p)},[x,p,y,u]),m.useEffect(()=>{g.current=p},[p]);const R=m.useMemo(()=>({activeIndex:j,containerId:h,disabled:b,disableTransforms:v,items:p,overIndex:w,useDragOverlay:f,sortedRects:U2(p,c),strategy:l}),[j,h,b.draggable,b.droppable,v,p,w,c,f,l]);return xe.createElement(rx.Provider,{value:R},t)}const q2=e=>{let{id:t,items:r,activeIndex:n,overIndex:l}=e;return Jp(r,n,l).indexOf(t)},G2=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:l,items:a,newIndex:o,previousItems:i,previousContainerId:c,transition:d}=e;return!d||!n||i!==a&&l===o?!1:r?!0:o!==l&&t===c},Y2={duration:200,easing:"ease"},nx="transform",X2=jr.Transition.toString({property:nx,duration:0,easing:"linear"}),Z2={roleDescription:"sortable"};function J2(e){let{disabled:t,index:r,node:n,rect:l}=e;const[a,o]=m.useState(null),i=m.useRef(r);return It(()=>{if(!t&&r!==i.current&&n.current){const c=l.current;if(c){const d=Is(n.current,{ignoreTransform:!0}),u={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(u.x||u.y)&&o(u)}}r!==i.current&&(i.current=r)},[t,r,n,l]),m.useEffect(()=>{a&&o(null)},[a]),a}function sx(e){let{animateLayoutChanges:t=G2,attributes:r,disabled:n,data:l,getNewIndex:a=q2,id:o,strategy:i,resizeObserverConfig:c,transition:d=Y2}=e;const{items:u,containerId:h,activeIndex:f,disabled:p,disableTransforms:y,sortedRects:j,overIndex:w,useDragOverlay:g,strategy:x}=m.useContext(rx),v=ej(n,p),b=u.indexOf(o),R=m.useMemo(()=>({sortable:{containerId:h,index:b,items:u},...l}),[h,l,b,u]),T=m.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:O,node:_,isOver:S,setNodeRef:C}=na({id:o,data:R,disabled:v.droppable,resizeObserverConfig:{updateMeasurementsFor:T,...c}}),{active:$,activatorEvent:B,activeNodeRect:U,attributes:z,setNodeRef:Z,listeners:fe,isDragging:M,over:L,setActivatorNodeRef:A,transform:V}=Yp({id:o,data:R,attributes:{...Z2,...r},disabled:v.draggable}),X=p1(C,Z),Y=!!$,de=Y&&!y&&Ca(f)&&Ca(w),he=!g&&M,Te=he&&de?V:null,k=de?Te??(i??x)({rects:j,activeNodeRect:U,activeIndex:f,overIndex:w,index:b}):null,P=Ca(f)&&Ca(w)?a({id:o,items:u,activeIndex:f,overIndex:w}):b,I=$==null?void 0:$.id,D=m.useRef({activeId:I,items:u,newIndex:P,containerId:h}),H=u!==D.current.items,K=t({active:$,containerId:h,isDragging:M,isSorting:Y,id:o,index:b,items:u,newIndex:D.current.newIndex,previousItems:D.current.items,previousContainerId:D.current.containerId,transition:d,wasDragging:D.current.activeId!=null}),J=J2({disabled:!K,index:b,node:_,rect:O});return m.useEffect(()=>{Y&&D.current.newIndex!==P&&(D.current.newIndex=P),h!==D.current.containerId&&(D.current.containerId=h),u!==D.current.items&&(D.current.items=u)},[Y,P,h,u]),m.useEffect(()=>{if(I===D.current.activeId)return;if(I!=null&&D.current.activeId==null){D.current.activeId=I;return}const re=setTimeout(()=>{D.current.activeId=I},50);return()=>clearTimeout(re)},[I]),{active:$,activeIndex:f,attributes:z,data:R,rect:O,index:b,newIndex:P,items:u,isOver:S,isSorting:Y,isDragging:M,listeners:fe,node:_,overIndex:w,over:L,setNodeRef:X,setActivatorNodeRef:A,setDroppableNodeRef:C,setDraggableNodeRef:Z,transform:J??k,transition:ne()};function ne(){if(J||H&&D.current.newIndex===b)return X2;if(!(he&&!ei(B)||!d)&&(Y||K))return jr.Transition.toString({...d,property:nx})}}function ej(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}oe.Down,oe.Right,oe.Up,oe.Left;const lx=[{rank:1,name:"Diamond",min:2200,color:"#22D3EE"},{rank:2,name:"Ruby",min:1900,max:2200,color:"#EF4444"},{rank:3,name:"Emerald",min:1650,max:1900,color:"#10B981"},{rank:4,name:"Sapphire",min:1450,max:1650,color:"#3B82F6"},{rank:5,name:"Amethyst",min:1300,max:1450,color:"#A855F7"},{rank:6,name:"Platinum",min:1150,max:1300,color:"#94A3B8"},{rank:7,name:"Gold",min:1e3,max:1150,color:"#EAB308"},{rank:8,name:"Silver",min:850,max:1e3,color:"#71717A"},{rank:9,name:"Bronze",min:650,max:850,color:"#F97316"},{rank:10,name:"Copper",min:0,max:650,color:"#DC2626"}],tj={"A+":"#FF0000",A:"#FF0000",B:"#4CAF50",C:"#0000FF",D:"#FF1493",E:"#808080"},Ha=e=>e?lx.find(t=>e>=t.min&&(!t.max||e<t.max)):null;function rj({riders:e,isOpen:t,selectedTeam:r,onClearTeamFilter:n,onAddRider:l}){var j;const[a,o]=m.useState(""),[i,c]=m.useState(""),d=(w,g)=>{if(!g)return!0;const x=w.zwiftracing_category||w.zwift_official_category,v=w.velo_live,b=Ha(v);if(g.competition_type==="velo"||g.competition_type==="velo-based"){if(!b)return!1;const R=g.velo_min_rank||1,T=g.velo_max_rank||10;return b.rank>=R&&b.rank<=T}return g.competition_type==="category"||g.competition_type==="category-based"?x?(g.allowed_categories||[]).includes(x):!1:!0},[u,h]=m.useState(""),[f,p]=m.useState(!1),y=m.useMemo(()=>e.filter(w=>{var g;if(a&&!w.full_name.toLowerCase().includes(a.toLowerCase())||i&&(w.zwiftracing_category||w.zwift_official_category)!==i)return!1;if(u){const x=Ha(w.velo_live);if(!x||x.name!==u)return!1}if(f&&w.teams&&w.teams.length>0)return!1;if(r){const x=w.zwiftracing_category||w.zwift_official_category,v=(g=Ha(w.velo_live))==null?void 0:g.rank;if(r.competition_type==="velo"||r.competition_type==="velo-based"){if(r.velo_min_rank&&v&&v<r.velo_min_rank||r.velo_max_rank&&v&&v>r.velo_max_rank)return!1}else if((r.competition_type==="category"||r.competition_type==="category-based")&&r.allowed_categories&&x&&!r.allowed_categories.includes(x))return!1}return!0}),[e,a,i,u,f,r]);return t?s.jsxs("aside",{className:`
      ${t?"translate-x-0":"-translate-x-full"}
      md:translate-x-0
      fixed md:sticky 
      left-0 top-0 md:top-[73px]
      w-full sm:w-80 lg:w-96
      h-screen md:h-[calc(100vh-73px)]
      border-r border-slate-700/50 
      bg-slate-800/95
      backdrop-blur-xl
      z-40
      transition-transform duration-300
      flex flex-col
      shadow-2xl shadow-black/50
    `,children:[s.jsx("div",{className:"sticky top-0 z-20 bg-slate-800/95 backdrop-blur-sm border-b border-slate-700/50",children:s.jsxs("div",{className:"p-2 space-y-1.5",children:[r&&s.jsxs("div",{className:"bg-orange-500/20 border border-orange-500/50 rounded-lg p-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs font-bold text-orange-400",children:" FILTERING OP TEAM"}),s.jsx("button",{onClick:n,className:"text-orange-400 hover:text-orange-300 text-xs font-semibold",children:" Wis filter"})]}),s.jsx("div",{className:"text-sm font-semibold text-white",children:r.team_name}),s.jsx("div",{className:"text-xs text-orange-200 mt-1",children:r.competition_type==="velo"||r.competition_type==="velo-based"?`vELO Tier ${r.velo_min_rank}-${r.velo_max_rank}`:`Categorien: ${(j=r.allowed_categories)==null?void 0:j.join(", ")}`})]}),s.jsx("div",{children:s.jsx("input",{type:"text",placeholder:" Zoek rider...",value:a,onChange:w=>o(w.target.value),className:"w-full px-3 py-1.5 text-sm bg-slate-900/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500"})}),s.jsxs("div",{className:"flex gap-1.5",children:[s.jsxs("select",{value:i,onChange:w=>c(w.target.value),className:"flex-1 px-2 py-1 text-xs bg-slate-900/50 border border-slate-600 rounded text-white focus:outline-none focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Cat"}),s.jsx("option",{value:"A+",children:"A+"}),s.jsx("option",{value:"A",children:"A"}),s.jsx("option",{value:"B",children:"B"}),s.jsx("option",{value:"C",children:"C"}),s.jsx("option",{value:"D",children:"D"})]}),s.jsxs("select",{value:u,onChange:w=>h(w.target.value),className:"flex-1 px-2 py-1 text-xs bg-slate-900/50 border border-slate-600 rounded text-white focus:outline-none focus:border-blue-500",children:[s.jsx("option",{value:"",children:"vELO"}),lx.map(w=>s.jsx("option",{value:w.name,children:w.rank},w.rank))]}),s.jsxs("label",{className:"flex items-center gap-1 text-xs text-white cursor-pointer whitespace-nowrap",children:[s.jsx("input",{type:"checkbox",checked:f,onChange:w=>p(w.target.checked),className:"w-3 h-3 rounded border-slate-600 bg-slate-900/50 text-blue-600 focus:ring-0"}),s.jsx("span",{className:"text-[10px]",children:"Verberg toegewezen"})]})]}),s.jsxs("div",{className:"text-[10px] text-slate-400",children:[y.length," riders"]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:s.jsx("div",{className:"space-y-1.5",children:y.map(w=>{const g=d(w,r),x=!r||!g;return s.jsx(nj,{rider:w,onAdd:l?()=>{if(console.log(" Add button clicked:",w.full_name,"Team:",r==null?void 0:r.team_name),!r){q.error("Selecteer eerst een team");return}if(!g){q.error("Rider voldoet niet aan team criteria");return}l(w.rider_id)}:void 0,showAddButton:!0,isDisabled:x},w.rider_id)})})})]}):null}function nj({rider:e,onAdd:t,showAddButton:r,isDisabled:n}){const l=Ha(e.velo_live),a=e.zwiftracing_category||e.zwift_official_category,o=a&&tj[a]||"#666666",i=e.racing_ftp&&e.weight_kg?(e.racing_ftp/e.weight_kg).toFixed(2):"-",{attributes:c,listeners:d,setNodeRef:u,transform:h,isDragging:f}=Yp({id:e.rider_id,disabled:!1,data:{rider:e,type:"rider"}}),p={transform:h?`translate3d(${h.x}px, ${h.y}px, 0)`:void 0,opacity:f?.85:1,transition:f?"none":"all 0.2s ease-out",cursor:"grab",willChange:f?"transform":"auto",touchAction:"none"},y=e.teams&&e.teams.length>0;return s.jsx("div",{ref:u,style:p,className:`
        p-2 rounded-lg border transition-all relative
        bg-slate-900/50 border-slate-600 hover:border-blue-500 hover:shadow-lg hover:shadow-blue-500/20 cursor-grab active:cursor-grabbing
        ${f?"ring-4 ring-blue-500 shadow-2xl z-50":""}
        ${y?"border-l-4 border-l-green-500":""}
      `,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",...c,...d,children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-slate-800 flex-shrink-0",children:e.avatar_url?s.jsx("img",{src:e.avatar_url,alt:e.full_name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-xl",children:""})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-bold text-white truncate",children:e.full_name}),s.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[a&&s.jsx("span",{className:"text-[10px] px-1.5 py-0.5 text-white rounded font-bold",style:{backgroundColor:o},children:a}),l&&s.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded font-bold text-white",style:{backgroundColor:l.color},title:`${l.name} Tier`,children:l.rank})]}),s.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5 text-[10px] text-slate-400",children:[s.jsxs("span",{children:["FTP: ",e.racing_ftp||"-","W"]}),s.jsx("span",{children:""}),s.jsxs("span",{children:[i," W/kg"]})]}),y&&s.jsx("div",{className:"mt-1.5 flex flex-wrap gap-1",children:e.teams.map((j,w)=>s.jsx("span",{className:"text-[9px] px-1.5 py-0.5 bg-green-600/20 text-green-400 rounded border border-green-600/30",title:j.team_name,children:j.team_name.length>15?j.team_name.substring(0,15)+"...":j.team_name},`${j.team_id}-${w}`))})]}),s.jsx("div",{className:"text-slate-500 text-xl",children:""})]}),r&&s.jsxs("button",{onClick:j=>{j.stopPropagation(),j.preventDefault(),!n&&t&&t()},disabled:n,className:`flex-shrink-0 px-2 py-1.5 rounded text-xs font-semibold shadow-sm transition-all whitespace-nowrap ${n?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white hover:shadow-md cursor-pointer"}`,title:n?"Selecteer eerst een team":"Voeg rider toe aan team",children:[s.jsx("span",{className:"hidden sm:inline",children:"+ Add"}),s.jsx("span",{className:"sm:hidden",children:"+"})]})]})})}const sj={incomplete:"border-yellow-500 bg-yellow-500/10",ready:"border-green-500 bg-green-500/10",warning:"border-orange-500 bg-orange-500/10",overfilled:"border-red-500 bg-red-500/10"},lj={incomplete:"",ready:"",warning:"",overfilled:""};function aj({team:e,onDelete:t,onEdit:r,onSelectForFiltering:n,isSelectedForFiltering:l=!1,isDragging:a,isExpanded:o=!1,onToggleExpand:i,onOpenDetail:c,refetchTeams:d}){const u=e.current_riders<e.max_riders,{setNodeRef:h,isOver:f}=na({id:`team-${e.team_id}`,disabled:!u,data:{teamId:e.team_id,type:"team-card"}}),p=f&&a;return s.jsxs("div",{ref:h,"data-team-id":e.team_id,className:`
        relative bg-slate-800/50 backdrop-blur-sm rounded-xl border-2 
        transition-all duration-300 overflow-hidden
        ${p&&u?"border-green-400 shadow-lg shadow-green-500/50 scale-105":sj[e.team_status]}
        ${p&&!u?"border-red-400 shadow-lg shadow-red-500/50":""}
        ${a&&u?"hover:border-blue-400 hover:shadow-lg hover:shadow-blue-500/30":""}
        ${l?"ring-4 ring-orange-500 border-orange-500":""}
        ${o?"ring-4 ring-orange-400 border-orange-400":""}
      `,children:[s.jsxs("div",{className:"p-4 bg-slate-900/50 transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0 cursor-pointer active:bg-slate-900/80 -mx-2 px-2 py-1 rounded touch-manipulation",onClick:y=>{y.stopPropagation(),i&&i(e.team_id),n&&n(e.team_id)},title:i?"Tik om team lineup uit te vouwen":"Tik om riders te filteren",children:[i&&s.jsx("svg",{className:`w-5 h-5 text-orange-400 transition-transform duration-300 flex-shrink-0 ${o?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2.5",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),s.jsx("h3",{className:"text-base sm:text-lg font-bold text-white truncate flex-1",children:e.team_name})]}),s.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[s.jsx("span",{className:"text-xl",children:lj[e.team_status]}),r?s.jsx("button",{onClick:y=>{y.stopPropagation(),console.log(" Edit button clicked!",e.team_id),r()},className:"p-1.5 rounded bg-yellow-500/20 hover:bg-yellow-500/30 border border-yellow-500/50 hover:border-yellow-500 text-yellow-400 hover:text-yellow-300 transition-all hover:scale-110",title:"Bewerk team",children:s.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}):null,c&&s.jsx("button",{onClick:y=>{y.stopPropagation(),console.log(" Clipboard button clicked for team:",e.team_id),c(e.team_id)},className:"p-1.5 rounded bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/50 hover:border-blue-500 text-blue-400 hover:text-blue-300 transition-all hover:scale-110",title:"Open in sidebar",children:s.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),t&&s.jsx("button",{onClick:y=>{y.stopPropagation(),t()},className:"p-1 rounded bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 hover:border-red-500 text-red-400 hover:text-red-300 transition-all",title:"Team verwijderen",children:s.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("p",{className:"text-xs text-slate-400 truncate flex-1",children:e.competition_name}),s.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[l&&s.jsx("span",{className:"text-[10px] font-bold px-1.5 py-0.5 bg-orange-500 text-white rounded-full animate-pulse",children:"FILTER"}),e.competition_type==="velo"?s.jsxs("span",{className:"text-[10px] font-semibold px-1.5 py-0.5 bg-blue-600/30 text-blue-300 rounded whitespace-nowrap",children:["vELO ",e.velo_min_rank,"-",e.velo_max_rank]}):e.allowed_categories&&s.jsx("span",{className:"text-[10px] font-semibold px-1.5 py-0.5 bg-orange-600/30 text-orange-300 rounded whitespace-nowrap",children:e.allowed_categories.join(",")}),s.jsxs("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded whitespace-nowrap ${e.current_riders>=e.min_riders?"bg-green-600/30 text-green-300":"bg-yellow-600/30 text-yellow-300"}`,children:[e.current_riders,"/",e.max_riders]})]})]})]}),p&&s.jsx("div",{className:`absolute inset-0 flex items-center justify-center pointer-events-none rounded-xl ${u?"bg-green-500/30 backdrop-blur-sm":"bg-red-500/30 backdrop-blur-sm"}`,children:s.jsx("div",{className:`px-4 py-2 rounded-lg bg-slate-900/90 border-2 border-dashed \${
            canAddMore ? 'border-green-400' : 'border-red-400'
          }`,children:s.jsx("p",{className:`text-lg font-bold ${u?"text-green-300":"text-red-300"}`,children:u?" Drop":" Vol"})})})]})}const ax={"A+":"bg-red-600 text-white border-red-700",A:"bg-red-500 text-white border-red-600",B:"bg-green-600 text-white border-green-700",C:"bg-blue-600 text-white border-blue-700",D:"bg-yellow-500 text-gray-900 border-yellow-600"},oj=[{rank:1,name:"Diamond",icon:"",min:2200,color:"from-cyan-400 to-blue-500",textColor:"text-cyan-100",bgColor:"bg-gradient-to-r from-cyan-500/20 to-blue-500/20"},{rank:2,name:"Ruby",icon:"",min:1900,max:2200,color:"from-red-500 to-pink-600",textColor:"text-red-100",bgColor:"bg-gradient-to-r from-red-500/20 to-pink-600/20"},{rank:3,name:"Emerald",icon:"",min:1650,max:1900,color:"from-emerald-400 to-green-600",textColor:"text-emerald-100",bgColor:"bg-gradient-to-r from-emerald-400/20 to-green-600/20"},{rank:4,name:"Sapphire",icon:"",min:1450,max:1650,color:"from-blue-400 to-indigo-600",textColor:"text-blue-100",bgColor:"bg-gradient-to-r from-blue-400/20 to-indigo-600/20"},{rank:5,name:"Amethyst",icon:"",min:1300,max:1450,color:"from-purple-400 to-violet-600",textColor:"text-purple-100",bgColor:"bg-gradient-to-r from-purple-400/20 to-violet-600/20"},{rank:6,name:"Platinum",icon:"",min:1150,max:1300,color:"from-slate-300 to-slate-500",textColor:"text-slate-100",bgColor:"bg-gradient-to-r from-slate-400/20 to-slate-500/20"},{rank:7,name:"Gold",icon:"",min:1e3,max:1150,color:"from-yellow-400 to-amber-600",textColor:"text-yellow-900",bgColor:"bg-gradient-to-r from-yellow-400/20 to-amber-600/20"},{rank:8,name:"Silver",icon:"",min:850,max:1e3,color:"from-gray-300 to-gray-500",textColor:"text-gray-700",bgColor:"bg-gradient-to-r from-gray-300/20 to-gray-500/20"},{rank:9,name:"Bronze",icon:"",min:650,max:850,color:"from-orange-400 to-orange-700",textColor:"text-orange-900",bgColor:"bg-gradient-to-r from-orange-400/20 to-orange-700/20"},{rank:10,name:"Copper",icon:"",min:0,max:650,color:"from-orange-600 to-red-800",textColor:"text-orange-100",bgColor:"bg-gradient-to-r from-orange-600/20 to-red-800/20"}],xu=e=>e?oj.find(t=>e>=t.min&&(!t.max||e<t.max)):null;function ij({hideHeader:e=!1}){const t=Yl(),[r,n]=m.useState(!1),[l,a]=m.useState(""),o="CLOUD9RACING",[i,c]=m.useState(null),[d,u]=m.useState(!1),[h,f]=m.useState(!1),[p,y]=m.useState(null),[j,w]=m.useState(""),[g,x]=m.useState(null),[v,b]=m.useState(!0),R=Dp(So(ti,{activationConstraint:{distance:5}}),So(mu,{activationConstraint:{delay:100,tolerance:10}})),[T,O]=m.useState({team_name:"",competition_type:"category",competition_name:"",velo_min_rank:1,velo_max_rank:3,velo_max_spread:3,allowed_categories:["A","B"],allow_category_up:!0,min_riders:4,max_riders:8}),{data:_}=er({queryKey:["teams"],queryFn:async()=>{const D=await fetch("/api/teams");if(!D.ok)throw new Error("Failed to fetch teams");return D.json()}}),{data:S}=er({queryKey:["riders"],queryFn:async()=>{const D=await fetch("/api/riders");if(!D.ok)throw new Error("Failed to fetch riders");return D.json()}}),{data:C}=er({queryKey:["team-lineup",i==null?void 0:i.team_id],queryFn:async()=>{if(!i)return null;const D=await fetch(`/api/teams/${i.team_id}`);if(!D.ok)throw new Error("Failed to fetch lineup");return D.json()},enabled:!!i}),$=ir({mutationFn:async D=>{const H=await fetch("/api/teams",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)});if(!H.ok)throw new Error("Failed to create team");return H.json()},onSuccess:D=>{q.success(`Team "${D.team.team_name}" created!`),t.invalidateQueries({queryKey:["teams"]}),u(!1),c(D.team),Y()},onError:D=>{q.error(D.message)}}),B=ir({mutationFn:async({teamId:D,riderId:H,position:K})=>{const J=await fetch(`/api/teams/${D}/riders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rider_id:H,lineup_position:K})});if(!J.ok){const ne=await J.json();throw new Error(ne.error||"Failed to add rider")}return J.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["teams"]}),t.invalidateQueries({queryKey:["team-lineup",i==null?void 0:i.team_id]}),q.success("Rider added to team!")},onError:D=>{q.error(D.message)}}),U=ir({mutationFn:async({teamId:D,riderId:H})=>{const K=await fetch(`/api/teams/${D}/riders/${H}`,{method:"DELETE"});if(!K.ok)throw new Error("Failed to remove rider");return K.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["teams"]}),t.invalidateQueries({queryKey:["team-lineup",i==null?void 0:i.team_id]}),q.success("Rider removed from team")}}),z=ir({mutationFn:async({teamId:D,updates:H})=>{const K=await fetch(`/api/teams/${D}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)});if(!K.ok)throw new Error("Failed to update team");return K.json()},onSuccess:D=>{q.success(`Team "${D.team.team_name}" updated!`),t.invalidateQueries({queryKey:["teams"]}),f(!1),c(D.team)},onError:D=>{q.error(D.message)}}),Z=ir({mutationFn:async D=>{const H=await fetch(`/api/teams/${D}`,{method:"DELETE"});if(!H.ok)throw new Error("Failed to delete team");return H.json()},onSuccess:()=>{q.success("Team deleted"),t.invalidateQueries({queryKey:["teams"]}),c(null)},onError:D=>{q.error(D.message)}}),fe=ir({mutationFn:async({teamId:D,riderIds:H})=>{const K=await fetch(`/api/teams/${D}/lineup/reorder`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({rider_ids:H})});if(!K.ok)throw new Error("Failed to reorder riders");return K.json()},onSuccess:()=>{q.success("Lineup reordered!"),t.invalidateQueries({queryKey:["lineup",i==null?void 0:i.team_id]})},onError:D=>{q.error(D.message)}}),M=(_==null?void 0:_.teams)||[],L=(S==null?void 0:S.riders)||[],A=(C==null?void 0:C.lineup)||[],V=D=>{D.preventDefault(),l.toUpperCase()===o?(n(!0),sessionStorage.setItem("teamBuilderAuth","true"),q.success(" Toegang verleend!")):(q.error(" Onjuiste code"),a(""))};m.useEffect(()=>{sessionStorage.getItem("teamBuilderAuth")==="true"&&n(!0)},[]);const X=L.filter(D=>{var K,J,ne;if(!(!j||((K=D.name)==null?void 0:K.toLowerCase().includes(j.toLowerCase()))||((J=D.full_name)==null?void 0:J.toLowerCase().includes(j.toLowerCase()))||D.rider_id.toString().includes(j))||A.some(re=>re.rider_id===D.rider_id))return!1;if(!i)return!0;if(i.competition_type==="velo"){const re=D.velo_30day||D.velo_live,le=xu(re),Ge=(le==null?void 0:le.rank)||10;return Ge>=(i.velo_min_rank||1)&&Ge<=(i.velo_max_rank||10)}else{const re=D.zwift_official_category||D.zwiftracing_category||"D";return(ne=i.allowed_categories)==null?void 0:ne.includes(re)}}),Y=()=>{O({team_name:"",competition_type:"category",competition_name:"",velo_min_rank:1,velo_max_rank:3,velo_max_spread:3,allowed_categories:["A","B"],allow_category_up:!0,min_riders:4,max_riders:8})},de=()=>{$.mutate(T)},he=D=>{p&&z.mutate({teamId:p.team_id,updates:D})},Te=D=>{confirm("Weet je zeker dat je dit team wilt verwijderen? Alle lineup data wordt ook verwijderd.")&&Z.mutate(D)},E=D=>{if(!i)return;const H=A.length+1;B.mutate({teamId:i.team_id,riderId:D,position:H})},k=D=>{i&&U.mutate({teamId:i.team_id,riderId:D})},P=D=>{const H=L.find(K=>K.rider_id===D.active.id);x(H||null)},I=D=>{const{active:H,over:K}=D,J=Number(H.id);if(!K){x(null),q.success("Drag geannuleerd - rider niet toegevoegd",{duration:2e3,icon:""});return}const ne=A.find(Ge=>Ge.rider_id===J),re=Number(K.id),le=A.find(Ge=>Ge.rider_id===re);if(ne&&le&&J!==re){const Ge=A.findIndex(_e=>_e.rider_id===J),kr=A.findIndex(_e=>_e.rider_id===re),Oe=[...A],[Le]=Oe.splice(Ge,1);Oe.splice(kr,0,Le),fe.mutate({teamId:i.team_id,riderIds:Oe.map(_e=>_e.rider_id)}),x(null);return}if(typeof K.id=="string"&&K.id.startsWith("team-")){const Ge=Number(K.id.replace("team-",""));B.mutate({teamId:Ge,riderId:J}),x(null);return}K.id==="lineup-drop-zone"&&i&&E(J),x(null)};return r?s.jsx(Gp,{sensors:R,collisionDetection:Pp,onDragStart:P,onDragEnd:I,children:s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex",children:[r&&s.jsx(rj,{riders:L,isOpen:v,selectedTeam:i||void 0,onClearTeamFilter:()=>c(null),onAddRider:i?D=>E(D):void 0}),s.jsxs("div",{className:"flex-1 min-w-0",children:[!e&&s.jsxs("div",{className:"relative overflow-hidden mb-4 sm:mb-6",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-600 via-blue-600 to-orange-500 opacity-95"}),s.jsx("div",{className:"relative px-3 py-4 sm:px-6 sm:py-6 lg:py-10",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 mb-3 sm:mb-4",children:[s.jsx("div",{className:"p-2 sm:p-3 lg:p-4 bg-white/20 backdrop-blur-lg rounded-xl sm:rounded-2xl shadow-2xl flex-shrink-0",children:s.jsx("svg",{className:"w-6 h-6 sm:w-8 sm:h-8 lg:w-12 lg:h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("h1",{className:"text-xl sm:text-2xl lg:text-4xl xl:text-5xl font-black text-white tracking-tight flex items-center gap-2 sm:gap-3",children:[s.jsxs("svg",{className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 text-orange-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("span",{className:"truncate",children:"TEAM BUILDER"})]}),s.jsx("p",{className:"text-orange-100 text-xs sm:text-sm lg:text-lg xl:text-xl font-semibold mt-1 sm:mt-2 truncate",children:"TeamNL Cloud9 Racing  Beheer je teams"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>b(!v),className:"flex items-center gap-2 px-4 py-2.5 bg-white/20 hover:bg-white/30 backdrop-blur-lg rounded-xl border-2 border-white/30 text-white font-bold text-sm transition-all shadow-lg hover:shadow-xl",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),s.jsx("span",{className:"hidden sm:inline",children:v?"Verberg Riders":"Toon Riders"}),s.jsx("span",{className:"sm:hidden",children:v?"":""})]}),s.jsxs("button",{onClick:()=>window.location.pathname="/",className:"flex items-center gap-2 px-4 py-2.5 bg-blue-500/20 hover:bg-blue-500/30 backdrop-blur-lg rounded-xl border-2 border-blue-400/50 text-white font-bold text-sm transition-all shadow-lg hover:shadow-xl hover:scale-105",children:[s.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),s.jsx("span",{className:"hidden sm:inline",children:"Team Viewer"}),s.jsx("span",{className:"sm:hidden",children:""})]})]})]})})})]}),s.jsx("div",{className:"max-w-7xl mx-auto p-3 sm:p-4 lg:p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6",children:[s.jsx("div",{className:"xl:col-span-1",children:s.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl border border-gray-200 shadow-lg p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 gap-2",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Teams"}),s.jsxs("button",{onClick:()=>u(!0),className:"px-3 py-2 sm:px-4 sm:py-2 text-sm sm:text-base bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white rounded-lg font-semibold shadow-lg whitespace-nowrap",children:[s.jsx("span",{className:"hidden sm:inline",children:"+ New Team"}),s.jsx("span",{className:"sm:hidden",children:"+ Team"})]})]}),s.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:M.length===0?s.jsxs("div",{className:"text-center text-gray-400 py-8",children:[s.jsx("p",{children:"No teams yet"}),s.jsx("p",{className:"text-sm",children:"Create your first team!"})]}):M.map(D=>s.jsx(aj,{team:D,isDragging:g!==null,onEdit:()=>{y(D),f(!0)},onDelete:()=>Te(D.team_id),onOpenDetail:()=>{c(D),b(!0)}},D.team_id))})]})}),s.jsx("div",{className:"xl:col-span-1",children:i?s.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl border border-gray-200 shadow-lg p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[s.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:[i.team_name," Lineup"]}),s.jsxs("button",{onClick:()=>{console.log(" BEWERK TEAM BUTTON (lineup area):",i==null?void 0:i.team_name),y(i),f(!0)},className:"px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-semibold shadow-sm hover:shadow-md transition-all flex items-center gap-2",children:[" ",s.jsx("span",{className:"hidden sm:inline",children:"Bewerk Team"})]})]}),s.jsx(cj,{lineup:A,children:s.jsx(K2,{items:A.map(D=>D.rider_id),strategy:H2,children:s.jsx("div",{className:"space-y-3",children:A.map(D=>s.jsx(uj,{rider:D,onRemove:()=>k(D.rider_id)},D.rider_id))})})}),s.jsx("div",{className:"mt-4 p-4 bg-gray-700/30 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-400",children:"Riders"}),s.jsxs("div",{className:"text-2xl font-bold",children:[A.length," / ",i.max_riders]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-400",children:"Valid"}),s.jsx("div",{className:"text-2xl font-bold text-green-400",children:A.filter(D=>D.is_valid).length})]})]})})]}):s.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl border border-gray-200 shadow-lg p-6 flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center text-gray-400",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("p",{className:"text-lg",children:"Select a team to start building"})]})})}),s.jsx("div",{className:"xl:col-span-1",children:s.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl border border-gray-200 shadow-lg p-4 sm:p-6",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Riders"}),s.jsx("input",{type:"text",value:j,onChange:D=>w(D.target.value),placeholder:"Zoek riders...",className:"w-full px-3 sm:px-4 py-2.5 sm:py-2 text-sm sm:text-base bg-white border border-gray-300 rounded-lg mb-3 sm:mb-4 focus:outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-gray-900"}),s.jsxs("div",{className:"space-y-2 max-h-[400px] sm:max-h-[600px] overflow-y-auto",children:[X.map(D=>s.jsx(dj,{rider:D,onAdd:()=>E(D.rider_id)},D.rider_id)),X.length===0&&s.jsx("div",{className:"text-center text-gray-400 py-8",children:s.jsx("p",{children:"No eligible riders found"})})]})]})})]})}),h&&p&&s.jsx(fj,{team:p,onClose:()=>{f(!1),y(null)},onSave:he,isLoading:z.isPending}),d&&s.jsx(hj,{newTeam:T,setNewTeam:O,onClose:()=>{u(!1),Y()},onCreate:de,isLoading:$.isPending}),s.jsx(Zp,{children:g&&s.jsx("div",{className:"bg-blue-500 text-white p-3 rounded-lg shadow-2xl opacity-90",children:g.name||g.full_name})})]})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-900 text-white flex items-center justify-center px-4",children:s.jsx("div",{className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-gradient-to-br from-blue-600/40 via-cyan-500/30 to-blue-700/40 backdrop-blur-xl rounded-3xl p-8 border border-white/20 shadow-2xl",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-xl",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),s.jsx("h1",{className:"text-3xl font-black text-center mb-2 bg-gradient-to-r from-orange-400 via-red-400 to-orange-400 bg-clip-text text-transparent",children:"Team Builder"}),s.jsx("p",{className:"text-center text-white/70 mb-8",children:"Voer de entry code in voor toegang"}),s.jsxs("form",{onSubmit:V,className:"space-y-4",children:[s.jsx("input",{type:"text",value:l,onChange:D=>a(D.target.value),placeholder:"Entry Code",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/50 focus:outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-400/50 transition-all text-center tracking-wider uppercase",autoComplete:"off",autoFocus:!0}),s.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-orange-500 to-red-600 rounded-xl font-bold text-white shadow-lg hover:shadow-xl transition-all hover:scale-105",children:" Ontgrendel"})]}),s.jsx("button",{onClick:()=>window.history.back(),className:"w-full mt-4 py-3 bg-white/10 rounded-xl font-semibold text-white/70 hover:bg-white/20 transition-all",children:" Terug"})]})})})}function cj({children:e,lineup:t}){const{setNodeRef:r,isOver:n}=na({id:"lineup-drop-zone"});return s.jsx("div",{ref:r,className:`min-h-[400px] border-2 border-dashed rounded-xl p-4 transition-all ${n?"border-indigo-500 bg-indigo-500/20":"border-blue-500/30 bg-blue-500/5"}`,children:t.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-400 py-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("p",{className:"text-lg font-semibold",children:"No riders yet"}),s.jsx("p",{className:"text-sm",children:"Drag riders here or click + Add button"})]}):e})}function dj({rider:e,onAdd:t}){const{attributes:r,listeners:n,setNodeRef:l,transform:a,transition:o,isDragging:i}=sx({id:e.rider_id}),c={transform:jr.Transform.toString(a),transition:o,opacity:i?.5:1},d=e.velo_30day||e.velo_live,u=xu(d),h=e.zwift_official_category||e.zwiftracing_category||"D",f=ax[h]||"bg-gray-600 text-white border-gray-700";return s.jsx("div",{ref:l,style:c,...r,className:`group relative bg-gradient-to-br from-white to-gray-50/50 hover:from-indigo-50/30 hover:to-purple-50/30 rounded-xl border border-gray-200 hover:border-indigo-300 hover:shadow-xl transition-all duration-200 shadow-sm ${i?"scale-105 ring-2 ring-indigo-400/50 shadow-2xl":""}`,children:s.jsxs("div",{className:"p-3 sm:p-4",children:[s.jsxs("div",{...n,className:"cursor-move",children:[s.jsx("div",{className:"mb-2 sm:mb-3",children:s.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 truncate",children:e.name||e.full_name})}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:e.avatar_url||`https://ui-avatars.com/api/?name=${e.rider_id}&background=6366f1&color=fff&size=64`,alt:e.name,className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full border-2 border-indigo-200 shadow-md",onError:p=>{p.currentTarget.src=`https://ui-avatars.com/api/?name=${e.rider_id}&background=6366f1&color=fff&size=64`}}),s.jsx("div",{className:`absolute -bottom-1 -right-1 px-1.5 py-0.5 text-[10px] sm:text-xs font-bold rounded-md border ${f} shadow-md`,children:h})]}),e.phenotype&&s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-[10px] sm:text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Phenotype"}),s.jsx("div",{className:"text-base sm:text-lg font-bold text-purple-700 truncate",children:e.phenotype})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 sm:pt-3 border-t border-gray-200/60 gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-3 text-xs sm:text-sm flex-wrap",children:[s.jsxs("div",{className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1 sm:py-1.5 rounded-lg bg-gradient-to-br ${(u==null?void 0:u.color)||"from-gray-400 to-gray-600"} shadow-sm`,children:[s.jsx("div",{className:"flex items-center justify-center w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-white/30 backdrop-blur-sm border border-white/50 sm:border-2",children:s.jsx("span",{className:"font-black text-[10px] sm:text-xs text-white",children:(u==null?void 0:u.rank)||"?"})}),s.jsxs("div",{className:"flex flex-col gap-0.5",children:[s.jsx("span",{className:`font-bold text-xs sm:text-sm leading-none ${(u==null?void 0:u.textColor)||"text-white"}`,children:Math.floor(d)}),u&&u.max&&s.jsx("div",{className:"w-8 sm:w-12 h-0.5 sm:h-1 bg-black/20 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-white/60 rounded-full transition-all",style:{width:`${Math.min(100,(d-u.min)/(u.max-u.min)*100)}%`}})})]})]}),e.zwift_official_racing_score&&s.jsxs("span",{className:"px-1.5 sm:px-2 py-0.5 sm:py-1 bg-blue-50 text-blue-700 rounded text-[10px] sm:text-xs font-medium whitespace-nowrap",children:["ZRS ",e.zwift_official_racing_score]})]}),s.jsxs("button",{onClick:p=>{p.stopPropagation(),p.preventDefault(),t()},className:"px-2 sm:px-3 py-1.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-xs font-semibold shadow-sm hover:shadow-md transition-all whitespace-nowrap min-h-[40px] sm:min-h-0 flex items-center justify-center",children:[s.jsx("span",{className:"hidden sm:inline",children:"+ Add"}),s.jsx("span",{className:"sm:hidden",children:"+"})]})]})]})})}function uj({rider:e,onRemove:t}){const{attributes:r,listeners:n,setNodeRef:l,transform:a,transition:o,isDragging:i}=sx({id:e.rider_id}),c={transform:jr.Transform.toString(a),transition:o,opacity:i?.5:1},d=e.velo_30day||e.velo_live,u=xu(d),h=e.category||"D",f=ax[h]||"bg-gray-500 text-white border-gray-400";return s.jsxs("div",{ref:l,style:c,...r,...n,className:`relative bg-gradient-to-br p-2.5 rounded-lg border transition-all shadow-md cursor-move ${e.is_valid?"from-blue-900/80 to-indigo-950/80 border-orange-500/40":"from-red-900/40 to-gray-900 border-red-500"} ${i?"scale-105 ring-2 ring-indigo-400/50 shadow-2xl z-50":""}`,children:[s.jsx("div",{className:"absolute -top-1.5 -left-1.5 w-6 h-6 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center font-bold text-white text-xs shadow-md border-2 border-gray-900",children:e.lineup_position}),s.jsxs("div",{className:"relative flex items-center gap-2 sm:gap-2.5",children:[s.jsx("img",{src:e.avatar_url||`https://ui-avatars.com/api/?name=${e.rider_id}&background=3b82f6&color=fff&size=36`,alt:e.name,className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full border-2 border-gray-600 shadow-sm flex-shrink-0",onError:p=>{p.currentTarget.src=`https://ui-avatars.com/api/?name=${e.rider_id}&background=3b82f6&color=fff&size=36`}}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("div",{className:"font-bold text-white text-xs sm:text-sm truncate",children:e.name||e.full_name})}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0 flex-wrap",children:[s.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 text-[10px] sm:text-xs font-bold rounded border ${f}`,children:h}),s.jsxs("div",{className:`flex items-center gap-1 sm:gap-1.5 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-md bg-gradient-to-br ${(u==null?void 0:u.color)||"from-gray-400 to-gray-600"} shadow-sm`,children:[s.jsx("div",{className:"flex items-center justify-center w-4 h-4 sm:w-5 sm:h-5 rounded-full bg-white/30 backdrop-blur-sm border border-white/50",children:s.jsx("span",{className:"font-black text-[10px] sm:text-xs text-white",children:(u==null?void 0:u.rank)||"?"})}),s.jsxs("div",{className:"flex flex-col gap-0.5",children:[s.jsx("span",{className:`font-bold text-[10px] sm:text-xs leading-none ${(u==null?void 0:u.textColor)||"text-white"}`,children:Math.floor(d)}),u&&u.max&&s.jsx("div",{className:"hidden sm:block w-10 h-0.5 bg-black/20 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-white/60 rounded-full transition-all",style:{width:`${Math.min(100,(d-u.min)/(u.max-u.min)*100)}%`}})})]})]}),e.phenotype&&s.jsx("span",{className:"hidden sm:inline px-1.5 py-0.5 bg-purple-500/20 text-purple-300 rounded text-xs font-semibold border border-purple-500/30",children:e.phenotype}),e.is_valid?s.jsx("span",{className:"text-green-400 text-base sm:text-lg",title:"Valid",children:""}):s.jsx("span",{className:"text-red-400 text-base sm:text-lg",title:e.validation_warning||"Invalid",children:""})]}),s.jsx("button",{onClick:t,className:"flex-shrink-0 px-2 py-1.5 sm:py-1 bg-red-500/80 hover:bg-red-600 text-white rounded text-xs font-bold shadow-sm hover:shadow-md transition-all min-h-[40px] sm:min-h-0 flex items-center justify-center",title:"Remove rider",children:""})]})]})}function fj({team:e,onClose:t,onSave:r,isLoading:n}){const[l,a]=m.useState({team_name:e.team_name,competition_name:e.competition_name,competition_type:e.competition_type,velo_min_rank:e.velo_min_rank||1,velo_max_rank:e.velo_max_rank||10,velo_max_spread:e.velo_max_spread||3,allowed_categories:e.allowed_categories||[],min_riders:e.min_riders||1,max_riders:e.max_riders||10});return s.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-3 sm:p-4",children:s.jsx("div",{className:"bg-gray-800 rounded-xl border border-gray-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4",children:" Bewerk Team"}),s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-1",children:"Team Naam"}),s.jsx("input",{type:"text",value:l.team_name,onChange:o=>a({...l,team_name:o.target.value}),className:"w-full px-3 py-2.5 sm:py-2 text-sm sm:text-base bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Team naam..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-1",children:"Competitie Type"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3",children:[s.jsxs("button",{type:"button",onClick:()=>a({...l,competition_type:"velo"}),className:`p-2.5 sm:p-3 rounded-lg border-2 transition-all min-h-[60px] sm:min-h-0 ${l.competition_type==="velo"?"border-purple-500 bg-purple-500/20":"border-gray-600 hover:border-gray-500"}`,children:[s.jsx("div",{className:"font-bold text-sm sm:text-base",children:" vELO"}),s.jsx("div",{className:"text-[10px] sm:text-xs text-gray-400",children:"bijv: Club Ladder"})]}),s.jsxs("button",{type:"button",onClick:()=>a({...l,competition_type:"category"}),className:`p-2.5 sm:p-3 rounded-lg border-2 transition-all min-h-[60px] sm:min-h-0 ${l.competition_type==="category"?"border-blue-500 bg-blue-500/20":"border-gray-600 hover:border-gray-500"}`,children:[s.jsx("div",{className:"font-bold text-sm sm:text-base",children:" Category"}),s.jsx("div",{className:"text-[10px] sm:text-xs text-gray-400",children:"bijv: WTRL ZRL"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Competitie Naam"}),s.jsx("input",{type:"text",value:l.competition_name,onChange:o=>a({...l,competition_name:o.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"bijv. WTRL ZRL Division 1"})]}),l.competition_type==="velo"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Min vELO Rank"}),s.jsx("input",{type:"number",value:l.velo_min_rank,onChange:o=>a({...l,velo_min_rank:parseInt(o.target.value)}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500",min:"1",max:"10"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max vELO Rank"}),s.jsx("input",{type:"number",value:l.velo_max_rank,onChange:o=>a({...l,velo_max_rank:parseInt(o.target.value)}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500",min:"1",max:"10"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max vELO Spread"}),s.jsx("input",{type:"number",value:l.velo_max_spread,onChange:o=>a({...l,velo_max_spread:parseInt(o.target.value)}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500",min:"1",max:"10"}),s.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Huidige spread: ",l.velo_max_rank-l.velo_min_rank+1," ranks"]})]})]}),l.competition_type==="category"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Toegestane Categorien"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:["A+","A","B","C","D"].map(o=>s.jsx("button",{type:"button",onClick:()=>{const i=l.allowed_categories||[];a({...l,allowed_categories:i.includes(o)?i.filter(c=>c!==o):[...i,o]})},className:`px-3 py-2 rounded-lg font-bold transition-all ${(l.allowed_categories||[]).includes(o)?"bg-blue-500 text-white":"bg-gray-700 border border-gray-600 hover:border-gray-500"}`,children:o},o))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-1",children:"Min Riders"}),s.jsx("input",{type:"number",value:l.min_riders,onChange:o=>a({...l,min_riders:parseInt(o.target.value)}),className:"w-full px-3 py-2.5 sm:py-2 text-sm sm:text-base bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500",min:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-1",children:"Max Riders"}),s.jsx("input",{type:"number",value:l.max_riders,onChange:o=>a({...l,max_riders:parseInt(o.target.value)}),className:"w-full px-3 py-2.5 sm:py-2 text-sm sm:text-base bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500",min:"1"})]})]})]}),s.jsxs("div",{className:"flex gap-2 sm:gap-3 mt-4 sm:mt-6",children:[s.jsx("button",{onClick:t,className:"flex-1 px-4 py-3 sm:py-2 text-sm sm:text-base bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors min-h-[48px] sm:min-h-0 flex items-center justify-center",disabled:n,children:"Annuleer"}),s.jsx("button",{onClick:()=>r(l),className:"flex-1 px-4 py-3 sm:py-2 text-sm sm:text-base bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 rounded-lg font-semibold shadow-lg transition-colors disabled:opacity-50 min-h-[48px] sm:min-h-0 flex items-center justify-center",disabled:n||!l.team_name.trim()||!l.competition_name.trim(),children:n?"Opslaan...":" Opslaan"})]})]})})})}function hj({newTeam:e,setNewTeam:t,onClose:r,onCreate:n,isLoading:l}){return s.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-3 sm:p-4",children:s.jsxs("div",{className:"bg-gradient-to-br from-white to-blue-50 rounded-xl border-2 border-orange-500/50 shadow-2xl p-4 sm:p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6 text-gray-900",children:"Nieuw Team"}),s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-semibold mb-1 sm:mb-2 text-gray-900",children:"Team Naam *"}),s.jsx("input",{type:"text",value:e.team_name,onChange:a=>t({...e,team_name:a.target.value}),placeholder:"bijv. TeamNL ZRL A/B",className:"w-full px-3 sm:px-4 py-2.5 sm:py-2 text-sm sm:text-base bg-white text-gray-900 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-orange-500 focus:ring-2 focus:ring-orange-200"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-semibold mb-1 sm:mb-2 text-gray-900",children:"Competitie Type *"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-4",children:[s.jsxs("button",{onClick:()=>t({...e,competition_type:"category"}),className:`p-3 sm:p-4 rounded-lg border-2 transition-all min-h-[80px] sm:min-h-0 ${e.competition_type==="category"?"bg-blue-500 border-blue-600 text-white shadow-lg":"bg-white border-gray-300 text-gray-900 hover:border-blue-400"}`,children:[s.jsx("div",{className:"text-xl sm:text-2xl mb-1 sm:mb-2",children:""}),s.jsx("div",{className:"font-bold text-sm sm:text-base",children:"Category"}),s.jsx("div",{className:`text-[10px] sm:text-xs ${e.competition_type==="category"?"text-blue-100":"text-gray-500"}`,children:"bijv: WTRL ZRL"})]}),s.jsxs("button",{onClick:()=>t({...e,competition_type:"velo"}),className:`p-3 sm:p-4 rounded-lg border-2 transition-all min-h-[80px] sm:min-h-0 ${e.competition_type==="velo"?"bg-orange-500 border-orange-600 text-white shadow-lg":"bg-white border-gray-300 text-gray-900 hover:border-orange-400"}`,children:[s.jsx("div",{className:"text-xl sm:text-2xl mb-1 sm:mb-2",children:""}),s.jsx("div",{className:"font-bold text-sm sm:text-base",children:"vELO"}),s.jsx("div",{className:`text-[10px] sm:text-xs ${e.competition_type==="velo"?"text-orange-100":"text-gray-500"}`,children:"bijv: Club Ladder"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-semibold mb-1 sm:mb-2 text-gray-900",children:"Competitie Naam"}),s.jsx("input",{type:"text",value:e.competition_name,onChange:a=>t({...e,competition_name:a.target.value}),placeholder:"bijv. WTRL ZRL Season 5",className:"w-full px-3 sm:px-4 py-2.5 sm:py-2 text-sm sm:text-base bg-white text-gray-900 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-orange-500 focus:ring-2 focus:ring-orange-200"})]}),e.competition_type==="velo"&&s.jsxs("div",{className:"space-y-3 sm:space-y-4 p-3 sm:p-4 bg-orange-50 rounded-lg border-2 border-orange-300",children:[s.jsx("h3",{className:"font-bold text-orange-700 text-sm sm:text-base",children:"vELO Instellingen"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm mb-1 sm:mb-2 text-gray-900 font-semibold",children:"Min Rank"}),s.jsx("input",{type:"number",min:"1",max:"10",value:e.velo_min_rank,onChange:a=>t({...e,velo_min_rank:parseInt(a.target.value)}),className:"w-full px-3 sm:px-4 py-2.5 sm:py-2 text-sm sm:text-base bg-white text-gray-900 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-orange-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm mb-1 sm:mb-2 text-gray-900 font-semibold",children:"Max Rank"}),s.jsx("input",{type:"number",min:"1",max:"10",value:e.velo_max_rank,onChange:a=>t({...e,velo_max_rank:parseInt(a.target.value)}),className:"w-full px-3 sm:px-4 py-2.5 sm:py-2 text-sm sm:text-base bg-white text-gray-900 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-orange-500"})]})]}),s.jsxs("div",{className:"text-[10px] sm:text-xs text-orange-700 font-semibold",children:["Max spread: ",e.velo_max_rank-e.velo_min_rank+1," ranks"]})]}),e.competition_type==="category"&&s.jsxs("div",{className:"space-y-3 sm:space-y-4 p-3 sm:p-4 bg-blue-50 rounded-lg border-2 border-blue-300",children:[s.jsx("h3",{className:"font-bold text-blue-700 text-sm sm:text-base",children:"Category Instellingen"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm mb-1 sm:mb-2 text-gray-900 font-semibold",children:"Toegestane Categories"}),s.jsx("div",{className:"flex gap-1.5 sm:gap-2 flex-wrap",children:["A+","A","B","C","D"].map(a=>s.jsx("button",{onClick:()=>{const o=e.allowed_categories,i=o.includes(a)?o.filter(c=>c!==a):[...o,a];t({...e,allowed_categories:i})},className:`px-3 sm:px-4 py-2.5 sm:py-2 text-sm sm:text-base rounded-lg border-2 transition-all font-bold min-h-[44px] sm:min-h-0 flex items-center justify-center ${e.allowed_categories.includes(a)?"bg-blue-500 border-blue-600 text-white shadow-lg":"bg-white border-gray-300 text-gray-900 hover:border-blue-400"}`,children:a},a))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-semibold mb-1 sm:mb-2 text-gray-900",children:"Min Riders"}),s.jsx("input",{type:"number",min:"1",value:e.min_riders,onChange:a=>t({...e,min_riders:parseInt(a.target.value)}),className:"w-full px-3 sm:px-4 py-2.5 sm:py-2 text-sm sm:text-base bg-white text-gray-900 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-orange-500 focus:ring-2 focus:ring-orange-200"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs sm:text-sm font-semibold mb-1 sm:mb-2 text-gray-900",children:"Max Riders"}),s.jsx("input",{type:"number",min:"1",value:e.max_riders,onChange:a=>t({...e,max_riders:parseInt(a.target.value)}),className:"w-full px-3 sm:px-4 py-2.5 sm:py-2 text-sm sm:text-base bg-white text-gray-900 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-orange-500 focus:ring-2 focus:ring-orange-200"})]})]})]}),s.jsxs("div",{className:"flex gap-2 sm:gap-4 mt-4 sm:mt-6",children:[s.jsx("button",{onClick:r,className:"flex-1 px-4 sm:px-6 py-3 text-sm sm:text-base bg-gray-200 text-gray-900 hover:bg-gray-300 rounded-lg font-bold border-2 border-gray-300 transition-all min-h-[48px] sm:min-h-0 flex items-center justify-center",disabled:l,children:"Annuleer"}),s.jsx("button",{onClick:n,className:"flex-1 px-4 sm:px-6 py-3 text-sm sm:text-base bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white rounded-lg font-bold shadow-xl disabled:opacity-50 disabled:cursor-not-allowed transition-all min-h-[48px] sm:min-h-0 flex items-center justify-center",disabled:l||!e.team_name,children:l?"Maken...":"Maak Team"})]})]})})}const bh="",mj=[{rank:1,name:"Diamond",min:2200,color:"#22D3EE",border:"#3B82F6"},{rank:2,name:"Ruby",min:1900,max:2200,color:"#EF4444",border:"#EC4899"},{rank:3,name:"Emerald",min:1650,max:1900,color:"#10B981",border:"#059669"},{rank:4,name:"Sapphire",min:1450,max:1650,color:"#3B82F6",border:"#2563EB"},{rank:5,name:"Amethyst",min:1300,max:1450,color:"#A855F7",border:"#9333EA"},{rank:6,name:"Platinum",min:1150,max:1300,color:"#94A3B8",border:"#64748B"},{rank:7,name:"Gold",min:1e3,max:1150,color:"#EAB308",border:"#CA8A04"},{rank:8,name:"Silver",min:850,max:1e3,color:"#71717A",border:"#52525B"},{rank:9,name:"Bronze",min:650,max:850,color:"#F97316",border:"#EA580C"},{rank:10,name:"Copper",min:0,max:650,color:"#DC2626",border:"#B91C1C"}],pj=e=>e?mj.find(t=>e>=t.min&&(!t.max||e<t.max)):null;function xj({teamId:e,onClose:t,isDragging:r=!1}){const n=Yl(),{data:l,isLoading:a}=er({queryKey:["team",e],queryFn:async()=>{const f=await fetch(`${bh}/api/teams/${e}`);if(!f.ok)throw new Error("Failed to fetch team");const p=await f.json();return{...p.team,lineup:p.lineup||[]}}}),{setNodeRef:o,isOver:i}=na({id:`lineup-sidebar-${e}`,data:{teamId:e,type:"lineup-sidebar"}}),c=ir({mutationFn:async f=>{const p=await fetch(`${bh}/api/teams/${e}/riders/${f}`,{method:"DELETE"});if(!p.ok)throw new Error("Failed to remove rider");return p.json()},onSuccess:async()=>{await Promise.all([n.refetchQueries({queryKey:["teams"],type:"active"}),n.refetchQueries({queryKey:["team",e],type:"active"}),n.refetchQueries({queryKey:["riders"],type:"active"})]),q.success("Rider verwijderd uit team")},onError:()=>{q.error("Kon rider niet verwijderen")}});if(a||!l)return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[99] lg:hidden",onClick:t}),s.jsx("aside",{ref:o,className:"relative lg:sticky lg:top-0 w-full sm:w-96 lg:w-[550px] xl:w-[600px] h-screen bg-slate-800/95 backdrop-blur-xl border-l border-slate-700/50 shadow-2xl shadow-black/50 flex items-center justify-center z-[100]",children:s.jsx("div",{className:"text-white text-xl",children:"Loading..."})})]});const d=l,u=d.lineup.length<d.max_riders,h=i&&r;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[99] lg:hidden",onClick:t}),s.jsxs("aside",{ref:o,className:`relative lg:sticky lg:top-0 w-full sm:w-96 lg:w-[550px] xl:w-[600px] h-screen bg-slate-800/95 backdrop-blur-xl border-l-4 shadow-2xl shadow-black/50 flex flex-col transition-all duration-300 z-[100] ${h&&u?"border-green-500 shadow-green-500/50":h&&!u?"border-red-500 shadow-red-500/50":"border-slate-700/50"}`,children:[h&&s.jsx("div",{className:`absolute inset-0 flex items-center justify-center pointer-events-none z-50 ${u?"bg-green-500/20 backdrop-blur-sm":"bg-red-500/20 backdrop-blur-sm"}`,children:s.jsxs("div",{className:`text-center p-6 rounded-xl bg-slate-900/90 border-2 border-dashed ${u?"border-green-400":"border-red-400"}`,children:[s.jsx("p",{className:`text-2xl font-bold mb-2 ${u?"text-green-300":"text-red-300"}`,children:u?" Drop hier":" Team vol"}),u&&s.jsxs("p",{className:"text-white text-sm",children:[d.max_riders-d.lineup.length," plekken vrij"]})]})}),s.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[s.jsx("div",{className:"p-4 sm:p-6 border-b border-slate-700 bg-slate-900/50",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white truncate",children:d.team_name}),s.jsx("p",{className:"text-slate-400 mt-1 text-sm sm:text-base truncate",children:d.competition_name}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mt-2 text-xs sm:text-sm flex-wrap",children:[d.competition_type==="velo"&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"px-1.5 sm:px-2 py-0.5 sm:py-1 bg-blue-600/30 text-blue-300 rounded whitespace-nowrap",children:["vELO: ",d.velo_min_rank,"-",d.velo_max_rank]}),s.jsxs("span",{className:"px-1.5 sm:px-2 py-0.5 sm:py-1 bg-purple-600/30 text-purple-300 rounded whitespace-nowrap",children:["Spread: max ",d.velo_max_spread]})]}),s.jsxs("span",{className:"px-1.5 sm:px-2 py-0.5 sm:py-1 bg-slate-600/50 text-slate-300 rounded",children:[d.lineup.length,"/",d.max_riders," riders"]})]})]}),s.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white text-3xl leading-none flex-shrink-0 w-10 h-10 flex items-center justify-center rounded-lg hover:bg-slate-800 transition-colors",children:""})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[d.lineup.length<d.max_riders&&!r&&s.jsxs("div",{className:"mb-4 p-6 border-2 border-dashed border-blue-500/50 rounded-xl bg-blue-500/10 text-center",children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("p",{className:"text-blue-300 font-semibold text-sm",children:"Sleep riders hierheen"}),s.jsxs("p",{className:"text-slate-400 text-xs mt-1",children:[d.max_riders-d.lineup.length," ",d.max_riders-d.lineup.length===1?"plek":"plekken"," beschikbaar"]})]}),d.lineup.length<d.max_riders&&r&&s.jsxs("div",{className:"mb-4 p-8 border-2 border-dashed border-green-400 rounded-xl bg-green-500/20 text-center animate-pulse",children:[s.jsx("div",{className:"text-5xl mb-3",children:""}),s.jsx("p",{className:"text-green-300 font-bold text-lg",children:"Drop hier om toe te voegen!"}),s.jsxs("p",{className:"text-green-200 text-sm mt-2",children:[d.max_riders-d.lineup.length," ",d.max_riders-d.lineup.length===1?"plek":"plekken"," over"]})]}),d.lineup.length>=d.max_riders&&r&&s.jsxs("div",{className:"mb-4 p-8 border-2 border-dashed border-red-400 rounded-xl bg-red-500/20 text-center",children:[s.jsx("div",{className:"text-5xl mb-3",children:""}),s.jsx("p",{className:"text-red-300 font-bold text-lg",children:"Team is vol!"}),s.jsxs("p",{className:"text-red-200 text-sm mt-2",children:["Maximum ",d.max_riders," riders bereikt"]})]}),d.lineup.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-400",children:[s.jsx("p",{className:"text-lg",children:"Nog geen riders in dit team"}),s.jsx("p",{className:"mt-2 text-sm",children:"Gebruik [+ Add] knop of drag & drop"})]}):s.jsx("div",{className:"space-y-3",children:d.lineup.map(f=>{const p=pj(f.current_velo_rank||null),y=f.ftp_wkg||(f.racing_ftp&&f.weight_kg?(f.racing_ftp/f.weight_kg).toFixed(2):null);return s.jsx("div",{className:`
                      relative bg-slate-900/50 rounded-lg p-3 sm:p-3 border-l-4
                      ${f.is_valid?"border-l-green-600":"border-l-orange-600"}
                      hover:bg-slate-900/70 transition-colors
                    `,children:s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full overflow-hidden bg-slate-900 flex-shrink-0",children:f.avatar_url?s.jsx("img",{src:f.avatar_url,alt:f.full_name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-xl sm:text-2xl",children:""})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-bold text-white truncate text-xs sm:text-sm",children:f.full_name}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 mt-1 flex-wrap",children:[s.jsx("span",{className:"px-1.5 py-0.5 bg-blue-600 rounded text-[10px] sm:text-xs font-bold text-white",children:f.category}),f.current_velo_rank&&p&&s.jsxs("span",{className:"px-1.5 py-0.5 rounded text-[10px] sm:text-xs font-bold text-white",style:{backgroundColor:p.color},title:`${p.name} Tier`,children:["T",p.rank]}),f.current_velo_rank&&s.jsx("span",{className:"text-[10px] sm:text-xs text-cyan-400 font-bold",children:Math.floor(f.current_velo_rank)}),f.racing_ftp&&s.jsxs("span",{className:"text-[10px] sm:text-xs text-slate-400 hidden sm:inline",children:[f.racing_ftp,"W ",y&&` ${y} W/kg`]})]}),!f.is_valid&&f.validation_warning&&s.jsxs("div",{className:"text-[10px] sm:text-xs text-orange-400 mt-1",children:[" ",f.validation_warning]})]}),s.jsx("button",{onClick:()=>c.mutate(f.rider_id),className:"px-2 sm:px-3 py-2 bg-red-600/20 hover:bg-red-600 text-red-400 hover:text-white text-xs sm:text-sm rounded transition-colors flex-shrink-0 min-h-[44px] sm:min-h-0 flex items-center justify-center",title:"Verwijder uit team",children:""})]})},f.rider_id)})})]})]})]})]})}const gj=({isOpen:e,onClose:t,onTeamCreated:r})=>{const[n,l]=m.useState(""),[a,o]=m.useState("velo-based"),[i,c]=m.useState(""),[d,u]=m.useState(1),[h,f]=m.useState(10),[p,y]=m.useState(3),[j,w]=m.useState(["A+","A","B","C","D","E"]),[g,x]=m.useState(!0),[v,b]=m.useState(1),[R,T]=m.useState(10),[O,_]=m.useState(!1),S=[{rank:1,name:"Diamond"},{rank:2,name:"Ruby"},{rank:3,name:"Emerald"},{rank:4,name:"Sapphire"},{rank:5,name:"Amethyst"},{rank:6,name:"Pearl"},{rank:7,name:"Gold"},{rank:8,name:"Silver"},{rank:9,name:"Bronze"},{rank:10,name:"Copper"}],C=[{value:"A+",label:"A+",color:"#FF0000"},{value:"A",label:"A",color:"#FF0000"},{value:"B",label:"B",color:"#4CAF50"},{value:"C",label:"C",color:"#0000FF"},{value:"D",label:"D",color:"#FF1493"},{value:"E",label:"E",color:"#808080"}],$=async z=>{if(z.preventDefault(),!n.trim()){be.error("Voer een teamnaam in");return}_(!0);try{const fe=await(await fetch("/api/teams",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({team_name:n,competition_type:a==="velo-based"?"velo":"category",competition_name:i||null,velo_min_rank:a==="velo-based"?d:null,velo_max_rank:a==="velo-based"?h:null,velo_max_spread:a==="velo-based"?p:null,allowed_categories:a==="category-based"?j:null,allow_category_up:g,min_riders:v,max_riders:R})})).json();fe.success?(be.success(` Team "${n}" aangemaakt!`),r(),B()):be.error(fe.error||"Team aanmaken mislukt")}catch(Z){console.error("Error creating team:",Z),be.error("Fout bij aanmaken team")}finally{_(!1)}},B=()=>{l(""),c(""),o("velo-based"),u(1),f(10),y(3),w(["A+","A","B","C","D","E"]),x(!0),b(1),T(10),t()},U=z=>{w(Z=>Z.includes(z)?Z.filter(fe=>fe!==z):[...Z,z])};return e?s.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-orange-600 to-red-600 p-6 border-b border-slate-700 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Nieuw Team Aanmaken"}),s.jsx("p",{className:"text-white/80 text-sm",children:"Configureer team criteria en limieten"})]})]}),s.jsx("button",{onClick:B,className:"text-white/80 hover:text-white transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),s.jsxs("form",{onSubmit:$,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Team Naam *"}),s.jsx("input",{type:"text",value:n,onChange:z=>l(z.target.value),placeholder:"bijv. Cloud9 Racing A-Team",className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-orange-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Competitie Naam (optioneel)"}),s.jsx("input",{type:"text",value:i,onChange:z=>c(z.target.value),placeholder:"bijv. Club Ladder, WTRL TTT",className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-orange-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Competitie Type *"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>o("velo-based"),className:`p-4 rounded-lg border-2 transition-all ${a==="velo-based"?"bg-orange-500/20 border-orange-500 text-white":"bg-slate-900/30 border-slate-600 text-slate-400 hover:border-slate-500"}`,children:[s.jsx("div",{className:"font-bold mb-1",children:"vELO Based"}),s.jsx("div",{className:"text-xs",children:"Tier en spread limieten"})]}),s.jsxs("button",{type:"button",onClick:()=>o("category-based"),className:`p-4 rounded-lg border-2 transition-all ${a==="category-based"?"bg-orange-500/20 border-orange-500 text-white":"bg-slate-900/30 border-slate-600 text-slate-400 hover:border-slate-500"}`,children:[s.jsx("div",{className:"font-bold mb-1",children:"Category Based"}),s.jsx("div",{className:"text-xs",children:"Categorie restricties"})]})]})]}),a==="velo-based"&&s.jsxs("div",{className:"space-y-4 p-4 bg-slate-900/30 rounded-lg border border-slate-700",children:[s.jsxs("h3",{className:"font-bold text-white text-sm flex items-center gap-2",children:[s.jsx("span",{className:"text-orange-500",children:""})," vELO Criteria"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-slate-300 mb-2",children:"Minimale Tier"}),s.jsx("select",{value:d,onChange:z=>u(parseInt(z.target.value)),className:"w-full px-3 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-orange-500",children:S.map(z=>s.jsxs("option",{value:z.rank,children:["Tier ",z.rank," - ",z.name]},z.rank))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-slate-300 mb-2",children:"Maximale Tier"}),s.jsx("select",{value:h,onChange:z=>f(parseInt(z.target.value)),className:"w-full px-3 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-orange-500",children:S.map(z=>s.jsxs("option",{value:z.rank,children:["Tier ",z.rank," - ",z.name]},z.rank))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-slate-300 mb-2",children:"Max Tier Spread (bijv. max 3 tiers verschil)"}),s.jsx("input",{type:"number",min:"1",max:"10",value:p,onChange:z=>y(parseInt(z.target.value)),className:"w-full px-3 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-orange-500"})]})]}),a==="category-based"&&s.jsxs("div",{className:"space-y-4 p-4 bg-slate-900/30 rounded-lg border border-slate-700",children:[s.jsxs("h3",{className:"font-bold text-white text-sm flex items-center gap-2",children:[s.jsx("span",{className:"text-orange-500",children:""})," Categorie Criteria"]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-slate-300 mb-2",children:"Toegestane Categorien"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:C.map(z=>s.jsx("button",{type:"button",onClick:()=>U(z.value),className:`px-3 py-2 rounded-lg border-2 font-bold text-sm transition-all ${j.includes(z.value)?"border-white text-white":"border-slate-600 text-slate-500"}`,style:{backgroundColor:j.includes(z.value)?z.color:"transparent"},children:z.label},z.value))})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g,onChange:z=>x(z.target.checked),className:"w-4 h-4"}),s.jsx("span",{children:"Sta riders toe in hogere categorie te rijden"})]})})]}),s.jsxs("div",{className:"space-y-4 p-4 bg-slate-900/30 rounded-lg border border-slate-700",children:[s.jsxs("h3",{className:"font-bold text-white text-sm flex items-center gap-2",children:[s.jsx("span",{className:"text-orange-500",children:""})," Rider Limieten"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-slate-300 mb-2",children:"Min Riders"}),s.jsx("input",{type:"number",min:"1",max:"20",value:v,onChange:z=>b(parseInt(z.target.value)),className:"w-full px-3 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-orange-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-slate-300 mb-2",children:"Max Riders"}),s.jsx("input",{type:"number",min:"1",max:"20",value:R,onChange:z=>T(parseInt(z.target.value)),className:"w-full px-3 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-orange-500"})]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:B,className:"flex-1 px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-semibold transition-colors",disabled:O,children:"Annuleren"}),s.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white rounded-lg font-semibold shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",disabled:O,children:O?" Aanmaken...":" Team Aanmaken"})]})]})]})}):null},vj="",yj={"A+":"#FF0000",A:"#FF0000",B:"#4CAF50",C:"#0000FF",D:"#FF1493",E:"#808080"},bj=[{rank:1,name:"Diamond",min:2200,color:"#22D3EE"},{rank:2,name:"Ruby",min:1900,max:2200,color:"#EF4444"},{rank:3,name:"Emerald",min:1650,max:1900,color:"#10B981"},{rank:4,name:"Sapphire",min:1450,max:1650,color:"#3B82F6"},{rank:5,name:"Amethyst",min:1300,max:1450,color:"#A855F7"},{rank:6,name:"Platinum",min:1150,max:1300,color:"#94A3B8"},{rank:7,name:"Gold",min:1e3,max:1150,color:"#EAB308"},{rank:8,name:"Silver",min:850,max:1e3,color:"#71717A"},{rank:9,name:"Bronze",min:650,max:850,color:"#F97316"},{rank:10,name:"Copper",min:0,max:650,color:"#DC2626"}],wj=e=>e?bj.find(t=>e>=t.min&&(!t.max||e<t.max)):null;function jj({team:e,onClose:t,isDragging:r,onRemoveRider:n}){const{data:l}=er({queryKey:["team",e.team_id],queryFn:async()=>{const d=await fetch(`${vj}/api/teams/${e.team_id}`);if(!d.ok)throw new Error("Failed to fetch team");return await d.json()}}),a=(l==null?void 0:l.lineup)||[],o=e.current_riders<e.max_riders,{setNodeRef:i,isOver:c}=na({id:`sidebar-team-${e.team_id}`,data:{teamId:e.team_id,type:"team-sidebar"}});return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[99999] lg:hidden",onClick:t}),s.jsxs("div",{ref:i,className:`
          fixed z-[100000] bg-slate-900/98 backdrop-blur-lg shadow-2xl transition-all duration-300
          
          // Mobile: Bottom sheet met rounded top en safe-area support
          lg:hidden
          bottom-0 left-0 right-0
          max-h-[85vh] rounded-t-3xl
          pb-safe
          ${c&&o?"border-t-4 border-green-500 shadow-green-500/50":c&&!o?"border-t-4 border-red-500 shadow-red-500/50":"border-t-4 border-orange-500"}
            
          // Desktop: Right sidebar - Breder voor betere overzicht
          lg:block lg:right-0 lg:top-0 lg:bottom-0 lg:left-auto
          lg:w-[550px] xl:w-[600px] lg:rounded-none lg:border-t-0 lg:border-l-4
          ${c&&o?"lg:border-green-500 lg:shadow-green-500/50":c&&!o?"lg:border-red-500 lg:shadow-red-500/50":"lg:border-orange-500"}
        `,"data-sidebar-team":e.team_id,children:[s.jsx("div",{className:"lg:hidden flex justify-center pt-2 pb-1",children:s.jsx("div",{className:"w-12 h-1.5 bg-slate-600 rounded-full"})}),s.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-orange-600 to-red-600 p-3 sm:p-4 flex items-center justify-between shadow-lg z-10 lg:rounded-none rounded-t-3xl",children:[s.jsxs("div",{className:"flex-1 min-w-0 mr-2",children:[s.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold text-white truncate",children:e.team_name}),s.jsxs("p",{className:"text-xs text-orange-100 mt-0.5",children:[e.current_riders,"/",e.max_riders," riders"]})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 active:bg-white/30 rounded-lg transition-colors flex-shrink-0 min-h-[44px] min-w-[44px] flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c&&s.jsx("div",{className:`absolute inset-0 flex items-center justify-center pointer-events-none z-50 ${o?"bg-green-500/20 backdrop-blur-sm":"bg-red-500/20 backdrop-blur-sm"}`,children:s.jsxs("div",{className:"text-center p-8 rounded-xl bg-slate-900/80 border-2 border-dashed backdrop-blur-md",children:[s.jsx("p",{className:`text-3xl font-bold mb-2 ${o?"text-green-300":"text-red-300"}`,children:o?" Drop hier":" Team vol"}),o?s.jsxs("p",{className:"text-white text-lg",children:["Nog ",e.max_riders-e.current_riders," plek",e.max_riders-e.current_riders!==1?"ken":""," vrij"]}):s.jsxs("p",{className:"text-white text-lg",children:["Maximum van ",e.max_riders," riders bereikt"]})]})}),r&&o&&s.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-slate-900 via-slate-900/90 to-transparent z-[100001] pointer-events-none",children:s.jsx("div",{className:"w-full bg-green-600/90 text-white px-6 py-4 rounded-xl text-xl font-bold shadow-2xl border-2 border-green-400 animate-pulse text-center",children:" Sleep hier om toe te voegen"})}),s.jsxs("div",{className:"overflow-y-auto max-h-[calc(85vh-80px)] lg:max-h-none lg:h-[calc(100vh-80px)] p-4 pb-8",children:[r&&o&&s.jsx("div",{className:"mb-4 p-3 sm:p-4 border-2 border-dashed border-green-500 bg-green-500/10 rounded-lg animate-pulse",children:s.jsx("p",{className:"text-green-400 text-center font-semibold text-sm sm:text-base",children:" Sleep rider hierheen om toe te voegen"})}),a.length===0?s.jsx("div",{className:`h-48 flex items-center justify-center border-2 border-dashed rounded-lg transition-all ${r&&o?"border-green-500 bg-green-500/10":"border-slate-600"}`,children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-slate-400 text-sm",children:r&&o?" Drop hier om toe te voegen":"Geen riders"}),s.jsxs("p",{className:"text-slate-500 text-xs mt-1",children:["Minimaal ",e.min_riders," riders"]})]})}):s.jsx("div",{className:"space-y-3",children:a.map(d=>{const u=wj(d.velo_live||d.current_velo_rank),h=d.category,f=h&&yj[h]||"#666666",p=d.racing_ftp&&d.weight_kg?(d.racing_ftp/d.weight_kg).toFixed(2):"-";return s.jsx("div",{className:"p-3 rounded-xl border-2 bg-slate-800/80 border-slate-700 active:bg-slate-700/80 transition-all group touch-manipulation",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 sm:w-10 sm:h-10 lg:w-12 lg:h-12 rounded-full overflow-hidden bg-slate-700 flex-shrink-0 ring-2 ring-slate-600",children:d.avatar_url?s.jsx("img",{src:d.avatar_url,alt:d.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl",children:""})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm sm:text-xs lg:text-sm font-bold text-white truncate",children:d.name}),s.jsxs("div",{className:"flex items-center gap-1.5 mt-1 flex-wrap",children:[h&&s.jsx("span",{className:"text-[11px] px-2 py-1 text-white rounded-md font-bold shadow-sm",style:{backgroundColor:f},children:h}),u&&s.jsxs("span",{className:"text-[11px] px-2 py-1 rounded-md font-bold text-white shadow-sm",style:{backgroundColor:u.color},title:`${u.name} Tier`,children:["vELO ",u.rank]})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1.5 text-xs text-slate-300",children:[s.jsxs("span",{className:"font-medium",children:[d.racing_ftp||d.ftp_watts||"-","W"]}),s.jsx("span",{children:""}),s.jsxs("span",{className:"font-medium",children:[p," W/kg"]})]})]}),n&&s.jsx("button",{onClick:y=>{y.stopPropagation(),n(e.team_id,d.rider_id)},className:"opacity-100 lg:opacity-0 lg:group-hover:opacity-100 p-3 rounded-xl bg-red-500/20 active:bg-red-500/40 border-2 border-red-500/50 active:border-red-500 text-red-400 active:text-red-300 transition-all flex-shrink-0 min-h-[48px] min-w-[48px] flex items-center justify-center touch-manipulation",title:"Verwijder rider",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2.5",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})},d.rider_id)})})]})]})]})}const Nj={"A+":"bg-red-500 text-white border-red-400",A:"bg-red-600 text-white border-red-500",B:"bg-green-500 text-white border-green-400",C:"bg-blue-500 text-white border-blue-400",D:"bg-yellow-500 text-white border-yellow-400"},kj=[{rank:1,name:"Diamond",min:2200,max:null,color:"from-cyan-400 to-blue-500",textColor:"text-cyan-100"},{rank:2,name:"Ruby",min:1900,max:2200,color:"from-red-500 to-pink-600",textColor:"text-red-100"},{rank:3,name:"Emerald",min:1650,max:1900,color:"from-emerald-400 to-green-600",textColor:"text-emerald-100"},{rank:4,name:"Sapphire",min:1450,max:1650,color:"from-blue-400 to-indigo-600",textColor:"text-blue-100"},{rank:5,name:"Amethyst",min:1300,max:1450,color:"from-purple-400 to-violet-600",textColor:"text-purple-100"},{rank:6,name:"Platinum",min:1150,max:1300,color:"from-slate-300 to-slate-500",textColor:"text-slate-100"},{rank:7,name:"Gold",min:1e3,max:1150,color:"from-yellow-400 to-amber-600",textColor:"text-yellow-900"},{rank:8,name:"Silver",min:850,max:1e3,color:"from-gray-300 to-gray-500",textColor:"text-gray-700"},{rank:9,name:"Bronze",min:650,max:850,color:"from-orange-400 to-orange-700",textColor:"text-orange-900"},{rank:10,name:"Copper",min:0,max:650,color:"from-orange-600 to-red-800",textColor:"text-orange-100"}],wh=e=>e?kj.find(t=>e>=t.min&&(!t.max||e<t.max)):null;function _j({hideHeader:e=!1}){const[t,r]=m.useState(!1),[n,l]=m.useState(()=>{const _=localStorage.getItem("favoriteTeams");return _?new Set(JSON.parse(_)):new Set}),[a,o]=m.useState("name"),[i,c]=m.useState(null),[d,u]=m.useState(null),[h,f]=m.useState(null),p=Yl(),y=Dp(So(ti,{activationConstraint:{distance:5}}),So(mu,{activationConstraint:{delay:100,tolerance:10}}));m.useEffect(()=>{localStorage.setItem("favoriteTeams",JSON.stringify(Array.from(n)))},[n]);const{data:j,isLoading:w}=er({queryKey:["teams"],queryFn:async()=>{const _=await fetch("/api/teams");if(!_.ok)throw new Error("Failed to fetch teams");return(await _.json()).teams||[]}}),x=[...j||[]].sort((_,S)=>{const C=n.has(_.team_id),$=n.has(S.team_id);if(C&&!$)return-1;if(!C&&$)return 1;if(a==="name")return _.team_name.localeCompare(S.team_name);if(a==="riders")return S.current_riders-_.current_riders;if(a==="status"){const B={ready:0,warning:1,incomplete:2,overfilled:3};return B[_.team_status]-B[S.team_status]}return 0}),v=_=>{l(S=>{const C=new Set(S);return C.has(_)?C.delete(_):C.add(_),C})},b=ir({mutationFn:async({teamId:_,riderId:S})=>{const C=await fetch(`/api/teams/${_}/riders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rider_id:S})});if(!C.ok){const $=await C.json();throw new Error($.error||"Failed to add rider")}return C.json()},onSuccess:(_,{teamId:S})=>{p.invalidateQueries({queryKey:["teams"]}),p.invalidateQueries({queryKey:["team",S]}),p.invalidateQueries({queryKey:["team-lineup",S]}),p.invalidateQueries({queryKey:["riders"]}),q.success("Rider toegevoegd aan team!")},onError:_=>{q.error(_.message)}}),R=ir({mutationFn:async({teamId:_,riderId:S})=>{const C=await fetch(`/api/teams/${_}/riders/${S}`,{method:"DELETE"});if(!C.ok){const $=await C.json();throw new Error($.error||"Failed to remove rider")}return C.json()},onSuccess:(_,{teamId:S})=>{p.invalidateQueries({queryKey:["teams"]}),p.invalidateQueries({queryKey:["team",S]}),q.success("Rider verwijderd uit team!")},onError:_=>{q.error(_.message)}}),T=m.useCallback(_=>{u(_.active.data.current||null)},[]),O=m.useCallback(_=>{const{active:S,over:C}=_;if(console.log("handleDndDragEnd called",{active:S.id,over:C==null?void 0:C.id,draggedRider:d}),!C){d&&q.success(`${d.racing_name||d.full_name} - drag geannuleerd`,{duration:2e3,icon:""}),u(null);return}if(!d){u(null);return}let $=null;typeof C.id=="string"?C.id.startsWith("team-")?$=Number(C.id.replace("team-","")):C.id.startsWith("sidebar-team-")&&($=Number(C.id.replace("sidebar-team-",""))):$=Number(C.id),$&&(console.log("Adding rider to team",{teamId:$,riderId:d.rider_id}),b.mutate({teamId:$,riderId:d.rider_id})),u(null)},[d,b]);return s.jsx(Gp,{sensors:y,collisionDetection:Pp,onDragStart:T,onDragEnd:O,children:s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-950 to-indigo-950",children:[!e&&s.jsxs("div",{className:"relative overflow-hidden mb-4 sm:mb-6",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-600 via-blue-600 to-orange-500 opacity-95"}),s.jsx("div",{className:"relative px-3 py-4 sm:px-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-lg rounded-xl shadow-xl flex-shrink-0",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:" Team Lineup"}),s.jsx("p",{className:"text-orange-100 text-sm font-semibold mt-0.5",children:"TeamNL Cloud9 Racing"})]})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-lg rounded-lg px-3 py-2 border border-white/20",children:[s.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}),s.jsxs("select",{value:a,onChange:_=>o(_.target.value),className:"bg-transparent text-white text-sm font-semibold cursor-pointer focus:outline-none",children:[s.jsx("option",{value:"name",className:"bg-gray-900",children:"Naam"}),s.jsx("option",{value:"riders",className:"bg-gray-900",children:"Riders"}),s.jsx("option",{value:"status",className:"bg-gray-900",children:"Status"})]})]})})]})})})]}),s.jsx("div",{className:"max-w-7xl mx-auto p-3 sm:p-4 lg:p-6 transition-all duration-300",children:w?s.jsxs("div",{className:"text-center text-gray-600 py-12",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),s.jsx("p",{className:"mt-4",children:"Teams laden..."})]}):x.length===0?s.jsxs("div",{className:"text-center text-gray-600 py-12",children:[s.jsx("p",{className:"text-xl mb-4",children:"Geen teams gevonden"}),s.jsx("button",{onClick:()=>window.location.pathname="/team-competition",className:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white rounded-lg font-semibold shadow-lg",children:"+ Nieuw Team Aanmaken"})]}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"space-y-6",children:x.map(_=>s.jsx(Cj,{team:_,isFavorite:n.has(_.team_id),toggleFavorite:v,isExpanded:_.team_id===h,onToggleExpand:()=>{f(h===_.team_id?null:_.team_id)}},_.team_id))})})}),h&&x.find(_=>_.team_id===h)&&s.jsx(jj,{team:x.find(_=>_.team_id===h),onClose:()=>f(null),isDragging:d!==null,onRemoveRider:(_,S)=>{R.mutate({teamId:_,riderId:S})}}),i&&s.jsx("div",{className:"fixed right-0 top-0 bottom-0 z-[100]",children:s.jsx(xj,{teamId:i,onClose:()=>c(null)})}),s.jsx(gj,{isOpen:t,onClose:()=>r(!1),onTeamCreated:()=>{p.invalidateQueries({queryKey:["teams"]}),r(!1)}}),s.jsx(Zp,{children:d?s.jsxs("div",{className:"bg-blue-600 text-white px-4 py-3 rounded-lg shadow-2xl border-2 border-blue-400 opacity-90",children:[s.jsx("div",{className:"font-bold",children:d.racing_name||d.full_name}),s.jsxs("div",{className:"text-sm",children:[d.zwiftracing_category||d.zwift_official_category,"  vELO ",d.velo_live]})]}):null})]})})}function Cj({team:e,isFavorite:t,toggleFavorite:r,isExpanded:n,onToggleExpand:l}){const[a,o]=m.useState("matrix"),[i,c]=m.useState("compact"),{data:d,isLoading:u}=er({queryKey:["team-lineup",e.team_id],queryFn:async()=>{const p=await fetch(`/api/teams/${e.team_id}`);if(!p.ok)throw new Error("Failed to fetch lineup");const y=await p.json();return y.lineup&&y.lineup.length>0&&console.log(` Team ${e.team_name} - First rider:`,{name:y.lineup[0].name,velo_live:y.lineup[0].velo_live,velo_30day:y.lineup[0].velo_30day,racing_ftp:y.lineup[0].racing_ftp,weight_kg:y.lineup[0].weight_kg,allFields:Object.keys(y.lineup[0])}),y},enabled:n}),h=((d==null?void 0:d.lineup)||[]).map((p,y)=>({...p,lineup_position:p.lineup_position||y+1})),f={ready:"bg-green-500/20 text-green-300 border-green-500/50",incomplete:"bg-yellow-500/20 text-yellow-300 border-yellow-500/50",warning:"bg-orange-500/20 text-orange-300 border-orange-500/50",overfilled:"bg-red-500/20 text-red-300 border-red-500/50"}[e.team_status];return s.jsxs("div",{className:`bg-gradient-to-br from-blue-900/80 to-indigo-950/80 backdrop-blur rounded-xl shadow-xl transition-all duration-300 overflow-hidden ${n?"border-2 border-orange-400 shadow-orange-500/30 shadow-2xl ring-2 ring-orange-500/20":"border border-orange-500/30 hover:border-orange-400/50 hover:shadow-2xl"}`,children:[s.jsxs("div",{className:"p-3 sm:p-4 lg:p-6 relative",children:[s.jsxs("button",{onClick:()=>l==null?void 0:l(),className:`w-full flex items-center justify-between rounded-lg p-2 sm:p-3 -m-2 sm:-m-3 transition-all duration-200 ${n?"bg-orange-500/10":"hover:bg-white/5"}`,children:[s.jsxs("div",{className:"text-left flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-1",children:[s.jsx("button",{onClick:p=>{p.stopPropagation(),r(e.team_id)},className:"flex-shrink-0 w-8 h-8 sm:w-8 sm:h-8 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20 transition-all hover:scale-110 min-h-[44px] min-w-[44px] sm:min-h-0 sm:min-w-0",title:t?"Verwijder van favorieten":"Toevoegen aan favorieten",children:s.jsx("span",{className:`text-lg sm:text-xl transition-transform ${t?"scale-110":""}`,children:t?"":""})}),s.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-white truncate flex-1",children:e.team_name}),s.jsx("span",{className:`px-2 sm:px-3 py-0.5 sm:py-1 rounded-lg text-[10px] sm:text-xs font-bold border ${f} whitespace-nowrap flex-shrink-0`,children:e.current_riders})]}),s.jsx("p",{className:"text-gray-400 text-xs sm:text-sm truncate",children:e.competition_name}),s.jsx("div",{className:"flex items-center gap-2 sm:gap-3 mt-1 sm:mt-2",children:s.jsx("span",{className:"text-[10px] sm:text-xs font-semibold text-gray-500 uppercase",children:e.competition_type==="velo"?" vELO":" Cat"})})]}),s.jsx("div",{className:`text-white text-xl sm:text-2xl flex-shrink-0 ml-2 sm:ml-4 transition-all duration-300 ${n?"rotate-90 text-orange-400":"text-gray-400 group-hover:text-white"}`,children:""})]}),n&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3 mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-1 bg-white/10 backdrop-blur-lg rounded-lg p-1 border border-white/20",children:[s.jsx("button",{onClick:p=>{p.stopPropagation(),o("matrix")},className:`flex-1 sm:flex-initial px-2 sm:px-3 py-2 sm:py-1.5 rounded-md text-[10px] sm:text-xs font-semibold transition-all min-h-[44px] sm:min-h-0 flex items-center justify-center ${a==="matrix"?"bg-orange-500 text-white shadow-md":"text-white/70 hover:text-white hover:bg-white/5"}`,children:" Matrix"}),s.jsx("button",{onClick:p=>{p.stopPropagation(),o("passports")},className:`flex-1 sm:flex-initial px-2 sm:px-3 py-2 sm:py-1.5 rounded-md text-[10px] sm:text-xs font-semibold transition-all min-h-[44px] sm:min-h-0 flex items-center justify-center ${a==="passports"?"bg-orange-500 text-white shadow-md":"text-white/70 hover:text-white hover:bg-white/5"}`,children:" Passports"})]}),a==="passports"&&s.jsxs("div",{className:"flex items-center gap-1 bg-white/10 backdrop-blur-lg rounded-lg p-1 border border-white/20",children:[s.jsx("button",{onClick:p=>{p.stopPropagation(),c("compact")},className:`flex-1 sm:flex-initial px-2 sm:px-3 py-2 sm:py-1.5 rounded-md text-[10px] sm:text-xs font-semibold transition-all min-h-[44px] sm:min-h-0 flex items-center justify-center ${i==="compact"?"bg-blue-500 text-white shadow-md":"text-white/70 hover:text-white hover:bg-white/5"}`,children:" Compact"}),s.jsx("button",{onClick:p=>{p.stopPropagation(),c("full")},className:`flex-1 sm:flex-initial px-2 sm:px-3 py-2 sm:py-1.5 rounded-md text-[10px] sm:text-xs font-semibold transition-all min-h-[44px] sm:min-h-0 flex items-center justify-center ${i==="full"?"bg-blue-500 text-white shadow-md":"text-white/70 hover:text-white hover:bg-white/5"}`,children:" Full"})]})]})]}),s.jsx("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${n?"max-h-[5000px] opacity-100":"max-h-0 opacity-0"}`,children:s.jsx("div",{className:"px-6 pb-6 pt-2 border-t border-orange-500/20",children:u?s.jsxs("div",{className:"text-center text-gray-400 py-8",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-orange-500"}),s.jsx("p",{className:"mt-3",children:"Riders laden..."})]}):!h||!Array.isArray(h)||h.length===0?s.jsx("div",{className:"text-center text-gray-400 py-8",children:s.jsx("p",{children:"Nog geen riders toegevoegd"})}):a==="passports"?i==="full"?s.jsx(Sj,{lineup:h}):s.jsx(Ej,{lineup:h}):s.jsx(Rj,{lineup:h})})})]})}function Sj({lineup:e}){const[t,r]=m.useState(new Set),[n,l]=m.useState({}),a=u=>u?u>=2200?{tier:1,name:"Diamond",color:"#00D4FF",border:"#0099CC"}:u>=1900?{tier:2,name:"Ruby",color:"#E61E50",border:"#B30F3A"}:u>=1650?{tier:3,name:"Emerald",color:"#50C878",border:"#2E9356"}:u>=1450?{tier:4,name:"Sapphire",color:"#0F52BA",border:"#0A3680"}:u>=1300?{tier:5,name:"Amethyst",color:"#9966CC",border:"#6B4A99"}:u>=1150?{tier:6,name:"Platinum",color:"#E5E4E2",border:"#B8B7B5"}:u>=1e3?{tier:7,name:"Gold",color:"#FFD700",border:"#CCA700"}:u>=850?{tier:8,name:"Silver",color:"#C0C0C0",border:"#8C8C8C"}:u>=650?{tier:9,name:"Bronze",color:"#CD7F32",border:"#995F26"}:{tier:10,name:"Copper",color:"#B87333",border:"#8B5A1F"}:{tier:10,name:"Copper",color:"#B87333",border:"#8B5A1F"},o=u=>({"A+":"#FF0000",A:"#FF0000",B:"#4CAF50",C:"#0000FF",D:"#FF1493",E:"#808080"})[u]||"#666",i=u=>{const f={NLD:"nl",BEL:"be",GBR:"gb",USA:"us",DEU:"de",FRA:"fr",ITA:"it",ESP:"es",AUS:"au",CAN:"ca",DNK:"dk",SWE:"se",NOR:"no",FIN:"fi",POL:"pl"}[u==null?void 0:u.toUpperCase()];return f?`https://flagcdn.com/w80/${f}.png`:null},c=u=>{r(h=>{const f=new Set(h);return f.has(u)?f.delete(u):f.add(u),f})};m.useEffect(()=>{const u={};e.forEach(h=>{const f=a(h.current_velo_rank||h.velo_live||null);if(!f)return;const p=f.tier;u[p]||(u[p]={power_5s:0,power_15s:0,power_30s:0,power_60s:0,power_120s:0,power_300s:0,power_1200s:0}),u[p].power_5s=Math.max(u[p].power_5s,h.power_5s||0),u[p].power_15s=Math.max(u[p].power_15s,h.power_15s||0),u[p].power_30s=Math.max(u[p].power_30s,h.power_30s||0),u[p].power_60s=Math.max(u[p].power_60s,h.power_60s||0),u[p].power_120s=Math.max(u[p].power_120s,h.power_120s||0),u[p].power_300s=Math.max(u[p].power_300s,h.power_300s||0),u[p].power_1200s=Math.max(u[p].power_1200s,h.power_1200s||0)}),l(u)},[e]),m.useEffect(()=>{const u=[];return[50,150,300].forEach(h=>{const f=setTimeout(()=>{t.forEach(p=>{const y=document.getElementById(`spider-${p}`);if(y){const j=e.find(w=>w.rider_id===p);j&&d(y,j)}})},h);u.push(f)}),()=>u.forEach(h=>clearTimeout(h))},[t,e,n]);const d=(u,h)=>{setTimeout(()=>{if(!u)return;const f=u.getContext("2d");if(!f)return;const p=u.width,y=u.height,j=p/2,w=y/2,g=Math.min(p,y)/2-20,x=a(h.current_velo_rank||h.velo_live||null);if(!x)return;const v=x.tier,b=n[v]||{power_5s:1500,power_15s:1200,power_30s:1e3,power_60s:800,power_120s:600,power_300s:500,power_1200s:400},R=[{label:"5s",value:h.power_5s||0,max:b.power_5s||1},{label:"15s",value:h.power_15s||0,max:b.power_15s||1},{label:"30s",value:h.power_30s||0,max:b.power_30s||1},{label:"1m",value:h.power_60s||0,max:b.power_60s||1},{label:"2m",value:h.power_120s||0,max:b.power_120s||1},{label:"5m",value:h.power_300s||0,max:b.power_300s||1},{label:"20m",value:h.power_1200s||0,max:b.power_1200s||1}],T=R.length,O=Math.PI*2/T;f.clearRect(0,0,p,y),f.strokeStyle="rgba(255, 255, 255, 0.2)",f.lineWidth=1;for(let _=1;_<=5;_++)f.beginPath(),f.arc(j,w,g*_/5,0,Math.PI*2),f.stroke();f.strokeStyle="rgba(255, 255, 255, 0.3)",R.forEach((_,S)=>{const C=S*O-Math.PI/2,$=j+Math.cos(C)*g,B=w+Math.sin(C)*g;f.beginPath(),f.moveTo(j,w),f.lineTo($,B),f.stroke();const U=j+Math.cos(C)*(g+15),z=w+Math.sin(C)*(g+15);f.fillStyle="#FFD700",f.font="bold 10px sans-serif",f.textAlign="center",f.textBaseline="middle",f.fillText(R[S].label,U,z)}),f.beginPath(),R.forEach((_,S)=>{const C=S*O-Math.PI/2,$=Math.min((_.value||0)/_.max,1),B=g*$,U=j+Math.cos(C)*B,z=w+Math.sin(C)*B;S===0?f.moveTo(U,z):f.lineTo(U,z)}),f.closePath(),f.fillStyle="rgba(255, 215, 0, 0.3)",f.fill(),f.strokeStyle="#FFD700",f.lineWidth=2,f.stroke(),R.forEach((_,S)=>{const C=S*O-Math.PI/2,$=Math.min((_.value||0)/_.max,1),B=g*$,U=j+Math.cos(C)*B,z=w+Math.sin(C)*B;f.beginPath(),f.arc(U,z,4,0,Math.PI*2),f.fillStyle="#FFD700",f.fill()})},100)};return s.jsx("div",{className:"overflow-x-auto pb-4 scroll-smooth",children:s.jsx("div",{className:"flex gap-6 px-2",style:{minWidth:"min-content"},children:e.map(u=>{const h=a(u.current_velo_rank||u.velo_live||null),f=u.category||"D",p=o(f),y=u.racing_ftp&&u.weight_kg?(u.racing_ftp/u.weight_kg).toFixed(1):"-",j=Math.floor(u.current_velo_rank||u.velo_live||0),w=Math.floor(u.velo_30day||j),g=t.has(u.rider_id),x=i(u.country_alpha3||""),v=u.height_cm?Math.round(u.height_cm):"-";return s.jsx("div",{className:"flex-shrink-0 cursor-pointer",style:{width:"300px",perspective:"1000px"},onClick:()=>c(u.rider_id),children:s.jsxs("div",{className:"relative w-full h-[520px] transition-transform duration-700",style:{transformStyle:"preserve-3d",transform:g?"rotateY(180deg)":"rotateY(0deg)"},children:[s.jsxs("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-br from-gray-900 to-blue-900 border-4 border-orange-400 shadow-xl p-2",style:{backfaceVisibility:"hidden"},children:[s.jsxs("div",{className:"h-16 rounded-t-lg relative mb-12",style:{background:h?`linear-gradient(135deg, ${h.color} 0%, ${h.border} 100%)`:"#666",clipPath:"polygon(0 0, 100% 0, 100% 85%, 0 100%)"},children:[s.jsx("div",{className:"absolute top-2 left-3 w-10 h-10 rounded-full flex items-center justify-center border-3",style:{background:(h==null?void 0:h.color)||"#666",borderColor:(h==null?void 0:h.border)||"#fff",borderWidth:"3px",borderStyle:"solid"},title:h==null?void 0:h.name,children:s.jsx("span",{className:"text-2xl font-black text-white drop-shadow-lg",children:(h==null?void 0:h.tier)||"?"})}),s.jsx("div",{className:"absolute top-2 left-14 w-10 h-10 rounded-full flex items-center justify-center border-3 border-white",style:{background:p},children:s.jsx("span",{className:"text-2xl font-black text-white drop-shadow-lg",children:f})}),s.jsxs("div",{className:"absolute top-2 right-3 text-center",children:[s.jsx("div",{className:"text-xs font-bold text-gray-900 uppercase",children:"ZRS"}),s.jsx("div",{className:"text-lg font-black text-gray-900",children:u.zwift_official_racing_score||"-"})]})]}),s.jsx("img",{src:u.avatar_url||"https://via.placeholder.com/100?text=No+Avatar",alt:u.name,className:"absolute top-12 left-1/2 -translate-x-1/2 w-20 h-20 rounded-full border-3 border-orange-400 object-cover bg-gray-700 shadow-xl",onError:b=>{b.currentTarget.src="https://via.placeholder.com/100?text=No+Avatar"}}),s.jsxs("div",{className:"text-center mb-2 mt-3",children:[s.jsx("h2",{className:"text-sm font-black text-white uppercase drop-shadow-lg mb-1 px-1 leading-tight",children:u.name||u.full_name||"Unknown"}),s.jsx("div",{className:"flex items-center justify-center gap-1",children:x&&s.jsx("img",{src:x,alt:u.country_alpha3||"",className:"w-8 h-6 rounded shadow"})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3 px-2",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-2 text-center border border-white/20",children:[s.jsx("div",{className:"text-xs text-yellow-400 font-bold uppercase leading-tight",children:"zFTP"}),s.jsxs("div",{className:"text-lg font-black text-white",children:[u.racing_ftp||"-",s.jsx("span",{className:"text-sm text-white/70",children:"W"})]})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-2 text-center border border-white/20",children:[s.jsx("div",{className:"text-xs text-yellow-400 font-bold uppercase leading-tight",children:"Wgt"}),s.jsxs("div",{className:"text-lg font-black text-white",children:[u.weight_kg||"-",s.jsx("span",{className:"text-sm text-white/70",children:"kg"})]})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-2 text-center border border-white/20",children:[s.jsx("div",{className:"text-xs text-yellow-400 font-bold uppercase leading-tight",children:"W/kg"}),s.jsx("div",{className:"text-lg font-black text-white",children:y})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-2 text-center border border-white/20",children:[s.jsx("div",{className:"text-xs text-yellow-400 font-bold uppercase leading-tight",children:"Hgt"}),s.jsxs("div",{className:"text-lg font-black text-white",children:[v,s.jsx("span",{className:"text-sm text-white/70",children:"cm"})]})]}),s.jsx("div",{}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-2 text-center border border-white/20",children:[s.jsx("div",{className:"text-xs text-yellow-400 font-bold uppercase leading-tight",children:"Age"}),s.jsxs("div",{className:"text-lg font-black text-white",children:[u.age||"-",s.jsx("span",{className:"text-sm text-white/70",children:"yr"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 px-2 mb-3",children:[s.jsxs("div",{className:"rounded-lg p-2 text-center border-2",style:{background:"rgba(255,255,255,0.1)",borderColor:(h==null?void 0:h.color)||"#666"},children:[s.jsx("div",{className:"text-xs font-bold uppercase",style:{color:(h==null?void 0:h.color)||"#999"},children:"Velo Live"}),s.jsx("div",{className:"text-lg font-black text-white",children:j||"-"})]}),s.jsxs("div",{className:"rounded-lg p-2 text-center border-2",style:{background:"rgba(255,255,255,0.1)",borderColor:(h==null?void 0:h.color)||"#666"},children:[s.jsx("div",{className:"text-xs font-bold uppercase",style:{color:(h==null?void 0:h.color)||"#999"},children:"Velo 30d"}),s.jsx("div",{className:"text-lg font-black text-white",children:w||"-"})]})]}),u.phenotype&&s.jsxs("div",{className:"mx-2 mb-3 bg-white/10 rounded-lg p-3 border border-white/20 text-center",children:[s.jsx("div",{className:"text-xs text-yellow-400 font-bold uppercase",children:"Phenotype"}),s.jsx("div",{className:"text-lg font-bold text-white capitalize",children:u.phenotype})]}),s.jsx("div",{className:"text-center text-xs text-yellow-400/80 uppercase tracking-wide font-bold mt-auto mb-2",children:" Klik voor intervals"})]}),s.jsxs("div",{className:"absolute w-full h-full backface-hidden rounded-xl bg-gradient-to-br from-gray-900 to-blue-900 border-4 border-orange-400 shadow-xl p-3 flex flex-col",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:[s.jsx("h3",{className:"text-yellow-400 text-base font-black uppercase mb-2 tracking-wide text-center",children:"Power Profile"}),s.jsx("div",{className:"flex justify-center mb-3",children:s.jsx("canvas",{ref:b=>{b&&g&&requestAnimationFrame(()=>{d(b,u)})},id:`spider-${u.rider_id}`,width:"240",height:"200",className:"spider-chart","data-rider-id":u.rider_id})}),s.jsx("div",{className:"grid grid-cols-2 gap-1.5 px-3",children:[{label:"5s",power:u.power_5s,wkg:u.power_5s_wkg},{label:"15s",power:u.power_15s,wkg:u.power_15s_wkg},{label:"30s",power:u.power_30s,wkg:u.power_30s_wkg},{label:"1m",power:u.power_60s,wkg:u.power_60s_wkg},{label:"2m",power:u.power_120s,wkg:u.power_120s_wkg},{label:"5m",power:u.power_300s,wkg:u.power_300s_wkg},{label:"20m",power:u.power_1200s,wkg:u.power_1200s_wkg}].map(b=>s.jsxs("div",{className:"bg-white/10 border border-white/20 rounded p-1.5 text-center",children:[s.jsx("div",{className:"text-[10px] text-yellow-400 font-bold leading-tight",children:b.label}),s.jsx("div",{className:"text-xs font-black text-white leading-tight mt-0.5",children:b.power?Math.round(b.power)+"W":"-"}),s.jsx("div",{className:"text-[10px] text-yellow-400/80 font-black leading-tight",children:b.wkg?b.wkg.toFixed(1):"-"})]},b.label))})]})]})},u.rider_id)})})})}function Ej({lineup:e}){const t=n=>n?n>=2200?{tier:1,name:"Diamond",color:"#00D4FF",border:"#0099CC"}:n>=1900?{tier:2,name:"Ruby",color:"#E61E50",border:"#B30F3A"}:n>=1650?{tier:3,name:"Emerald",color:"#50C878",border:"#2E9356"}:n>=1450?{tier:4,name:"Sapphire",color:"#0F52BA",border:"#0A3680"}:n>=1300?{tier:5,name:"Amethyst",color:"#9966CC",border:"#6B4A99"}:n>=1150?{tier:6,name:"Platinum",color:"#E5E4E2",border:"#B8B7B5"}:n>=1e3?{tier:7,name:"Gold",color:"#FFD700",border:"#CCA700"}:n>=850?{tier:8,name:"Silver",color:"#C0C0C0",border:"#8C8C8C"}:n>=650?{tier:9,name:"Bronze",color:"#CD7F32",border:"#995F26"}:{tier:10,name:"Copper",color:"#B87333",border:"#8B5A1F"}:{tier:10,name:"Copper",color:"#B87333",border:"#8B5A1F"},r=n=>({"A+":"#FF0000",A:"#FF0000",B:"#4CAF50",C:"#0000FF",D:"#FF1493",E:"#808080"})[n]||"#666";return s.jsx("div",{className:"overflow-x-auto pb-4 scroll-smooth",children:s.jsx("div",{className:"flex gap-4 px-2",style:{minWidth:"min-content"},children:e.map(n=>{const l=Math.floor(n.current_velo_rank||n.velo_live||0),a=t(l),o=n.category||"D",i=r(o),c=n.racing_ftp&&n.weight_kg?(n.racing_ftp/n.weight_kg).toFixed(1):"-";return s.jsxs("div",{className:"flex-shrink-0 w-[220px] bg-gradient-to-br from-gray-900 to-blue-900 border-2 border-orange-400 rounded-lg shadow-lg overflow-hidden relative",children:[s.jsxs("div",{className:"h-12 rounded-t-lg relative mb-8",style:{background:a?`linear-gradient(135deg, ${a.color} 0%, ${a.border} 100%)`:"#666",clipPath:"polygon(0 0, 100% 0, 100% 85%, 0 100%)"},children:[s.jsx("div",{className:"absolute top-2 left-2 w-8 h-8 rounded-full flex items-center justify-center border-2",style:{background:(a==null?void 0:a.color)||"#666",borderColor:(a==null?void 0:a.border)||"#fff"},title:a==null?void 0:a.name,children:s.jsx("span",{className:"text-sm font-black text-white drop-shadow-lg",children:(a==null?void 0:a.tier)||"?"})}),s.jsx("div",{className:"absolute top-2 left-11 w-8 h-8 rounded-full flex items-center justify-center border-2 border-white",style:{background:i},children:s.jsx("span",{className:"text-sm font-black text-white drop-shadow-lg",children:o})}),s.jsxs("div",{className:"absolute top-2 right-2 text-center",children:[s.jsx("div",{className:"text-[10px] font-bold text-gray-900 uppercase",children:"ZRS"}),s.jsx("div",{className:"text-sm font-black text-gray-900",children:n.zwift_official_racing_score||"-"})]})]}),s.jsx("img",{src:n.avatar_url||"https://via.placeholder.com/60?text=No+Avatar",alt:n.name,className:"absolute top-9 left-1/2 -translate-x-1/2 w-16 h-16 rounded-full border-2 border-orange-400 object-cover bg-gray-700 shadow-xl z-10",onError:d=>{d.currentTarget.src="https://via.placeholder.com/60?text=No+Avatar"}}),s.jsx("div",{className:"text-center px-2 mb-2 mt-1 relative z-20",children:s.jsx("h3",{className:"text-xs font-bold text-white leading-tight truncate drop-shadow-lg",children:n.name||n.full_name||"Unknown"})}),s.jsxs("div",{className:"grid grid-cols-3 gap-1 px-2 pb-2",children:[s.jsxs("div",{className:"bg-white/10 rounded p-1 text-center",children:[s.jsx("div",{className:"text-[9px] text-yellow-400 font-bold",children:"FTP"}),s.jsx("div",{className:"text-xs font-black text-white",children:n.racing_ftp||n.ftp_watts||"-"})]}),s.jsxs("div",{className:"bg-white/10 rounded p-1 text-center",children:[s.jsx("div",{className:"text-[9px] text-yellow-400 font-bold",children:"W/kg"}),s.jsx("div",{className:"text-xs font-black text-white",children:c})]}),s.jsxs("div",{className:"bg-white/10 rounded p-1 text-center border",style:{borderColor:(a==null?void 0:a.color)||"#666"},children:[s.jsx("div",{className:"text-[9px] font-bold",style:{color:(a==null?void 0:a.color)||"#999"},children:"vELO"}),s.jsx("div",{className:"text-xs font-black text-white",children:l||"-"})]})]}),n.phenotype&&s.jsx("div",{className:"px-2 pb-2",children:s.jsx("div",{className:"bg-purple-500/20 rounded px-2 py-1 text-center",children:s.jsx("span",{className:"text-[10px] font-bold text-purple-300",children:n.phenotype})})})]},n.rider_id)})})})}function Rj({lineup:e}){const[t,r]=m.useState("position"),[n,l]=m.useState("asc"),a=c=>{t===c?l(d=>d==="asc"?"desc":"asc"):(r(c),l("asc"))},o=[...e].sort((c,d)=>{let u=0;const h={"A+":0,A:1,B:2,C:3,D:4};if(t==="position")u=(c.lineup_position||999)-(d.lineup_position||999);else if(t==="name")u=(c.name||"").localeCompare(d.name||"");else if(t==="category"){const f=h[c.category||"D"]??5,p=h[d.category||"D"]??5;u=f-p}else if(t==="veloLive"){const f=c.velo_live||c.current_velo_rank||0;u=(d.velo_live||d.current_velo_rank||0)-f}else if(t==="velo30day"){const f=c.velo_30day||0;u=(d.velo_30day||0)-f}else if(t==="ftp"){const f=c.racing_ftp||c.ftp_watts||0;u=(d.racing_ftp||d.ftp_watts||0)-f}else if(t==="zrs"){const f=c.zwift_official_racing_score||0;u=(d.zwift_official_racing_score||0)-f}else t==="phenotype"&&(u=(c.phenotype||"").localeCompare(d.phenotype||""));return n==="asc"?u:-u}),i=({label:c,sortKeyValue:d,align:u="left",colSpan:h})=>s.jsx("th",{onClick:()=>a(d),className:`px-3 py-2 text-${u} text-xs font-semibold text-gray-400 uppercase cursor-pointer hover:text-orange-400 transition-colors select-none`,colSpan:h,children:s.jsxs("div",{className:`flex items-center gap-1 ${u==="center"?"justify-center":""}`,children:[c,t===d&&s.jsx("span",{className:"text-orange-400",children:n==="asc"?"":""})]})});return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsxs("thead",{children:[s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx(i,{label:"#",sortKeyValue:"position"}),s.jsx(i,{label:"Rider",sortKeyValue:"name"}),s.jsx(i,{label:"Cat",sortKeyValue:"category",align:"center"}),s.jsx(i,{label:"vELO Live",sortKeyValue:"veloLive",align:"center"}),s.jsx(i,{label:"vELO 30-day",sortKeyValue:"velo30day",align:"center"}),s.jsx(i,{label:"zFTP",sortKeyValue:"ftp",align:"center",colSpan:2}),s.jsx(i,{label:"ZRS",sortKeyValue:"zrs",align:"center"}),s.jsx(i,{label:"Phenotype",sortKeyValue:"phenotype",align:"center"})]}),s.jsxs("tr",{className:"border-b border-gray-700/50",children:[s.jsx("th",{colSpan:5}),s.jsx("th",{className:"px-3 py-1 text-right text-[10px] font-medium text-gray-500 uppercase",children:"FTP (W)"}),s.jsx("th",{className:"px-3 py-1 text-right text-[10px] font-medium text-gray-500 uppercase",children:"W/kg"}),s.jsx("th",{colSpan:2})]})]}),s.jsx("tbody",{children:o.map(c=>s.jsx(Mj,{rider:c},c.rider_id))})]})})}function Mj({rider:e}){const t=e.velo_live||e.current_velo_rank||0,r=e.velo_30day||t,n=e.racing_ftp||e.ftp_watts,l=wh(t),a=wh(r),o=Nj[e.category]||"bg-gray-500 text-white border-gray-400",i=n&&e.weight_kg?(n/e.weight_kg).toFixed(1):null;return s.jsxs("tr",{className:"border-b border-gray-700/30 hover:bg-blue-900/30 transition-colors",children:[s.jsx("td",{className:"px-3 py-3 text-center",children:s.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center font-bold text-white text-sm shadow-md",children:e.lineup_position})}),s.jsx("td",{className:"px-3 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:e.avatar_url||`https://ui-avatars.com/api/?name=${e.rider_id}&background=3b82f6&color=fff&size=40`,alt:e.name,className:"w-10 h-10 rounded-full border-2 border-gray-600 shadow-md flex-shrink-0",onError:c=>{c.currentTarget.src=`https://ui-avatars.com/api/?name=${e.rider_id}&background=3b82f6&color=fff&size=40`}}),s.jsx("span",{className:"font-semibold text-white",children:e.name||e.full_name})]})}),s.jsx("td",{className:"px-3 py-3 text-center",children:s.jsx("span",{className:`inline-block px-3 py-1 text-sm font-bold rounded border ${o}`,children:e.category})}),s.jsx("td",{className:"px-3 py-3 text-center",children:s.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-gradient-to-br ${(l==null?void 0:l.color)||"from-gray-400 to-gray-600"} shadow-md`,children:[s.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/30 backdrop-blur-sm border-2 border-white/50",children:s.jsx("span",{className:"font-black text-xs text-white",children:(l==null?void 0:l.rank)||"?"})}),s.jsxs("div",{className:"flex flex-col gap-0.5",children:[s.jsx("span",{className:`font-bold text-sm leading-none ${(l==null?void 0:l.textColor)||"text-white"}`,children:t?Math.floor(t):"N/A"}),l&&l.max&&t&&s.jsx("div",{className:"w-12 h-1 bg-black/20 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-white/60 rounded-full transition-all",style:{width:`${Math.min(100,(t-l.min)/(l.max-l.min)*100)}%`}})})]})]})}),s.jsx("td",{className:"px-3 py-3 text-center",children:s.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-gradient-to-br ${(a==null?void 0:a.color)||"from-gray-400 to-gray-600"} shadow-md`,children:[s.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/30 backdrop-blur-sm border-2 border-white/50",children:s.jsx("span",{className:"font-black text-xs text-white",children:(a==null?void 0:a.rank)||"?"})}),s.jsxs("div",{className:"flex flex-col gap-0.5",children:[s.jsx("span",{className:`font-bold text-sm leading-none ${(a==null?void 0:a.textColor)||"text-white"}`,children:r?Math.floor(r):"N/A"}),a&&a.max&&r&&s.jsx("div",{className:"w-12 h-1 bg-black/20 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-white/60 rounded-full transition-all",style:{width:`${Math.min(100,(r-a.min)/(a.max-a.min)*100)}%`}})})]})]})}),s.jsx("td",{className:"px-3 py-3 text-right",children:s.jsx("span",{className:"text-white font-semibold",children:n||"-"})}),s.jsx("td",{className:"px-3 py-3 text-right",children:s.jsx("span",{className:"text-white font-semibold",children:i||"-"})}),s.jsx("td",{className:"px-3 py-3 text-center",children:s.jsx("span",{className:"text-white font-semibold",children:e.zwift_official_racing_score||"-"})}),s.jsx("td",{className:"px-3 py-3 text-center",children:e.phenotype?s.jsx("span",{className:"inline-block px-3 py-1 bg-purple-500/20 text-purple-300 rounded border border-purple-500/30 text-sm font-semibold",children:e.phenotype}):s.jsx("span",{className:"text-gray-500",children:"-"})})]})}const Ii="",sd=[{rank:1,name:"Diamond",icon:"",min:2200,color:"#00D4FF",border:"#0099CC"},{rank:2,name:"Ruby",icon:"",min:1900,max:2200,color:"#E61E50",border:"#B30F3A"},{rank:3,name:"Emerald",icon:"",min:1650,max:1900,color:"#50C878",border:"#2E9356"},{rank:4,name:"Sapphire",icon:"",min:1450,max:1650,color:"#0F52BA",border:"#0A3680"},{rank:5,name:"Amethyst",icon:"",min:1300,max:1450,color:"#9966CC",border:"#6B4A99"},{rank:6,name:"Platinum",icon:"",min:1150,max:1300,color:"#E5E4E2",border:"#B8B7B5"},{rank:7,name:"Gold",icon:"",min:1e3,max:1150,color:"#FFD700",border:"#CCA700"},{rank:8,name:"Silver",icon:"",min:850,max:1e3,color:"#C0C0C0",border:"#8C8C8C"},{rank:9,name:"Bronze",icon:"",min:650,max:850,color:"#CD7F32",border:"#995F26"},{rank:10,name:"Copper",icon:"",min:0,max:650,color:"#B87333",border:"#8B5A1F"}],Dj={"A+":{color:"bg-red-100 text-red-900 border-red-300",label:"A+"},A:{color:"bg-red-50 text-red-800 border-red-200",label:"A"},B:{color:"bg-green-50 text-green-800 border-green-200",label:"B"},C:{color:"bg-blue-50 text-blue-800 border-blue-200",label:"C"},D:{color:"bg-yellow-50 text-yellow-800 border-yellow-200",label:"D"}};function Ea({label:e,options:t,selectedValues:r,onChange:n}){const[l,a]=m.useState(!1),o=m.useRef(null);m.useEffect(()=>{const f=p=>{o.current&&!o.current.contains(p.target)&&a(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const i=f=>{r.includes(f)?n(r.filter(p=>p!==f)):n([...r,f])},c=f=>{const p=sd.find(y=>y.rank===f.value);return p?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 rounded-full flex items-center justify-center font-bold text-[10px] text-white shadow-sm",style:{background:p.color,borderColor:p.border,borderWidth:"2px",borderStyle:"solid"},children:p.rank}),s.jsx("span",{className:"text-xs font-medium text-gray-800",children:p.name})]}):null},d=f=>{const p=Dj[f.value];return p?s.jsx("span",{className:`px-2 py-0.5 text-[11px] font-semibold rounded border ${p.color}`,children:p.label}):null},u=e.includes("vELO"),h=e.includes("Category");return s.jsxs("div",{className:"relative z-[99999]",ref:o,children:[s.jsxs("button",{onClick:()=>a(!l),className:"px-3 py-2 border border-white/30 rounded-lg text-xs focus:ring-2 focus:ring-yellow-400 bg-white/15 text-white hover:bg-white/20 transition-colors w-full flex items-center justify-between font-bold",children:[s.jsxs("span",{children:[e,r.length>0&&s.jsx("span",{className:"ml-1.5 px-1.5 py-0.5 bg-yellow-400 text-gray-900 rounded text-[10px] font-bold",children:r.length})]}),s.jsx("svg",{className:`w-4 h-4 ml-2 transition-transform ${l?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&s.jsx("div",{className:"absolute z-[999999] mt-1 w-full min-w-[200px] bg-white border border-gray-200 rounded-lg shadow-lg max-h-64 overflow-y-auto",children:t.map(f=>s.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-gray-50 cursor-pointer transition-colors",children:[s.jsx("input",{type:"checkbox",checked:r.includes(f.value),onChange:()=>i(f.value),className:"w-4 h-4 text-yellow-500 border-gray-300 rounded focus:ring-yellow-400"}),s.jsx("div",{className:"ml-2",children:u?c(f):h?d(f):s.jsx("span",{className:"text-xs text-gray-700",children:f.label})})]},f.value))})]})}function Pj(){const[e,t]=m.useState([]),[r,n]=m.useState([]),[l,a]=m.useState(!0),[o,i]=m.useState(""),[c,d]=m.useState(""),[u,h]=m.useState([]),[f,p]=m.useState([]),[y,j]=m.useState([]),[w,g]=m.useState([]),[x,v]=m.useState([]),[b,R]=m.useState([]),[T,O]=m.useState(new Set),[_,S]=m.useState({}),{favorites:C,toggleFavorite:$,isFavorite:B}=Np(),[U,z]=m.useState(!1);m.useEffect(()=>{Z(),fe()},[]),m.useEffect(()=>{L()},[e,c,u,f,y,w,b,U,C]),m.useEffect(()=>{M()},[w]);const Z=async()=>{try{const P=(await(await fetch(`${Ii}/api/riders`)).json()).riders||[];t(P);const I={};P.forEach(D=>{const H=X(D.velo_live).tier;I[H]||(I[H]={power_5s:0,power_15s:0,power_30s:0,power_60s:0,power_120s:0,power_300s:0,power_1200s:0}),I[H].power_5s=Math.max(I[H].power_5s,D.power_5s||0),I[H].power_15s=Math.max(I[H].power_15s,D.power_15s||0),I[H].power_30s=Math.max(I[H].power_30s,D.power_30s||0),I[H].power_60s=Math.max(I[H].power_60s,D.power_60s||0),I[H].power_120s=Math.max(I[H].power_120s,D.power_120s||0),I[H].power_300s=Math.max(I[H].power_300s,D.power_300s||0),I[H].power_1200s=Math.max(I[H].power_1200s,D.power_1200s||0)}),S(I),a(!1)}catch{i("Fout bij laden van riders"),a(!1)}},fe=async()=>{try{const k=await(await fetch(`${Ii}/api/teams`)).json();v(k.teams||[])}catch(E){console.error("Error loading teams:",E)}},M=async()=>{var E;if(w.length===0){R([]);return}try{const k=new Set;for(const P of w){const I=await fetch(`${Ii}/api/teams/${P}`);I.ok&&((E=(await I.json()).lineup)==null||E.forEach(H=>k.add(H.rider_id)))}R(Array.from(k))}catch(k){console.error("Error loading team lineups:",k),R([])}},L=()=>{let E=e;c&&(E=E.filter(k=>{var P,I;return((P=k.racing_name)==null?void 0:P.toLowerCase().includes(c.toLowerCase()))||((I=k.full_name)==null?void 0:I.toLowerCase().includes(c.toLowerCase()))})),U&&C.length>0&&(E=E.filter(k=>C.includes(k.rider_id))),u.length>0&&(E=E.filter(k=>{const P=k.zwiftracing_category||k.zwift_official_category||"D";return u.includes(P)})),f.length>0&&(E=E.filter(k=>{const P=X(k.velo_live);return P&&f.includes(P.tier)})),y.length>0&&(E=E.filter(k=>{const P=X(k.velo_30day);return P&&y.includes(P.tier)})),w.length>0&&b.length>0&&(E=E.filter(k=>b.includes(k.rider_id))),n(E)},A=E=>{const P={NLD:"nl",BEL:"be",GBR:"gb",USA:"us",DEU:"de",FRA:"fr",ITA:"it",ESP:"es",AUS:"au",CAN:"ca",DNK:"dk",SWE:"se",NOR:"no",FIN:"fi",POL:"pl",CHE:"ch",AUT:"at",JPN:"jp",NZL:"nz",ZAF:"za",BRA:"br",MEX:"mx",PRT:"pt",CZE:"cz",SVK:"sk",HUN:"hu",ROU:"ro",BGR:"bg",HRV:"hr",SVN:"si",IRL:"ie",LUX:"lu",ISL:"is",LTU:"lt",LVA:"lv",EST:"ee",GRC:"gr",TUR:"tr",UKR:"ua",RUS:"ru",ARG:"ar",CHL:"cl",COL:"co",PER:"pe",URY:"uy",VEN:"ve",CHN:"cn",KOR:"kr",TWN:"tw",THA:"th",SGP:"sg",MYS:"my",IDN:"id",PHL:"ph",VNM:"vn",IND:"in",PAK:"pk",ISR:"il",SAU:"sa",ARE:"ae"}[E==null?void 0:E.toUpperCase()];return P?`https://flagcdn.com/w80/${P}.png`:null},V=E=>({"A+":"#FF0000",A:"#FF0000",B:"#4CAF50",C:"#0000FF",D:"#FF1493",E:"#808080"})[E]||"#666",X=E=>E?E>=2200?{tier:1,name:"Diamond",color:"#00D4FF",border:"#0099CC",emoji:""}:E>=1900?{tier:2,name:"Ruby",color:"#E61E50",border:"#B30F3A",emoji:""}:E>=1650?{tier:3,name:"Emerald",color:"#50C878",border:"#2E9356",emoji:""}:E>=1450?{tier:4,name:"Sapphire",color:"#0F52BA",border:"#0A3680",emoji:""}:E>=1300?{tier:5,name:"Amethyst",color:"#9966CC",border:"#6B4A99",emoji:""}:E>=1150?{tier:6,name:"Platinum",color:"#E5E4E2",border:"#B8B7B5",emoji:""}:E>=1e3?{tier:7,name:"Gold",color:"#FFD700",border:"#CCA700",emoji:""}:E>=850?{tier:8,name:"Silver",color:"#C0C0C0",border:"#8C8C8C",emoji:""}:E>=650?{tier:9,name:"Bronze",color:"#CD7F32",border:"#995F26",emoji:""}:{tier:10,name:"Copper",color:"#B87333",border:"#8B5A1F",emoji:""}:{tier:10,name:"Copper",color:"#B87333",border:"#8B5A1F",emoji:""},Y=E=>{O(k=>{const P=new Set(k);return P.has(E)?P.delete(E):P.add(E),P})},de=(E,k,P,I,D,H,K,J,ne,re)=>s.jsx("div",{className:"perspective-1000 cursor-pointer snap-center flex-shrink-0 flex-shrink-0 snap-center relative z-10",onClick:()=>Y(E.rider_id),style:{perspective:"1000px",width:"300px"},children:s.jsxs("div",{className:`relative w-full h-[520px] transition-transform duration-600 transform-style-3d ${re?"rotate-y-180":""}`,style:{transformStyle:"preserve-3d",transform:re?"rotateY(180deg)":"rotateY(0deg)"},children:[s.jsxs("div",{className:"absolute w-full h-full backface-hidden rounded-xl bg-gradient-to-br from-gray-900 to-blue-900 border-4 border-yellow-400 shadow-xl p-2",style:{backfaceVisibility:"hidden"},children:[s.jsxs("div",{className:"h-16 rounded-t-lg relative mb-12",style:{background:`linear-gradient(135deg, ${K.color} 0%, ${K.border} 100%)`,clipPath:"polygon(0 0, 100% 0, 100% 85%, 0 100%)"},children:[s.jsx("div",{className:"absolute top-2 left-3 w-10 h-10 rounded-full flex items-center justify-center border-3",style:{background:K.color,borderColor:K.border,borderWidth:"3px",borderStyle:"solid"},title:K.name,children:s.jsx("span",{className:"text-2xl font-black text-white drop-shadow-lg",children:K.tier})}),s.jsx("div",{className:"absolute top-2 left-14 w-10 h-10 rounded-full flex items-center justify-center border-3 border-white",style:{background:I},children:s.jsx("span",{className:"text-2xl font-black text-white drop-shadow-lg",children:k})}),s.jsxs("div",{className:"absolute top-2 right-3 text-center",children:[s.jsx("div",{className:"text-xs font-bold text-gray-900 uppercase",children:"ZRS"}),s.jsx("div",{className:"text-lg font-black text-gray-900",children:E.zwift_official_racing_score||"-"})]})]}),s.jsx("button",{onClick:le=>{le.stopPropagation(),le.preventDefault(),$(E.rider_id)},className:"absolute top-[72px] right-3 z-20 text-2xl transition-transform hover:scale-125 active:scale-95 bg-gradient-to-br from-yellow-500/30 to-orange-500/30 backdrop-blur-sm rounded-full w-10 h-10 flex items-center justify-center shadow-[0_0_15px_rgba(255,215,0,0.6)] border-2 border-yellow-400",style:{boxShadow:"0 0 20px rgba(255, 215, 0, 0.8), 0 0 10px rgba(255, 215, 0, 0.4)"},title:B(E.rider_id)?"Remove from favorites":"Add to favorites",children:B(E.rider_id)?"":""}),s.jsx("img",{src:E.avatar_url||"https://via.placeholder.com/100?text=No+Avatar",alt:E.racing_name,className:"absolute top-12 left-1/2 -translate-x-1/2 w-20 h-20 rounded-full border-3 border-yellow-400 object-cover bg-gray-700 shadow-xl",onError:le=>{le.currentTarget.src="https://via.placeholder.com/100?text=No+Avatar"}}),s.jsxs("div",{className:"text-center mb-2 mt-3",children:[s.jsx("h2",{className:"text-sm font-black text-white uppercase drop-shadow-lg mb-1 px-1 leading-tight",children:E.racing_name||E.full_name||"Unknown"}),s.jsx("div",{className:"flex items-center justify-center gap-1",children:P&&s.jsx("img",{src:P,alt:E.country_alpha3,className:"w-8 h-6 rounded shadow"})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3 px-2",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-2 text-center border border-white/20",children:[s.jsx("div",{className:"text-xs text-yellow-400 font-bold uppercase leading-tight",children:"zFTP"}),s.jsxs("div",{className:"text-lg font-black text-white",children:[E.racing_ftp||"-",s.jsx("span",{className:"text-sm text-white/70",children:"W"})]})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-2 text-center border border-white/20",children:[s.jsx("div",{className:"text-xs text-yellow-400 font-bold uppercase leading-tight",children:"Wgt"}),s.jsxs("div",{className:"text-lg font-black text-white",children:[E.weight_kg||"-",s.jsx("span",{className:"text-sm text-white/70",children:"kg"})]})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-2 text-center border border-white/20",children:[s.jsx("div",{className:"text-xs text-yellow-400 font-bold uppercase leading-tight",children:"W/kg"}),s.jsx("div",{className:"text-lg font-black text-white",children:ne})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-2 text-center border border-white/20",children:[s.jsx("div",{className:"text-xs text-yellow-400 font-bold uppercase leading-tight",children:"Hgt"}),s.jsxs("div",{className:"text-lg font-black text-white",children:[J,s.jsx("span",{className:"text-sm text-white/70",children:"cm"})]})]}),s.jsx("div",{}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-2 text-center border border-white/20",children:[s.jsx("div",{className:"text-xs text-yellow-400 font-bold uppercase leading-tight",children:"Age"}),s.jsxs("div",{className:"text-lg font-black text-white",children:[E.age||"-",s.jsx("span",{className:"text-sm text-white/70",children:"yr"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 px-2 mb-3",children:[s.jsxs("div",{className:"rounded-lg p-2 text-center border-2",style:{background:"rgba(255,255,255,0.1)",borderColor:K.color},children:[s.jsx("div",{className:"text-xs font-bold uppercase",style:{color:K.color},children:"Velo Live"}),s.jsx("div",{className:"text-lg font-black text-white",children:D||"-"})]}),s.jsxs("div",{className:"rounded-lg p-2 text-center border-2",style:{background:"rgba(255,255,255,0.1)",borderColor:K.color},children:[s.jsx("div",{className:"text-xs font-bold uppercase",style:{color:K.color},children:"Velo 30d"}),s.jsx("div",{className:"text-lg font-black text-white",children:H||"-"})]})]}),E.phenotype&&s.jsxs("div",{className:"mx-2 mb-3 bg-white/10 rounded-lg p-3 border border-white/20 text-center",children:[s.jsx("div",{className:"text-xs text-yellow-400 font-bold uppercase",children:"Phenotype"}),s.jsx("div",{className:"text-lg font-bold text-white capitalize",children:E.phenotype})]}),s.jsx("div",{className:"text-center text-xs text-yellow-400/80 uppercase tracking-wide font-bold mt-2",children:" Klik voor intervals"})]}),s.jsxs("div",{className:"absolute w-full h-full backface-hidden rounded-xl bg-gradient-to-br from-gray-900 to-blue-900 border-4 border-yellow-400 shadow-xl p-3 flex flex-col",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:[s.jsx("h3",{className:"text-yellow-400 text-base font-black uppercase mb-2 tracking-wide text-center",children:"Power Profile"}),s.jsx("div",{className:"flex justify-center mb-3",children:s.jsx("canvas",{ref:le=>{le&&T.has(E.rider_id)&&requestAnimationFrame(()=>{he(le,E)})},id:`spider-${E.rider_id}`,width:"240",height:"200",className:"spider-chart","data-rider-id":E.rider_id})}),s.jsx("div",{className:"grid grid-cols-2 gap-1.5 px-3",children:[{label:"5s",power:E.power_5s,wkg:E.power_5s_wkg},{label:"15s",power:E.power_15s,wkg:E.power_15s_wkg},{label:"30s",power:E.power_30s,wkg:E.power_30s_wkg},{label:"1m",power:E.power_60s,wkg:E.power_60s_wkg},{label:"2m",power:E.power_120s,wkg:E.power_120s_wkg},{label:"5m",power:E.power_300s,wkg:E.power_300s_wkg},{label:"20m",power:E.power_1200s,wkg:E.power_1200s_wkg}].map(le=>s.jsxs("div",{className:"bg-white/10 border border-white/20 rounded p-1.5 text-center",children:[s.jsx("div",{className:"text-[10px] text-yellow-400 font-bold leading-tight",children:le.label}),s.jsx("div",{className:"text-xs font-black text-white leading-tight mt-0.5",children:le.power?Math.round(le.power)+"W":"-"}),s.jsx("div",{className:"text-[10px] text-yellow-400/80 font-black leading-tight",children:le.wkg?le.wkg.toFixed(1):"-"})]},le.label))})]})]})},E.rider_id);m.useEffect(()=>{const E=[];return[50,150,300].forEach(k=>{const P=setTimeout(()=>{T.forEach(I=>{const D=document.getElementById(`spider-${I}`);if(D){const H=r.find(K=>K.rider_id===I);H&&he(D,H)}})},k);E.push(P)}),()=>E.forEach(k=>clearTimeout(k))},[T,r,_]);const he=(E,k)=>{setTimeout(()=>{if(!E)return;const P=E.getContext("2d");if(!P)return;const I=E.width,D=E.height,H=I/2,K=D/2,J=Math.min(I,D)/2-20,ne=X(k.velo_live).tier,re=_[ne]||{power_5s:1500,power_15s:1200,power_30s:1e3,power_60s:800,power_120s:600,power_300s:500,power_1200s:400},le=[{label:"5s",value:k.power_5s,max:re.power_5s||1},{label:"15s",value:k.power_15s,max:re.power_15s||1},{label:"30s",value:k.power_30s,max:re.power_30s||1},{label:"1m",value:k.power_60s,max:re.power_60s||1},{label:"2m",value:k.power_120s,max:re.power_120s||1},{label:"5m",value:k.power_300s,max:re.power_300s||1},{label:"20m",value:k.power_1200s,max:re.power_1200s||1}],Ge=le.length,kr=Math.PI*2/Ge;P.clearRect(0,0,I,D),P.strokeStyle="rgba(255, 255, 255, 0.2)",P.lineWidth=1;for(let Oe=1;Oe<=5;Oe++)P.beginPath(),P.arc(H,K,J*Oe/5,0,Math.PI*2),P.stroke();P.strokeStyle="rgba(255, 255, 255, 0.3)",le.forEach((Oe,Le)=>{const _e=Le*kr-Math.PI/2,Bt=H+Math.cos(_e)*J,Ut=K+Math.sin(_e)*J;P.beginPath(),P.moveTo(H,K),P.lineTo(Bt,Ut),P.stroke();const tr=H+Math.cos(_e)*(J+15),_r=K+Math.sin(_e)*(J+15);P.fillStyle="#FFD700",P.font="bold 10px sans-serif",P.textAlign="center",P.textBaseline="middle",P.fillText(le[Le].label,tr,_r)}),P.beginPath(),le.forEach((Oe,Le)=>{const _e=Le*kr-Math.PI/2,Bt=Math.min((Oe.value||0)/Oe.max,1),Ut=J*Bt,tr=H+Math.cos(_e)*Ut,_r=K+Math.sin(_e)*Ut;Le===0?P.moveTo(tr,_r):P.lineTo(tr,_r)}),P.closePath(),P.fillStyle="rgba(255, 215, 0, 0.3)",P.fill(),P.strokeStyle="#FFD700",P.lineWidth=2,P.stroke(),le.forEach((Oe,Le)=>{const _e=Le*kr-Math.PI/2,Bt=Math.min((Oe.value||0)/Oe.max,1),Ut=J*Bt,tr=H+Math.cos(_e)*Ut,_r=K+Math.sin(_e)*Ut;P.beginPath(),P.arc(tr,_r,4,0,Math.PI*2),P.fillStyle="#FFD700",P.fill()})},100)},Te={total:r.length};return l?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"text-white text-2xl font-bold",children:"Loading riders..."})}):o?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"text-red-500 text-xl",children:o})}):s.jsxs("div",{className:"min-h-screen py-8 px-4",style:{background:"linear-gradient(135deg, #7f1d1d 0%, #166534 50%, #7f1d1d 100%)"},children:[s.jsx("div",{className:"max-w-7xl mx-auto mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:" Rider Passports"}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm text-white px-3 py-1.5 rounded-lg font-semibold text-sm border border-white/20",children:[Te.total," riders"]})]})}),s.jsx("div",{className:"max-w-7xl mx-auto mb-6 relative z-[9999]",children:s.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-3 shadow-lg",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{children:s.jsx("input",{type:"text",placeholder:" Zoek rider...",value:c,onChange:E=>d(E.target.value),className:"w-full px-3 py-2 rounded-lg bg-white/15 text-white placeholder-white/50 border border-white/30 focus:border-yellow-400 focus:outline-none font-semibold text-sm"})}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-wrap",children:[s.jsx("div",{className:"min-w-[140px] relative z-[99999]",children:s.jsx(Ea,{label:"Category",options:[{value:"A+",label:"A+"},{value:"A",label:"A"},{value:"B",label:"B"},{value:"C",label:"C"},{value:"D",label:"D"}],selectedValues:u,onChange:h})}),s.jsx("div",{className:"min-w-[160px] relative z-[99999]",children:s.jsx(Ea,{label:"vELO Live",options:sd.map(E=>({value:E.rank,label:E.name})),selectedValues:f,onChange:p})}),s.jsx("div",{className:"min-w-[160px] relative z-[99999]",children:s.jsx(Ea,{label:"vELO 30-day",options:sd.map(E=>({value:E.rank,label:E.name})),selectedValues:y,onChange:j})}),s.jsx("div",{className:"min-w-[160px] relative z-[99999]",children:s.jsx(Ea,{label:"Team",options:x.map(E=>({value:E.team_id,label:E.team_name})),selectedValues:w,onChange:g})}),s.jsxs("button",{onClick:()=>z(!U),className:`px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg transition-colors text-xs font-medium flex items-center gap-1 sm:gap-2 flex-shrink-0 ${U?"bg-yellow-500 text-white hover:bg-yellow-600":"bg-white/15 text-white/80 hover:bg-white/20 border border-white/30"}`,title:U?"Toon alle riders":"Toon alleen favorieten",children:[s.jsx("span",{className:"text-sm sm:text-base",children:U?"":""}),s.jsx("span",{className:"hidden sm:inline",children:U?"Favorieten":"Alle Riders"}),U&&C.length>0&&s.jsx("span",{className:"ml-0.5 sm:ml-1 px-1 sm:px-1.5 py-0.5 bg-white/30 rounded text-[10px] sm:text-xs",children:C.length})]}),s.jsxs("button",{onClick:()=>{const E=u.length+f.length+y.length+w.length;h([]),p([]),j([]),g([]),E>0&&q.success(`${E} filter${E>1?"s":""} verwijderd`,{icon:""})},disabled:u.length===0&&f.length===0&&y.length===0&&w.length===0,className:`px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg transition-colors text-xs font-medium flex items-center gap-1 sm:gap-2 flex-shrink-0 ${u.length>0||f.length>0||y.length>0||w.length>0?"bg-red-500 text-white hover:bg-red-600 cursor-pointer":"bg-white/10 text-white/40 cursor-not-allowed border border-white/20"}`,title:"Verwijder alle filters",children:[s.jsx("span",{className:"text-sm sm:text-base",children:""}),s.jsx("span",{className:"hidden sm:inline",children:"Clear"}),(u.length>0||f.length>0||y.length>0||w.length>0)&&s.jsx("span",{className:"ml-0.5 sm:ml-1 px-1 sm:px-1.5 py-0.5 bg-white/30 rounded text-[10px] sm:text-xs font-bold",children:u.length+f.length+y.length+w.length})]})]})]})})}),s.jsx("div",{className:"max-w-full mx-auto px-4",children:r.length===0?s.jsx("div",{className:"text-center text-gray-700 text-xl py-20 font-semibold",children:"Geen riders gevonden met deze filters."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"md:hidden overflow-x-auto overflow-y-hidden scrollbar-thin scrollbar-thumb-yellow-400 scrollbar-track-gray-800 pb-4",children:s.jsx("div",{className:"flex gap-4 snap-x snap-mandatory px-4 justify-center",style:{minWidth:"min-content"},children:r.map(E=>{const k=E.zwift_official_category||E.zwiftracing_category||"D",P=A(E.country_alpha3),I=V(k),D=Math.floor(E.velo_live||0),H=Math.floor(E.velo_30day||0),K=X(D),J=E.height_cm?Math.round(E.height_cm/10):"-",ne=E.racing_ftp&&E.weight_kg?(E.racing_ftp/E.weight_kg).toFixed(1):"-",re=T.has(E.rider_id);return de(E,k,P,I,D,H,K,J,ne,re)})})}),s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:"overflow-x-auto overflow-y-hidden pb-4 scroll-smooth",style:{scrollbarWidth:"thin",scrollbarColor:"#FACC15 #1F2937"},children:s.jsx("div",{className:"flex gap-6 px-4 justify-center",style:{minWidth:"min-content"},children:r.map(E=>{const k=E.zwift_official_category||E.zwiftracing_category||"D",P=A(E.country_alpha3),I=V(k),D=Math.floor(E.velo_live||0),H=Math.floor(E.velo_30day||0),K=X(D),J=E.height_cm?Math.round(E.height_cm/10):"-",ne=E.racing_ftp&&E.weight_kg?(E.racing_ftp/E.weight_kg).toFixed(1):"-",re=T.has(E.rider_id);return de(E,k,P,I,D,H,K,J,ne,re)})})})})]})})]})}function Tj(){const[e,t]=m.useState(!1),r=Ko(),n=[{path:"/",label:"Team Lineup",icon:""},{path:"/team-builder",label:"Team Builder",icon:""},{path:"/racing-matrix",label:"Performance Matrix",icon:""},{path:"/rider-passports",label:"Rider Passports",icon:""},{path:"/team-manager",label:"Rider Manager",icon:""}],l=a=>{r(a),t(!1)};return s.jsxs(s.Fragment,{children:[s.jsx("nav",{className:"bg-gradient-to-r from-orange-600 via-blue-600 to-orange-500 shadow-lg border-b-4 border-orange-400 relative z-[999999]",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex justify-between items-center h-20",children:[s.jsxs("button",{onClick:()=>l("/"),className:"flex items-center space-x-2 sm:space-x-4 hover:opacity-90 transition",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-orange-500 rounded-full blur-sm opacity-75"}),s.jsx("div",{className:"relative bg-white rounded-full p-1 ring-4 ring-orange-500",children:s.jsx("img",{src:"/CloudRacer9.png",alt:"CloudRacer",className:"h-12 w-12 sm:h-16 sm:w-16 rounded-full"})})]}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-white font-black text-lg sm:text-2xl flex items-center gap-1 sm:gap-2",children:"TeamNL"}),s.jsx("div",{className:"text-orange-400 font-bold text-sm sm:text-lg",children:"Cloud9 Racing"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsxs("a",{href:"https://www.youtube.com/@CloudRacer-9/streams",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-2 rounded-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 transition-all hover:scale-105 shadow-lg hover:shadow-xl border-2 border-white/20",title:"Race livestreams op YouTube - CloudRacer-9",children:[s.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})}),s.jsx("span",{className:"hidden sm:inline text-sm font-bold text-white tracking-wide",children:" STREAMS"})]}),s.jsx("button",{onClick:()=>t(!e),className:"text-white p-2 hover:bg-white/10 rounded-lg transition-all","aria-label":"Menu",children:s.jsx("svg",{className:"w-7 h-7 sm:w-8 sm:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e?s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"}):s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),e&&s.jsx("div",{className:"fixed right-4 top-24 w-72 bg-gradient-to-br from-gray-900 to-blue-900 rounded-xl shadow-2xl border-2 border-orange-400 overflow-hidden z-[999999]",children:s.jsx("div",{className:"py-2",children:n.map(a=>s.jsxs("button",{onClick:()=>l(a.path),className:"w-full text-left px-5 py-3 text-white hover:bg-white/10 transition-all flex items-center gap-3 border-b border-white/5 last:border-b-0 group",children:[s.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform",children:a.icon}),s.jsx("span",{className:"font-semibold text-base group-hover:text-orange-400 transition-colors",children:a.label})]},a.path))})})]})}),e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-[999998]",onClick:()=>t(!1)})]})}function Oj(){return s.jsx(bb,{children:s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-950 via-blue-900 to-gray-900",children:[s.jsx(Tj,{}),s.jsxs(hb,{children:[s.jsx(lr,{path:"/",element:s.jsx(_j,{})}),s.jsx(lr,{path:"/racing-matrix",element:s.jsx(mw,{})}),s.jsx(lr,{path:"/rider-passports",element:s.jsx(Pj,{})}),s.jsx(lr,{path:"/events",element:s.jsx(e1,{})}),s.jsx(lr,{path:"/results",element:s.jsx(f1,{})}),s.jsx(lr,{path:"/team-manager",element:s.jsx(m1,{})}),s.jsx(lr,{path:"/team-builder",element:s.jsx(ij,{})}),s.jsx(lr,{path:"*",element:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"404"}),s.jsx("p",{className:"text-gray-400 mb-8",children:"Page not found"}),s.jsx(Nb,{to:"/",className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg inline-block",children:"Back to Team Viewer"})]})})})]}),s.jsx(fw,{position:"top-right"})]})})}const Lj=new dy({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:3e4}}});Hm(document.getElementById("root")).render(s.jsx(m.StrictMode,{children:s.jsx(uy,{client:Lj,children:s.jsx(Oj,{})})}));
