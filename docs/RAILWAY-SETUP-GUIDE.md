# ğŸš‚ Railway.app - Complete Beginner's Guide

## Stap 1: Account Aanmaken (2 minuten)

### 1.1 Ga naar Railway
ğŸ”— Open: https://railway.app

### 1.2 Login met GitHub
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Railway                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Sign in with GitHub  ğŸ”      â”‚ â”‚  â† Klik hier!
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Sign in with Email           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

âœ… **Resultaat**: Je ziet je Railway dashboard met "$5.00 available"

---

## Stap 2: Project Aanmaken (3 minuten)

### 2.1 New Project
```
Dashboard â†’ [New Project] knop (rechts boven)
```

### 2.2 Kies Deploy methode
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  How would you like to deploy?         â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Deploy from GitHub repo  ğŸ“¦    â”‚  â”‚  â† Klik hier!
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Deploy from template            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Empty project                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 Authorize GitHub
Als Railway vraagt om GitHub toegang:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GitHub Authorization              â”‚
â”‚  Railway wants to:                 â”‚
â”‚  âœ“ Read your repositories          â”‚
â”‚  âœ“ Create webhooks                 â”‚
â”‚                                     â”‚
â”‚  [Authorize Railway] â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Klik hier
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.4 Selecteer Repository
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Select a repository                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ” Search...                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  ğŸ“ TeamNL-Cloud9-Racing-Team  â†â”€â”€â”€â”€â”€â”€â”€â”€ Klik hier!
â”‚  ğŸ“ other-repo                          â”‚
â”‚  ğŸ“ another-repo                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.5 Deploy Now
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Configure your service            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Branch: main                â”‚ â”‚
â”‚  â”‚  Root: /                     â”‚ â”‚
â”‚  â”‚  âœ“ Auto-deploy on push      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  [Deploy Now] â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Klik hier
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

âœ… **Resultaat**: Railway begint met bouwen (kan 2-3 minuten duren)

---

## Stap 3: PostgreSQL Database Toevoegen (2 minuten)

### 3.1 Add Database
Terwijl je app bouwt:
```
In je project view:
[+ New] knop (rechts boven) â†’ Database â†’ PostgreSQL
```

Visueel:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TeamNL-Cloud9-Racing-Team             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ App Service â”‚  â”‚  [+ New] â–¼   â”‚ â†â”€â”€ Klik hier
â”‚  â”‚ Building... â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Dropdown menu:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Database         â”‚ â†â”€â”€ Klik hier
â”‚ Empty Service    â”‚
â”‚ GitHub Repo      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Kies database:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PostgreSQL  ğŸ˜   â”‚ â†â”€â”€ Klik hier
â”‚ MySQL            â”‚
â”‚ Redis            â”‚
â”‚ MongoDB          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

âœ… **Resultaat**: PostgreSQL database is toegevoegd en draait

### 3.2 Database Verbinding (Automatisch!)
Railway koppelt automatisch `DATABASE_URL` aan je app service.

Check dit:
```
App Service â†’ Variables tab
Je ziet: DATABASE_URL = postgresql://postgres:...
```

---

## Stap 4: Environment Variables Configureren (5 minuten)

### 4.1 Ga naar Variables
```
App Service â†’ Variables tab
```

### 4.2 Add Variables (kopieer deze exact)

Klik [+ New Variable] voor elk van deze:

```env
NODE_ENV=production
AUTH_ENABLED=true
API_USERNAME=admin
API_PASSWORD=JouwVeiligWachtwoord123!

ZWIFT_API_KEY=650c6d2fc4ef6858d74cbef1
ZWIFT_API_BASE_URL=https://zwift-ranking.herokuapp.com
ZWIFT_CLUB_ID=2281

ENABLE_AUTO_SYNC=true
SCHEDULER_ENABLED=true

FAVORITES_SYNC_CRON=0 */6 * * *
CLUB_SYNC_CRON=0 */12 * * *
FORWARD_SCAN_CRON=0 * * * *
CLEANUP_CRON=0 3 * * *

SCHEDULER_P1_INTERVAL=15
SCHEDULER_P2_INTERVAL=30
SCHEDULER_P3_INTERVAL=60
SCHEDULER_P4_INTERVAL=120

ALLOWED_ORIGINS=*
LOG_LEVEL=info
HEALTH_CHECK_ENABLED=true
```

**Hoe toe te voegen:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Variables                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Name: NODE_ENV                   â”‚ â”‚
â”‚  â”‚ Value: production                â”‚ â”‚
â”‚  â”‚ [Add] â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Klik
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

âœ… **Resultaat**: Alle variables zijn toegevoegd

### 4.3 Redeploy (nodig na variables toevoegen)
```
Deployments tab â†’ [Deploy] knop
```

---

## Stap 5: Eerste Deployment Testen (3 minuten)

### 5.1 Check Build Logs
```
Deployments tab â†’ Laatste deployment â†’ View logs
```

Zoek naar:
```
âœ“ Build successful
âœ“ Prisma migrations applied
âœ“ Server started on port 3000
```

### 5.2 Get je App URL
```
Settings tab â†’ Domains sectie
```

Je ziet iets als:
```
teamnl-cloud9-racing-team-production.up.railway.app
```

### 5.3 Test je App

Open browser of gebruik curl:
```bash
# Health check (werkt zonder auth)
curl https://jouw-app-url.up.railway.app/api/health

# Expected response:
{"status":"ok","timestamp":"2025-10-29T..."}
```

Met authenticatie:
```bash
curl -u admin:JouwWachtwoord https://jouw-app-url.up.railway.app/api/workflow/status
```

âœ… **Resultaat**: Je app is live!

---

## Stap 6: Staging Environment Toevoegen (5 minuten)

### 6.1 Create Environment
```
Project Settings â†’ Environments â†’ [New Environment]
```

### 6.2 Configure Staging
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  New Environment                   â”‚
â”‚  Name: staging                     â”‚
â”‚  Base environment: production      â”‚ â† Kopieer variables
â”‚  [Create]                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.3 Link to 'develop' branch
```
staging environment â†’ Settings â†’ Source
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Source Branch                     â”‚
â”‚  Current: main                     â”‚
â”‚  Change to: develop  â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Selecteer develop
â”‚  [Save]                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**LET OP**: develop branch bestaat nog niet! We maken die zo aan.

### 6.4 Add PostgreSQL voor Staging
```
In staging environment: [+ New] â†’ Database â†’ PostgreSQL
```

### 6.5 Update Staging Variables
```
Staging environment â†’ Variables

Wijzig deze (andere blijven hetzelfde):
NODE_ENV=staging
AUTH_ENABLED=false         â† Geen auth voor sneller testen
ENABLE_AUTO_SYNC=false     â† Geen auto-syncs
SCHEDULER_ENABLED=false    â† Cron jobs uit
LOG_LEVEL=debug            â† Verbose logging
```

âœ… **Resultaat**: Staging environment is klaar!

---

## ğŸ¯ Overzicht van wat je nu hebt:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Railway Project: TeamNL-Cloud9-Racing-Team â”‚
â”‚                                             â”‚
â”‚  ğŸ“¦ Production Environment                  â”‚
â”‚     â”œâ”€ App Service (Node.js)               â”‚
â”‚     â”œâ”€ PostgreSQL Database                 â”‚
â”‚     â”œâ”€ Branch: main                        â”‚
â”‚     â””â”€ URL: teamnl-...production.railway   â”‚
â”‚                                             â”‚
â”‚  ğŸ§ª Staging Environment                     â”‚
â”‚     â”œâ”€ App Service (Node.js)               â”‚
â”‚     â”œâ”€ PostgreSQL Database                 â”‚
â”‚     â”œâ”€ Branch: develop (nog aan te maken)  â”‚
â”‚     â””â”€ URL: teamnl-...staging.railway      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’° Cost Monitoring

Check je usage:
```
Dashboard â†’ Usage tab
```

Je ziet:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Current Usage                 â”‚
â”‚  $X.XX of $5.00 used          â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Verwacht: ~$1-2 voor beide environments samen = ruim binnen limiet! âœ…

---

## ğŸ› ï¸ Handige Railway Features

### Logs bekijken (Real-time)
```
App Service â†’ View Logs knop (rechts boven)
```

### Database verbinden
```
PostgreSQL service â†’ Connect tab
Kopieer connection string voor lokale toegang
```

### Custom Domain (optioneel)
```
Settings â†’ Domains â†’ [Add Domain]
Voeg je eigen domain.com toe
```

### Rollback
```
Deployments tab â†’ Oude deployment â†’ Redeploy
```

---

## ğŸ†˜ Troubleshooting

### Build faalt
```
Deployments â†’ View logs
Zoek naar error message
Vaak: missing dependency â†’ npm install X
```

### Database connectie error
```
Check: DATABASE_URL variable is present
Check: PostgreSQL service is running (groen icoontje)
```

### App crashed
```
View logs â†’ Zoek naar crash message
Check: Alle required env variables zijn set
```

### Out of credit
```
Impossible met onze setup! We gebruiken <$5/maand
Maar check: Usage tab â†’ Current usage
```

---

## âœ… Railway Setup Compleet!

Je hebt nu:
- âœ… Railway account met $5 gratis credit
- âœ… Production environment (main branch)
- âœ… Staging environment (develop branch - komt zo)
- âœ… 2x PostgreSQL databases
- âœ… Auto-deploy configured
- âœ… Environment variables set

**Next Step**: Test workflow maken (Stap C)

---

## ğŸ“š Meer Informatie

- Railway Docs: https://docs.railway.app
- Dashboard: https://railway.app/dashboard
- Status: https://status.railway.app
- Discord Support: https://discord.gg/railway
