# =============================================================================
# ZERO-COST CONFIGURATION
# =============================================================================
# Alle services hieronder zijn 100% GRATIS (geen creditcard nodig)
# Zie docs/COST_ANALYSIS.md voor details

# ZwiftRacing API Configuration (GRATIS API)
ZWIFT_API_KEY=650c6d2fc4ef6858d74cbef1
ZWIFT_API_BASE_URL=https://zwift-ranking.herokuapp.com
ZWIFT_CLUB_ID=11818

# Database Configuration (GRATIS - SQLite)
# ✅ Blijf bij SQLite = €0/maand (geen hosting kosten)
# ❌ PostgreSQL = €19-29/maand (niet nodig voor ons!)
DATABASE_URL="file:./dev.db"

# Production (Fly.io free tier):
# DATABASE_URL="file:/data/dev.db"

# Alleen als je écht PostgreSQL nodig hebt (kost geld!):
# DATABASE_URL="postgresql://user:password@localhost:5432/teamnl_cloud9"

# Server Configuration
PORT=3000
NODE_ENV=development

# Data Sync Configuration
SYNC_INTERVAL_MINUTES=60
ENABLE_AUTO_SYNC=true

# =============================================================================
# DATA SYNC SCHEDULING - Configureer per component
# =============================================================================

# 1. FAVORITE RIDERS SYNC (Workflow Step 2)
FAVORITES_SYNC_ENABLED=true
FAVORITES_SYNC_CRON=0 */6 * * *    # Elke 6 uur (04:00, 10:00, 16:00, 22:00)
FAVORITES_SYNC_ON_STARTUP=false     # Sync bij server start

# 2. CLUB ROSTERS SYNC (Workflow Step 4) 
CLUB_SYNC_ENABLED=true
CLUB_SYNC_CRON=0 */12 * * *        # Elke 12 uur (04:00, 16:00)
CLUB_SYNC_ON_STARTUP=false          # Sync bij server start

# 3. FORWARD EVENT SCAN (Workflow Step 5) - HOURLY BATCHES
FORWARD_SCAN_ENABLED=true
FORWARD_SCAN_CRON=0 * * * *         # Elk uur (kleine batches)
FORWARD_SCAN_MAX_EVENTS=10          # Kleine batches: 10 events/uur = 240/dag (~4 uur totaal)
FORWARD_SCAN_RETENTION_DAYS=100     # 100-day retention policy
FORWARD_SCAN_ON_STARTUP=false       # Scan bij server start (niet aanbevolen!)

# 4. DATA CLEANUP (Old events & results)
CLEANUP_ENABLED=true
CLEANUP_CRON=0 3 * * *              # Daily at 03:00 (voor forward scan)
CLEANUP_RETENTION_DAYS=100          # Events ouder dan 100 dagen soft delete
CLEANUP_GRACE_DAYS=7                # Results hard delete na 7 dagen grace
